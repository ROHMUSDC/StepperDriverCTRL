RASU8(ML610102)Relocatable Assembler, Ver.1.61.2    assemble list. page:   1 
 Source File: _output\_obj\main.asm
 Object File: _output\_obj\main.obj
 Date  : 2014/06/16 Mon.[19:44]
 Title : 
## Loc. Object                   Line   Source Statements

                                    1   ;; Compile Options : /TML610102 /MS /near /Icommon /Imain /Iirq /Itimer /Iclock /Itbc /SS 64 /SD /Oa /Ot /W 3 /Wc /Fa_output\_obj\ /Zs 
                                    2   ;; Version Number  : Ver.3.41.8
                                    3   ;; File Name       : main.c
                                    4   
                                    5   	type (ML610102) 
                                    6   	model small, near
                                    7   	$$NVARmain segment data 2h #0h
                                    8   	$$NINITVAR segment data 2h #0h
                                    9   	$$NINITTAB segment table 2h any
                                   10   	$$NTABmain segment table 2h #0h
                                   11   	$$ALL_LEDs_OFF$main segment code 2h #0h
                                   12   	$$ALL_LEDs_ON$main segment code 2h #0h
                                   13   	$$ButtonKnobCheck$main segment code 2h #0h
                                   14   	$$ContinuousMode$main segment code 2h #0h
                                   15   	$$DisableController$main segment code 2h #0h
                                   16   	$$EnableController$main segment code 2h #0h
                                   17   	$$EncoderDirection$main segment code 2h #0h
                                   18   	$$EncoderPostion$main segment code 2h #0h
                                   19   	$$Initialization$main segment code 2h #0h
                                   20   	$$LEDStateA$main segment code 2h #0h
                                   21   	$$LEDStateA1$main segment code 2h #0h
                                   22   	$$LEDStateA2$main segment code 2h #0h
                                   23   	$$LEDStateA3$main segment code 2h #0h
                                   24   	$$LEDStateA4$main segment code 2h #0h
                                   25   	$$LEDStateB$main segment code 2h #0h
                                   26   	$$LEDStateC$main segment code 2h #0h
                                   27   	$$LEDStateC1$main segment code 2h #0h
                                   28   	$$LEDStateC1A$main segment code 2h #0h
                                   29   	$$LEDStateC2$main segment code 2h #0h
                                   30   	$$LEDStateC2A$main segment code 2h #0h
                                   31   	$$LEDStateD$main segment code 2h #0h
                                   32   	$$LEDStateE$main segment code 2h #0h
                                   33   	$$MachineStateAction$main segment code 2h #0h
                                   34   	$$MotorRampUp$main segment code 2h #0h
                                   35   	$$NOP10uS$main segment code 2h #0h
                                   36   	$$NOP_ClkStep$main segment code 2h #0h
                                   37   	$$NOP_Long$main segment code 2h #0h
                                   38   	$$NOPxxx$main segment code 2h #0h
                                   39   	$$NOPyyy$main segment code 2h #0h
                                   40   	$$PinB0_PWM$main segment code 2h #0h
                                   41   	$$PortA_Digital_Inputs$main segment code 2h #0h
                                   42   	$$PortA_Low$main segment code 2h #0h
                                   43   	$$PortB_Low$main segment code 2h #0h
                                   44   	$$SetOSC$main segment code 2h #0h
                                   45   	$$Set_LEDs$main segment code 2h #0h
                                   46   	$$StepCCW$main segment code 2h #0h
                                   47   	$$StepCW$main segment code 2h #0h
                                   48   	$$ZeroFrequency$main segment code 2h #0h
                                   49   	$$analog_comparator$main segment code 2h #0h
                                   50   	$$main$main segment code 2h #0h
                                   51   	$$main_clrWDT$main segment code 2h #0h
                                   52   	$$myClockingPulse$main segment code 2h #0h
                                   53   	$$NTABButtonKnobCheck$main segment table 2h #0h
                                   54   	$$NTABMachineStateAction$main segment table 2h #0h
                                   55   	STACKSEG 040h
                                   56   CVERSION 3.41.8
                                   57   CGLOBAL 01H 03H 0000H "Set_LEDs" 08H 02H 87H 00H 81H 02H 00H 00H 07H
                                   58   CGLOBAL 01H 03H 0000H "main_clrWDT" 08H 02H 7AH 00H 80H 00H 00H 00H 07H
                                   59   CGLOBAL 01H 03H 0000H "NOP_ClkStep" 08H 02H 84H 00H 82H 04H 00H 00H 07H
                                   60   CGLOBAL 01H 03H 0000H "StepCW" 08H 02H 0A1H 00H 83H 0cH 00H 00H 07H
                                   61   CGLOBAL 01H 03H 0000H "EnableController" 08H 02H 9AH 00H 80H 00H 00H 00H 07H
                                   62   CGLOBAL 01H 03H 0000H "EncoderPostion" 08H 02H 9CH 00H 80H 00H 00H 00H 07H
                                   63   CSGLOBAL 03H 0000H "Initialization" 08H 02H 7BH 00H 81H 02H 00H 00H 07H
                                   64   CGLOBAL 01H 03H 0000H "PortA_Digital_Inputs" 08H 02H 80H 00H 80H 00H 00H 00H 07H
                                   65   CGLOBAL 01H 03H 0000H "main" 08H 02H 79H 00H 80H 00H 00H 00H 07H
                                   66   CGLOBAL 01H 03H 0000H "NOP_Long" 08H 02H 86H 00H 80H 00H 00H 00H 07H
                                   67   CGLOBAL 01H 03H 0000H "ZeroFrequency" 08H 02H 9FH 00H 80H 00H 00H 00H 07H
                                   68   CGLOBAL 01H 03H 0000H "ContinuousMode" 08H 02H 0A3H 00H 83H 30H 00H 00H 07H
                                   69   CSGLOBAL 03H 0000H "SetOSC" 08H 02H 7CH 00H 80H 00H 00H 00H 07H
                                   70   CGLOBAL 01H 03H 0000H "NOPyyy" 08H 02H 83H 00H 80H 00H 00H 00H 07H
                                   71   CGLOBAL 01H 03H 0000H "NOPxxx" 08H 02H 82H 00H 80H 00H 00H 00H 07H
                                   72   CGLOBAL 01H 03H 0000H "NOP10uS" 08H 02H 85H 00H 83H 06H 00H 00H 07H
                                   73   CGLOBAL 01H 03H 0000H "EncoderDirection" 08H 02H 9DH 00H 81H 02H 00H 00H 07H
                                   74   CGLOBAL 01H 03H 0000H "ALL_LEDs_ON" 08H 02H 89H 00H 80H 00H 00H 00H 07H
                                   75   CGLOBAL 01H 03H 0000H "LEDStateA4" 08H 02H 90H 00H 80H 00H 00H 00H 07H
                                   76   CGLOBAL 01H 03H 0000H "LEDStateC1" 08H 02H 93H 00H 80H 00H 00H 00H 07H
                                   77   CGLOBAL 01H 03H 0000H "LEDStateC2" 08H 02H 95H 00H 80H 00H 00H 00H 07H
                                   78   CGLOBAL 01H 03H 0000H "LEDStateA1" 08H 02H 8DH 00H 80H 00H 00H 00H 07H
                                   79   CGLOBAL 01H 03H 0000H "LEDStateA2" 08H 02H 8EH 00H 80H 00H 00H 00H 07H
                                   80   CGLOBAL 01H 03H 0000H "LEDStateA3" 08H 02H 8FH 00H 80H 00H 00H 00H 07H
                                   81   CGLOBAL 01H 03H 0000H "PortB_Low" 08H 02H 7EH 00H 80H 00H 00H 00H 07H
                                   82   CGLOBAL 01H 03H 0000H "MachineStateAction" 08H 02H 9EH 00H 81H 02H 00H 00H 07H
                                   83   CGLOBAL 01H 03H 0000H "ALL_LEDs_OFF" 08H 02H 8AH 00H 80H 00H 00H 00H 07H
                                   84   CGLOBAL 01H 03H 0000H "ButtonKnobCheck" 08H 02H 9BH 00H 81H 02H 00H 00H 07H
                                   85   CGLOBAL 01H 03H 0000H "StepCCW" 08H 02H 0A2H 00H 83H 0cH 00H 00H 07H
                                   86   CGLOBAL 01H 03H 0000H "MotorRampUp" 08H 02H 0A4H 00H 82H 08H 00H 00H 07H
                                   87   CGLOBAL 01H 03H 0000H "PortA_Low" 08H 02H 7DH 00H 80H 00H 00H 00H 07H
                                   88   CGLOBAL 01H 03H 0000H "DisableController" 08H 02H 99H 00H 80H 00H 00H 00H 07H
                                   89   CGLOBAL 01H 03H 0000H "analog_comparator" 08H 02H 0AEH 00H 80H 00H 00H 00H 07H
                                   90   CGLOBAL 01H 03H 0000H "LEDStateC1A" 08H 02H 94H 00H 80H 00H 00H 00H 07H
                                   91   CGLOBAL 01H 03H 0000H "LEDStateC2A" 08H 02H 96H 00H 80H 00H 00H 00H 07H
                                   92   CGLOBAL 01H 03H 0000H "LEDStateA" 08H 02H 8CH 00H 80H 00H 00H 00H 07H
                                   93   CGLOBAL 01H 03H 0000H "LEDStateB" 08H 02H 91H 00H 80H 00H 00H 00H 07H
                                   94   CGLOBAL 01H 03H 0000H "LEDStateC" 08H 02H 92H 00H 80H 00H 00H 00H 07H
                                   95   CGLOBAL 01H 03H 0000H "LEDStateD" 08H 02H 97H 00H 80H 00H 00H 00H 07H
                                   96   CGLOBAL 01H 03H 0000H "LEDStateE" 08H 02H 98H 00H 80H 00H 00H 00H 07H
                                   97   CGLOBAL 01H 03H 0000H "PinB0_PWM" 08H 02H 81H 00H 80H 00H 00H 00H 07H
                                   98   CGLOBAL 01H 03H 0000H "myClockingPulse" 08H 02H 8BH 00H 81H 02H 00H 00H 07H
                                   99   CSTRUCTTAG 0000H 0000H 0004H 000CH 00000016H "_Notag"
                                  100   CSTRUCTMEM 42H 00000002H 00000000H "_Mode" 02H 00H 08H
                                  101   CSTRUCTMEM 43H 00000002H 00000002H "_Handle" 02H 00H 08H
                                  102   CSTRUCTMEM 42H 00000002H 00000004H "_Buf" 04H 03H 00H 00H 00H
                                  103   CSTRUCTMEM 42H 00000002H 00000006H "_Bend" 04H 03H 00H 00H 00H
                                  104   CSTRUCTMEM 42H 00000002H 00000008H "_Next" 04H 03H 00H 00H 00H
                                  105   CSTRUCTMEM 42H 00000002H 0000000AH "_Rend" 04H 03H 00H 00H 00H
                                  106   CSTRUCTMEM 42H 00000002H 0000000CH "_Rsave" 04H 03H 00H 00H 00H
                                  107   CSTRUCTMEM 42H 00000002H 0000000EH "_Wend" 04H 03H 00H 00H 00H
                                  108   CSTRUCTMEM 42H 00000002H 00000010H "_Back" 05H 01H 02H 00H 00H 00H
                                  109   CSTRUCTMEM 42H 00000001H 00000012H "_Cbuf" 02H 00H 00H
                                  110   CSTRUCTMEM 42H 00000001H 00000013H "_Nback" 02H 00H 00H
                                  111   CSTRUCTMEM 43H 00000002H 00000014H "_Tmpnam" 04H 03H 00H 00H 00H
                                  112   CSTRUCTTAG 0000H 0000H 0003H 0001H 00000004H "_Notag"
                                  113   CSTRUCTMEM 42H 00000004H 00000000H "_Off" 02H 00H 02H
                                  114   CSTRUCTTAG 0000H 0000H 0002H 0002H 00000008H "_Notag"
                                  115   CSTRUCTMEM 43H 00000004H 00000000H "quot" 02H 00H 02H
                                  116   CSTRUCTMEM 43H 00000004H 00000004H "rem" 02H 00H 02H
                                  117   CSTRUCTTAG 0000H 0000H 0001H 0002H 00000004H "_Notag"
                                  118   CSTRUCTMEM 43H 00000002H 00000000H "quot" 02H 00H 01H
                                  119   CSTRUCTMEM 43H 00000002H 00000002H "rem" 02H 00H 01H
                                  120   CSTRUCTTAG 0000H 0000H 0000H 0008H 00000001H "_Notag"
                                  121   CSTRUCTMEM 52H 00000001H 00000000H "b0" 02H 00H 00H
                                  122   CSTRUCTMEM 52H 00000001H 00000001H "b1" 02H 00H 00H
                                  123   CSTRUCTMEM 52H 00000001H 00000002H "b2" 02H 00H 00H
                                  124   CSTRUCTMEM 52H 00000001H 00000003H "b3" 02H 00H 00H
                                  125   CSTRUCTMEM 52H 00000001H 00000004H "b4" 02H 00H 00H
                                  126   CSTRUCTMEM 52H 00000001H 00000005H "b5" 02H 00H 00H
                                  127   CSTRUCTMEM 52H 00000001H 00000006H "b6" 02H 00H 00H
                                  128   CSTRUCTMEM 52H 00000001H 00000007H "b7" 02H 00H 00H
                                  129   CUNIONTAG 0000H 0000H 0005H 0002H 00000008H "_Notag"
                                  130   CUNIONMEM 42H 00000008H "_W" 05H 01H 04H 00H 00H 08H
                                  131   CUNIONMEM 43H 00000008H "_D" 02H 00H 04H
                                  132   CTYPEDEF 0000H 0000H 01H "_Dconst" 04H 00H 06H 05H 00H
                                  133   CTYPEDEF 0000H 0000H 43H "_Ptrdifft" 02H 00H 01H
                                  134   CTYPEDEF 0000H 0000H 42H "_Sizet" 02H 00H 01H
                                  135   CTYPEDEF 0000H 0000H 42H "size_t" 02H 00H 01H
                                  136   CTYPEDEF 0000H 0000H 43H "fpos_t" 04H 00H 05H 03H 00H
                                  137   CTYPEDEF 0000H 0000H 03H "_Cmpfun_nf" 08H 02H 01H 00H 00H 00H 00H 00H 01H
                                  138   CTYPEDEF 0000H 0000H 03H "_Cmpfun_nn" 08H 02H 00H 00H 00H 00H 00H 00H 01H
                                  139   CTYPEDEF 0000H 0000H 03H "_Cmpfun_ff" 08H 02H 03H 00H 00H 00H 00H 00H 01H
                                  140   CTYPEDEF 0000H 0000H 03H "_Cmpfun_fn" 08H 02H 02H 00H 00H 00H 00H 00H 01H
                                  141   CTYPEDEF 0000H 0000H 43H "FILE" 04H 00H 05H 04H 00H
                                  142   CTYPEDEF 0000H 0000H 43H "div_t" 04H 00H 05H 01H 00H
                                  143   CTYPEDEF 0000H 0000H 43H "ldiv_t" 04H 00H 05H 02H 00H
                                  144   CTYPEDEF 0000H 0000H 43H "_BYTE_FIELD" 04H 00H 05H 00H 00H
                                  145   CSGLOBAL 43H 0001H "FULL_STEP_LED" 02H 00H 00H
                                  146   CSGLOBAL 43H 0001H "DRIVER_EN_RED_LED" 02H 00H 00H
                                  147   CGLOBAL 01H 42H 0002H "AbsolutePosition" 02H 00H 01H
                                  148   CSGLOBAL 43H 0001H "HALF_STEP_A_LED" 02H 00H 00H
                                  149   CGLOBAL 01H 42H 0002H "button_flag" 02H 00H 01H
                                  150   CSGLOBAL 43H 0001H "CONTINUOUS_LED" 02H 00H 00H
                                  151   CSGLOBAL 43H 0001H "HALF_STEP_B_LED" 02H 00H 00H
                                  152   CGLOBAL 01H 42H 0002H "EncoderPosition" 02H 00H 01H
                                  153   CSGLOBAL 43H 0001H "STEP_MODE_LED" 02H 00H 00H
                                  154   CSGLOBAL 43H 0001H "PASS_THRU_RED_LED" 02H 00H 00H
                                  155   CGLOBAL 01H 42H 0002H "previous_encoder_position" 02H 00H 01H
                                  156   CSGLOBAL 43H 0001H "DRIVER_EN_GREEN_LED" 02H 00H 00H
                                  157   CGLOBAL 01H 42H 0002H "previousDirection" 02H 00H 01H
                                  158   CSGLOBAL 42H 0002H "CCWClkPlseWidth" 02H 00H 01H
                                  159   CGLOBAL 01H 42H 0002H "mode" 02H 00H 01H
                                  160   CSGLOBAL 43H 0001H "SINGLE_LED" 02H 00H 00H
                                  161   CGLOBAL 01H 42H 0002H "direction" 02H 00H 01H
                                  162   CSGLOBAL 43H 0001H "PASS_THRU_GREEN_LED" 02H 00H 00H
                                  163   CGLOBAL 01H 42H 0002H "Frequency" 02H 00H 01H
                                  164   CSGLOBAL 42H 0002H "CWClkPlseWidth" 02H 00H 01H
                                  165   CSGLOBAL 43H 0001H "QUARTER_STEP_LED" 02H 00H 00H
                                  166   CSGLOBAL 43H 0001H "BUFFER_OE_PIN" 02H 00H 00H
                                  167   CFILE 0001H 000003F4H "C:\\Users\\cschell\\U8DEV~1\\Inc\\ML610102.H"
                                  168   CFILE 0002H 000000D8H "C:\\Users\\cschell\\U8DEV~1\\Inc\\stdlib.h"
                                  169   CFILE 0003H 0000007AH "C:\\Users\\cschell\\U8DEV~1\\Inc\\yvals.h"
                                  170   CFILE 0004H 000000EEH "C:\\Users\\cschell\\U8DEV~1\\Inc\\stdio.h"
                                  171   CFILE 0005H 00000027H "common\\common.h"
                                  172   CFILE 0006H 0000004FH "C:\\Users\\cschell\\U8DEV~1\\Inc\\math.h"
                                  173   CFILE 0000H 00000903H "src\\main.c"
                                  174   
  --------------------------      175   	rseg $$main$main
                                  176   CFUNCTION 121
                                  177   
00:0000                           178   _main	:
                                  179   CBLOCK 121 1 274
                                  180   
                                  181   ;;{
                                  182   CLINEA 0000H 0001H 0112H 0001H 0001H
                                  183   CBLOCK 121 2 274
                                  184   
                                  185   ;;	Initialization(); 		//Oscillator, Ports, UART, Timers, Comparators, LEDs, etc.
                                  186   CLINEA 0000H 0001H 0116H 0002H 004FH
00:0000 01-F0'00-00'              187   	bl	_Initialization
                                  188   
                                  189   ;;	DisableController(); 	//Disable Controller at PowerOn or RESET
                                  190   CLINEA 0000H 0001H 0117H 0002H 003FH
00:0004 01-F0'00-00'              191   	bl	_DisableController
                                  192   
                                  193   ;;	EncoderPostion();    	//EncoderPosition: 	1-4 Quadrature Encoder position	
                                  194   CLINEA 0000H 0001H 011AH 0002H 004BH
00:0008 01-F0'00-00'              195   	bl	_EncoderPostion
                                  196   
                                  197   ;;	previous_encoder_position = AbsolutePosition; 
                                  198   CLINEA 0000H 0001H 011BH 0002H 002FH
00:000C 12-90 00-00'              199   	l	er0,	NEAR _AbsolutePosition
00:0010 13-90 00-00'              200   	st	er0,	NEAR _previous_encoder_position
                                  201   
                                  202   ;;MainLoop:
                                  203   CLINEA 0000H 0001H 011DH 0001H 0009H
                                  204   CLABEL 0003H "MainLoop"
00:0014                           205   _$L3 :
                                  206   
                                  207   ;;	ButtonKnobCheck();  	//Check for BUTTION Press & KNOB Rotation	
                                  208   CLINEA 0000H 0001H 011FH 0002H 0040H
00:0014 01-F0'00-00'              209   	bl	_ButtonKnobCheck
                                  210   
                                  211   ;;	MachineStateAction();	//Act based on Machine State...
                                  212   CLINEA 0000H 0001H 0120H 0002H 0036H
00:0018 01-F0'00-00'              213   	bl	_MachineStateAction
                                  214   
                                  215   ;;goto MainLoop;
                                  216   CLINEA 0000H 0001H 0122H 0001H 000EH
00:001C FB CE                     217   	bal	_$L3
                                  218   CBLOCKEND 121 2 292
                                  219   
                                  220   ;;}  //END main Function
                                  221   CLINEA 0000H 0001H 0124H 0001H 0016H
                                  222   CBLOCKEND 121 1 292
                                  223   CFUNCTIONEND 121
                                  224   
                                  225   
  --------------------------      226   	rseg $$Initialization$main
                                  227   CFUNCTION 123
                                  228   
00:0000                           229   _Initialization	:
                                  230   CBLOCK 123 1 302
                                  231   
                                  232   ;;static void Initialization(void){
                                  233   CLINEA 0000H 0001H 012EH 0001H 0021H
00:0000 CE-F8                     234   	push	lr
                                  235   CBLOCK 123 2 302
                                  236   CRET 0000H
                                  237   
                                  238   ;;			DUA0  = 1; 		// 0=> Enables the operation of UART0 (initial value).
                                  239   CLINEA 0000H 0001H 0132H 0004H 0046H
00:0002 A0-A0 2A-F0               240   	sb	0f02ah.2
                                  241   
                                  242   ;;			BLKCON4 = 0x01; // 0=> Enables SA type ADC
                                  243   CLINEA 0000H 0001H 0134H 0004H 002DH
00:0006 01 00                     244   	mov	r0,	#01h
00:0008 11-90 2C-F0               245   	st	r0,	0f02ch
                                  246   
                                  247   ;;			BLKCON6 = 0x01; // (1=disables; 0=enables) the operation of Timers 8, 9, A, E, F.
                                  248   CLINEA 0000H 0001H 0135H 0004H 0054H
00:000C 11-90 2E-F0               249   	st	r0,	0f02eh
                                  250   
                                  251   ;;			BLKCON7 = 0x01; // (1=disables; 0=enables) the operation of PWM (PWMC)
                                  252   CLINEA 0000H 0001H 0136H 0004H 0049H
00:0010 11-90 2F-F0               253   	st	r0,	0f02fh
                                  254   
                                  255   ;;		PortA_Low();	//Initialize all 3 Ports of Port A to GPIO-Low
                                  256   CLINEA 0000H 0001H 0139H 0003H 003DH
00:0014 01-F0'00-00'              257   	bl	_PortA_Low
                                  258   
                                  259   ;;		PortB_Low();	//Initialize all 8 Ports of Port B to GPIO-Low
                                  260   CLINEA 0000H 0001H 013AH 0003H 003DH
00:0018 01-F0'00-00'              261   	bl	_PortB_Low
                                  262   
                                  263   ;;		PortA_Digital_Inputs();
                                  264   CLINEA 0000H 0001H 013DH 0003H 0019H
00:001C 01-F0'00-00'              265   	bl	_PortA_Digital_Inputs
                                  266   
                                  267   ;;     		SetOSC();
                                  268   CLINEA 0000H 0001H 0147H 0008H 0010H
00:0020 01-F0'00-00'              269   	bl	_SetOSC
                                  270   
                                  271   ;;		TM8D    = 0;	//Timer 8 DATA Register
                                  272   CLINEA 0000H 0001H 014FH 0003H 0026H
00:0024 00 00                     273   	mov	r0,	#00h
00:0026 11-90 E0-F8               274   	st	r0,	0f8e0h
                                  275   
                                  276   ;;		TM8C    = 0;	//Timer 8 CLOCK Register
                                  277   CLINEA 0000H 0001H 0152H 0003H 0027H
00:002A 11-90 E1-F8               278   	st	r0,	0f8e1h
                                  279   
                                  280   ;;		T8C1 = 0;	// 01 = HTBCLK  
                                  281   CLINEA 0000H 0001H 0157H 0003H 001CH
00:002E 92-A0 E1-F8               282   	rb	0f8e1h.1
                                  283   
                                  284   ;;		T8C0 = 1;
                                  285   CLINEA 0000H 0001H 0158H 0003H 000BH
00:0032 80-A0 E1-F8               286   	sb	0f8e1h.0
                                  287   
                                  288   ;;		T89M16 = 0;	// 0=8-Bit Mode; 1=16bit Mode...
                                  289   CLINEA 0000H 0001H 015AH 0003H 002EH
00:0036 D2-A0 E2-F8               290   	rb	0f8e2h.5
                                  291   
                                  292   ;;		T8OST = 0;	// 0=Normal; 1=One-Shot...
                                  293   CLINEA 0000H 0001H 015CH 0003H 0027H
00:003A F2-A0 E2-F8               294   	rb	0f8e2h.7
                                  295   
                                  296   ;;		T8RUN = 0;	//0=STOP; 1=START...
                                  297   CLINEA 0000H 0001H 015FH 0003H 0021H
00:003E 82-A0 E3-F8               298   	rb	0f8e3h.0
                                  299   
                                  300   ;;		IE0 = IE1 = IE2 = IE3 = IE4 = IE5 = IE6 = IE7 = 0;
                                  301   CLINEA 0000H 0001H 0173H 0003H 0034H
00:0042 11-90 17-F0               302   	st	r0,	0f017h
00:0046 11-90 16-F0               303   	st	r0,	0f016h
00:004A 11-90 15-F0               304   	st	r0,	0f015h
00:004E 11-90 14-F0               305   	st	r0,	0f014h
00:0052 11-90 13-F0               306   	st	r0,	0f013h
00:0056 11-90 12-F0               307   	st	r0,	0f012h
00:005A 11-90 11-F0               308   	st	r0,	0f011h
00:005E 11-90 10-F0               309   	st	r0,	0f010h
                                  310   
                                  311   ;;		IRQ0 = IRQ1 = IRQ2 = IRQ3 = IRQ4 = IRQ5 = IRQ6 = IRQ7 = 0;
                                  312   CLINEA 0000H 0001H 017EH 0003H 003CH
00:0062 11-90 1F-F0               313   	st	r0,	0f01fh
00:0066 11-90 1E-F0               314   	st	r0,	0f01eh
00:006A 11-90 1D-F0               315   	st	r0,	0f01dh
00:006E 11-90 1C-F0               316   	st	r0,	0f01ch
00:0072 11-90 1B-F0               317   	st	r0,	0f01bh
00:0076 11-90 1A-F0               318   	st	r0,	0f01ah
00:007A 11-90 19-F0               319   	st	r0,	0f019h
00:007E 11-90 18-F0               320   	st	r0,	0f018h
                                  321   
                                  322   ;;		E2H = 0; 	// E2H is the Enable flag for 2Hz TBC Interrupt (1=ENABLED)
                                  323   CLINEA 0000H 0001H 0181H 0003H 0047H
00:0082 B2-A0 17-F0               324   	rb	0f017h.3
                                  325   
                                  326   ;;		STEP_MODE_LED 		= 1; // Bit D2  => "STEP MODE" LED 		(Orange)
                                  327   CLINEA 0000H 0001H 0190H 0003H 003FH
00:0086 01 00                     328   	mov	r0,	#01h
00:0088 11-90 00-00'              329   	st	r0,	NEAR _STEP_MODE_LED
                                  330   
                                  331   ;;	  	FULL_STEP_LED 		= 0; // Bit D7  => "FULL STEP" LED		(YELLOW)
                                  332   CLINEA 0000H 0001H 0191H 0005H 0040H
00:008C 00 00                     333   	mov	r0,	#00h
00:008E 11-90 00-00'              334   	st	r0,	NEAR _FULL_STEP_LED
                                  335   
                                  336   ;;	  	HALF_STEP_A_LED 		= 0; // Bit D8  => "HALF STEP A" LED	(YELLOW)
                                  337   CLINEA 0000H 0001H 0192H 0005H 0043H
00:0092 11-90 00-00'              338   	st	r0,	NEAR _HALF_STEP_A_LED
                                  339   
                                  340   ;;	  	HALF_STEP_B_LED 		= 0; // Bit D9  => "HALF STEP B" LED	(YELLOW)
                                  341   CLINEA 0000H 0001H 0193H 0005H 0043H
00:0096 11-90 00-00'              342   	st	r0,	NEAR _HALF_STEP_B_LED
                                  343   
                                  344   ;;	  	QUARTER_STEP_LED 		= 0; // Bit D10 => "QUARTER STEP" LED	(YELLOW)
                                  345   CLINEA 0000H 0001H 0194H 0005H 0045H
00:009A 11-90 00-00'              346   	st	r0,	NEAR _QUARTER_STEP_LED
                                  347   
                                  348   ;;		DRIVER_EN_RED_LED 	= 0; // Bit D6  => "DRIVER ENABLED" LED  	(RED)
                                  349   CLINEA 0000H 0001H 0196H 0003H 0044H
00:009E 11-90 00-00'              350   	st	r0,	NEAR _DRIVER_EN_RED_LED
                                  351   
                                  352   ;;		DRIVER_EN_GREEN_LED	= 0; // Bit D5  => "DRIVER ENABLED" LED 	(GREEN)
                                  353   CLINEA 0000H 0001H 0197H 0003H 0046H
00:00A2 11-90 00-00'              354   	st	r0,	NEAR _DRIVER_EN_GREEN_LED
                                  355   
                                  356   ;;	  	SINGLE_LED 			= 0; // Bit D0  => "SINGLE" LED 		(Orange)
                                  357   CLINEA 0000H 0001H 0199H 0005H 003CH
00:00A6 11-90 00-00'              358   	st	r0,	NEAR _SINGLE_LED
                                  359   
                                  360   ;;	  	CONTINUOUS_LED 		= 0; // Bit D1  => "CONTINUOUS" LED 	(Orange)
                                  361   CLINEA 0000H 0001H 019AH 0005H 0042H
00:00AA 11-90 00-00'              362   	st	r0,	NEAR _CONTINUOUS_LED
                                  363   
                                  364   ;;		PASS_THRU_GREEN_LED 	= 0; // Bit D3  => "PASS THRU" LED		(GREEN)
                                  365   CLINEA 0000H 0001H 019CH 0003H 0042H
00:00AE 11-90 00-00'              366   	st	r0,	NEAR _PASS_THRU_GREEN_LED
                                  367   
                                  368   ;;		PASS_THRU_RED_LED 	= 0; // Bit D4  => "PASS THRU" LED		(RED)
                                  369   CLINEA 0000H 0001H 019DH 0003H 003EH
00:00B2 11-90 00-00'              370   	st	r0,	NEAR _PASS_THRU_RED_LED
                                  371   
                                  372   ;;		BUFFER_OE_PIN 		= 0; // Bit D11 => Octal Buffer_OE
                                  373   CLINEA 0000H 0001H 019FH 0003H 0034H
00:00B6 11-90 00-00'              374   	st	r0,	NEAR _BUFFER_OE_PIN
                                  375   
                                  376   ;;		Set_LEDs();		// Send 12-Bit Data to BD8377 Driver, Clock & Latch
                                  377   CLINEA 0000H 0001H 01A1H 0003H 0042H
00:00BA 01-F0'00-00'              378   	bl	_Set_LEDs
                                  379   
                                  380   ;;		mode = 1; 					//Initialize "mode" to Step-MODE
                                  381   CLINEA 0000H 0001H 01A5H 0003H 0031H
00:00BE 01 E0                     382   	mov	er0,	#1 
00:00C0 13-90 00-00'              383   	st	er0,	NEAR _mode
                                  384   
                                  385   ;;		direction = 0;				//Initialize "direction" to 0
                                  386   CLINEA 0000H 0001H 01A6H 0003H 0031H
00:00C4 00 E0                     387   	mov	er0,	#0 
00:00C6 13-90 00-00'              388   	st	er0,	NEAR _direction
                                  389   
                                  390   ;;		AbsolutePosition = 0;		//Initialize "AbsolutePosition " to 0
                                  391   CLINEA 0000H 0001H 01A7H 0003H 003EH
00:00CA 13-90 00-00'              392   	st	er0,	NEAR _AbsolutePosition
                                  393   
                                  394   ;;		button_flag = 0;			//Initialize "button_flag" to 0
                                  395   CLINEA 0000H 0001H 01A8H 0003H 0034H
00:00CE 13-90 00-00'              396   	st	er0,	NEAR _button_flag
                                  397   
                                  398   ;;		Frequency = 0;				//Initialize "Frequency " to 0
                                  399   CLINEA 0000H 0001H 01A9H 0003H 0032H
00:00D2 13-90 00-00'              400   	st	er0,	NEAR _Frequency
                                  401   
                                  402   ;;	WDTMOD = 0x03; 	// 0x03=overflow 8sec...
                                  403   CLINEA 0000H 0001H 01ACH 0002H 0029H
00:00D6 03 00                     404   	mov	r0,	#03h
00:00D8 11-90 0F-F0               405   	st	r0,	0f00fh
                                  406   
                                  407   ;;	main_clrWDT(); 	// Clear WDT
                                  408   CLINEA 0000H 0001H 01ADH 0002H 001DH
00:00DC 01-F0'00-00'              409   	bl	_main_clrWDT
                                  410   CBLOCKEND 123 2 431
                                  411   
                                  412   ;;} //END Initialization Function
                                  413   CLINEA 0000H 0001H 01AFH 0001H 001FH
00:00E0 8E-F2                     414   	pop	pc
                                  415   CBLOCKEND 123 1 431
                                  416   CFUNCTIONEND 123
                                  417   
                                  418   
  --------------------------      419   	rseg $$main_clrWDT$main
                                  420   CFUNCTION 122
                                  421   
00:0000                           422   _main_clrWDT	:
                                  423   CBLOCK 122 1 440
                                  424   
                                  425   ;;{
                                  426   CLINEA 0000H 0001H 01B8H 0001H 0001H
                                  427   CBLOCK 122 2 440
                                  428   
                                  429   ;;	do {
                                  430   CLINEA 0000H 0001H 01BBH 0002H 0005H
00:0000                           431   _$L9 :
                                  432   CBLOCK 122 3 443
                                  433   
                                  434   ;;		WDTCON = 0x5Au;
                                  435   CLINEA 0000H 0001H 01BCH 0003H 0011H
00:0000 5A 00                     436   	mov	r0,	#05ah
00:0002 11-90 0E-F0               437   	st	r0,	0f00eh
                                  438   CBLOCKEND 122 3 445
                                  439   
                                  440   ;;	} while (WDP != 1);
                                  441   CLINEA 0000H 0000H 01BDH 0002H 0014H
00:0006 81-A0 0E-F0               442   	tb	0f00eh.0
00:000A FA C9                     443   	beq	_$L9
                                  444   
                                  445   ;;	WDTCON = 0xA5u;
                                  446   CLINEA 0000H 0001H 01BEH 0002H 0010H
00:000C A5 00                     447   	mov	r0,	#0a5h
00:000E 11-90 0E-F0               448   	st	r0,	0f00eh
                                  449   CBLOCKEND 122 2 447
                                  450   
                                  451   ;;} //END main_clrWDT Function
                                  452   CLINEA 0000H 0001H 01BFH 0001H 001CH
00:0012 1F-FE                     453   	rt
                                  454   CBLOCKEND 122 1 447
                                  455   CFUNCTIONEND 122
                                  456   
                                  457   
  --------------------------      458   	rseg $$SetOSC$main
                                  459   CFUNCTION 124
                                  460   
00:0000                           461   _SetOSC	:
                                  462   CBLOCK 124 1 455
                                  463   
                                  464   ;;static void SetOSC(void){
                                  465   CLINEA 0000H 0001H 01C7H 0001H 0019H
                                  466   CBLOCK 124 2 455
                                  467   
                                  468   ;;	SYSC0  = 0;			// Used to select the frequency of the HSCLK => 00=8.192MHz.
                                  469   CLINEA 0000H 0001H 01CAH 0002H 004BH
00:0000 82-A0 02-F0               470   	rb	0f002h.0
                                  471   
                                  472   ;;	SYSC1  = 0;
                                  473   CLINEA 0000H 0001H 01CBH 0002H 000CH
00:0004 92-A0 02-F0               474   	rb	0f002h.1
                                  475   
                                  476   ;;	OSCM1  = 1;			// 10 => Built-in PLL oscillation mode
                                  477   CLINEA 0000H 0001H 01CDH 0002H 0035H
00:0008 B0-A0 02-F0               478   	sb	0f002h.3
                                  479   
                                  480   ;;	OSCM0  = 0;
                                  481   CLINEA 0000H 0001H 01CEH 0002H 000CH
00:000C A2-A0 02-F0               482   	rb	0f002h.2
                                  483   
                                  484   ;;	ENOSC  = 1;			// 1=Enable High Speed Oscillator...MUST ENABLE before setting SYSTEM CLOCK!
                                  485   CLINEA 0000H 0001H 01D0H 0002H 005BH
00:0010 90-A0 03-F0               486   	sb	0f003h.1
                                  487   
                                  488   ;;	SYSCLK = 1;			// 1=HSCLK; 0=LSCLK (MUST set ENOSC = 1 first) 
                                  489   CLINEA 0000H 0001H 01D1H 0002H 003EH
00:0014 80-A0 03-F0               490   	sb	0f003h.0
                                  491   
                                  492   ;;	LPLL   = 1;			// 1=Enables the use of PLL oscillation - ADDED 4/30/2013
                                  493   CLINEA 0000H 0001H 01D3H 0002H 0048H
00:0018 F0-A0 03-F0               494   	sb	0f003h.7
                                  495   
                                  496   ;;	__EI();			// INT enable
                                  497   CLINEA 0000H 0001H 01D5H 0002H 0018H
00:001C 08-ED                     498   	ei
                                  499   CBLOCKEND 124 2 470
                                  500   
                                  501   ;;} //END SetOSC Function
                                  502   CLINEA 0000H 0001H 01D6H 0001H 0017H
00:001E 1F-FE                     503   	rt
                                  504   CBLOCKEND 124 1 470
                                  505   CFUNCTIONEND 124
                                  506   
                                  507   
  --------------------------      508   	rseg $$PortA_Low$main
                                  509   CFUNCTION 125
                                  510   
00:0000                           511   _PortA_Low	:
                                  512   CBLOCK 125 1 478
                                  513   
                                  514   ;;void PortA_Low(void){
                                  515   CLINEA 0000H 0001H 01DEH 0001H 0015H
                                  516   CBLOCK 125 2 478
                                  517   
                                  518   ;;	PA0DIR = 0;		// PortA Bit0 set to Output Mode...
                                  519   CLINEA 0000H 0001H 01E8H 0002H 0031H
00:0000 82-A0 51-F2               520   	rb	0f251h.0
                                  521   
                                  522   ;;	PA1DIR = 0;		// PortA Bit1 set to Output Mode...
                                  523   CLINEA 0000H 0001H 01E9H 0002H 0031H
00:0004 92-A0 51-F2               524   	rb	0f251h.1
                                  525   
                                  526   ;;	PA2DIR = 0;		// PortA Bit2 set to Output Mode...
                                  527   CLINEA 0000H 0001H 01EAH 0002H 0031H
00:0008 A2-A0 51-F2               528   	rb	0f251h.2
                                  529   
                                  530   ;;	PA0C1  = 1;		// PortA Bit0 set to CMOS Output...
                                  531   CLINEA 0000H 0001H 01EDH 0002H 0031H
00:000C 80-A0 53-F2               532   	sb	0f253h.0
                                  533   
                                  534   ;;	PA0C0  = 1;		
                                  535   CLINEA 0000H 0001H 01EEH 0002H 000EH
00:0010 80-A0 52-F2               536   	sb	0f252h.0
                                  537   
                                  538   ;;	PA1C1  = 1;		// PortA Bit1 set to CMOS Output...
                                  539   CLINEA 0000H 0001H 01EFH 0002H 0031H
00:0014 90-A0 53-F2               540   	sb	0f253h.1
                                  541   
                                  542   ;;	PA1C0  = 1;	
                                  543   CLINEA 0000H 0001H 01F0H 0002H 000DH
00:0018 90-A0 52-F2               544   	sb	0f252h.1
                                  545   
                                  546   ;;	PA2C1  = 1;		// PortA Bit2 set to CMOS Output...
                                  547   CLINEA 0000H 0001H 01F1H 0002H 0031H
00:001C A0-A0 53-F2               548   	sb	0f253h.2
                                  549   
                                  550   ;;	PA2C0  = 1;	
                                  551   CLINEA 0000H 0001H 01F2H 0002H 000DH
00:0020 A0-A0 52-F2               552   	sb	0f252h.2
                                  553   
                                  554   ;;	PA0MD1  = 0;	// PortA Bit0 set to General Purpose Output...
                                  555   CLINEA 0000H 0001H 01F5H 0002H 003CH
00:0024 82-A0 55-F2               556   	rb	0f255h.0
                                  557   
                                  558   ;;	PA0MD0  = 0;	
                                  559   CLINEA 0000H 0001H 01F6H 0002H 000EH
00:0028 82-A0 54-F2               560   	rb	0f254h.0
                                  561   
                                  562   ;;	PA1MD1  = 0;	// PortA Bit1 set to General Purpose Output...
                                  563   CLINEA 0000H 0001H 01F7H 0002H 003CH
00:002C 92-A0 55-F2               564   	rb	0f255h.1
                                  565   
                                  566   ;;	PA1MD0  = 0;	
                                  567   CLINEA 0000H 0001H 01F8H 0002H 000EH
00:0030 92-A0 54-F2               568   	rb	0f254h.1
                                  569   
                                  570   ;;	PA2MD1  = 0;	// PortA Bit2 set to General Purpose Output...
                                  571   CLINEA 0000H 0001H 01F9H 0002H 003CH
00:0034 A2-A0 55-F2               572   	rb	0f255h.2
                                  573   
                                  574   ;;	PA2MD0  = 0;	
                                  575   CLINEA 0000H 0001H 01FAH 0002H 000EH
00:0038 A2-A0 54-F2               576   	rb	0f254h.2
                                  577   
                                  578   ;;	PA0D = 0;		// A.0 Output OFF....
                                  579   CLINEA 0000H 0001H 01FDH 0002H 0021H
00:003C 82-A0 50-F2               580   	rb	0f250h.0
                                  581   
                                  582   ;;	PA1D = 0;		// A.1 Output OFF....
                                  583   CLINEA 0000H 0001H 01FEH 0002H 0021H
00:0040 92-A0 50-F2               584   	rb	0f250h.1
                                  585   
                                  586   ;;	PA2D = 0;		// A.2 Output OFF....
                                  587   CLINEA 0000H 0001H 01FFH 0002H 0021H
00:0044 A2-A0 50-F2               588   	rb	0f250h.2
                                  589   CBLOCKEND 125 2 513
                                  590   
                                  591   ;;}  //END PortA_Low Function
                                  592   CLINEA 0000H 0001H 0201H 0001H 001BH
00:0048 1F-FE                     593   	rt
                                  594   CBLOCKEND 125 1 513
                                  595   CFUNCTIONEND 125
                                  596   
                                  597   
  --------------------------      598   	rseg $$PortB_Low$main
                                  599   CFUNCTION 126
                                  600   
00:0000                           601   _PortB_Low	:
                                  602   CBLOCK 126 1 520
                                  603   
                                  604   ;;void PortB_Low(void){
                                  605   CLINEA 0000H 0001H 0208H 0001H 0015H
                                  606   CBLOCK 126 2 520
                                  607   
                                  608   ;;	PB0DIR = 0;		// PortB Bit0 set to Output Mode...
                                  609   CLINEA 0000H 0001H 0212H 0002H 0031H
00:0000 82-A0 59-F2               610   	rb	0f259h.0
                                  611   
                                  612   ;;	PB1DIR = 0;		// PortB Bit1 set to Output Mode...
                                  613   CLINEA 0000H 0001H 0213H 0002H 0031H
00:0004 92-A0 59-F2               614   	rb	0f259h.1
                                  615   
                                  616   ;;	PB2DIR = 0;		// PortB Bit2 set to Output Mode...
                                  617   CLINEA 0000H 0001H 0214H 0002H 0031H
00:0008 A2-A0 59-F2               618   	rb	0f259h.2
                                  619   
                                  620   ;;	PB3DIR = 0;		// PortB Bit3 set to Output Mode...
                                  621   CLINEA 0000H 0001H 0215H 0002H 0031H
00:000C B2-A0 59-F2               622   	rb	0f259h.3
                                  623   
                                  624   ;;	PB4DIR = 0;		// PortB Bit4 set to Output Mode...
                                  625   CLINEA 0000H 0001H 0216H 0002H 0031H
00:0010 C2-A0 59-F2               626   	rb	0f259h.4
                                  627   
                                  628   ;;	PB5DIR = 0;		// PortB Bit5 set to Output Mode...
                                  629   CLINEA 0000H 0001H 0217H 0002H 0031H
00:0014 D2-A0 59-F2               630   	rb	0f259h.5
                                  631   
                                  632   ;;	PB6DIR = 0;		// PortB Bit6 set to Output Mode...
                                  633   CLINEA 0000H 0001H 0218H 0002H 0031H
00:0018 E2-A0 59-F2               634   	rb	0f259h.6
                                  635   
                                  636   ;;	PB7DIR = 0;		// PortB Bit7 set to Output Mode...
                                  637   CLINEA 0000H 0001H 0219H 0002H 0031H
00:001C F2-A0 59-F2               638   	rb	0f259h.7
                                  639   
                                  640   ;;	PB0C1  = 1;		// PortB Bit0 set to CMOS Output...
                                  641   CLINEA 0000H 0001H 021CH 0002H 0031H
00:0020 80-A0 5B-F2               642   	sb	0f25bh.0
                                  643   
                                  644   ;;	PB0C0  = 1;		
                                  645   CLINEA 0000H 0001H 021DH 0002H 000EH
00:0024 80-A0 5A-F2               646   	sb	0f25ah.0
                                  647   
                                  648   ;;	PB1C1  = 1;		// PortB Bit1 set to CMOS Output...
                                  649   CLINEA 0000H 0001H 021EH 0002H 0031H
00:0028 90-A0 5B-F2               650   	sb	0f25bh.1
                                  651   
                                  652   ;;	PB1C0  = 1;	
                                  653   CLINEA 0000H 0001H 021FH 0002H 000DH
00:002C 90-A0 5A-F2               654   	sb	0f25ah.1
                                  655   
                                  656   ;;	PB2C1  = 1;		// PortB Bit2 set to CMOS Output...
                                  657   CLINEA 0000H 0001H 0220H 0002H 0031H
00:0030 A0-A0 5B-F2               658   	sb	0f25bh.2
                                  659   
                                  660   ;;	PB2C0  = 1;	
                                  661   CLINEA 0000H 0001H 0221H 0002H 000DH
00:0034 A0-A0 5A-F2               662   	sb	0f25ah.2
                                  663   
                                  664   ;;	PB3C1  = 1;		// PortB Bit3 set to CMOS Output...
                                  665   CLINEA 0000H 0001H 0222H 0002H 0031H
00:0038 B0-A0 5B-F2               666   	sb	0f25bh.3
                                  667   
                                  668   ;;	PB3C0  = 1;		
                                  669   CLINEA 0000H 0001H 0223H 0002H 000EH
00:003C B0-A0 5A-F2               670   	sb	0f25ah.3
                                  671   
                                  672   ;;	PB4C1  = 1;		// PortB Bit4 set to CMOS Output...
                                  673   CLINEA 0000H 0001H 0224H 0002H 0031H
00:0040 C0-A0 5B-F2               674   	sb	0f25bh.4
                                  675   
                                  676   ;;	PB4C0  = 1;	
                                  677   CLINEA 0000H 0001H 0225H 0002H 000DH
00:0044 C0-A0 5A-F2               678   	sb	0f25ah.4
                                  679   
                                  680   ;;	PB5C1  = 1;		// PortB Bit5 set to CMOS Output...
                                  681   CLINEA 0000H 0001H 0226H 0002H 0031H
00:0048 D0-A0 5B-F2               682   	sb	0f25bh.5
                                  683   
                                  684   ;;	PB5C0  = 1;	
                                  685   CLINEA 0000H 0001H 0227H 0002H 000DH
00:004C D0-A0 5A-F2               686   	sb	0f25ah.5
                                  687   
                                  688   ;;	PB6C1  = 1;		// PortB Bit6 set to CMOS Output...
                                  689   CLINEA 0000H 0001H 0228H 0002H 0031H
00:0050 E0-A0 5B-F2               690   	sb	0f25bh.6
                                  691   
                                  692   ;;	PB6C0  = 1;	
                                  693   CLINEA 0000H 0001H 0229H 0002H 000DH
00:0054 E0-A0 5A-F2               694   	sb	0f25ah.6
                                  695   
                                  696   ;;	PB7C1  = 1;		// PortB Bit7 set to CMOS Output...
                                  697   CLINEA 0000H 0001H 022AH 0002H 0031H
00:0058 F0-A0 5B-F2               698   	sb	0f25bh.7
                                  699   
                                  700   ;;	PB7C0  = 1;	
                                  701   CLINEA 0000H 0001H 022BH 0002H 000DH
00:005C F0-A0 5A-F2               702   	sb	0f25ah.7
                                  703   
                                  704   ;;	PB0MD1  = 0;	// PortB Bit0 set to General Purpose Output...
                                  705   CLINEA 0000H 0001H 022EH 0002H 003CH
00:0060 82-A0 5D-F2               706   	rb	0f25dh.0
                                  707   
                                  708   ;;	PB0MD0  = 0;	
                                  709   CLINEA 0000H 0001H 022FH 0002H 000EH
00:0064 82-A0 5C-F2               710   	rb	0f25ch.0
                                  711   
                                  712   ;;	PB1MD1  = 0;	// PortB Bit1 set to General Purpose Output...
                                  713   CLINEA 0000H 0001H 0230H 0002H 003CH
00:0068 92-A0 5D-F2               714   	rb	0f25dh.1
                                  715   
                                  716   ;;	PB1MD0  = 0;	
                                  717   CLINEA 0000H 0001H 0231H 0002H 000EH
00:006C 92-A0 5C-F2               718   	rb	0f25ch.1
                                  719   
                                  720   ;;	PB2MD1  = 0;	// PortB Bit2 set to General Purpose Output...
                                  721   CLINEA 0000H 0001H 0232H 0002H 003CH
00:0070 A2-A0 5D-F2               722   	rb	0f25dh.2
                                  723   
                                  724   ;;	PB2MD0  = 0;	
                                  725   CLINEA 0000H 0001H 0233H 0002H 000EH
00:0074 A2-A0 5C-F2               726   	rb	0f25ch.2
                                  727   
                                  728   ;;	PB3MD1  = 0;	// PortB Bit3 set to General Purpose Output...
                                  729   CLINEA 0000H 0001H 0234H 0002H 003CH
00:0078 B2-A0 5D-F2               730   	rb	0f25dh.3
                                  731   
                                  732   ;;	PB3MD0  = 0;	
                                  733   CLINEA 0000H 0001H 0235H 0002H 000EH
00:007C B2-A0 5C-F2               734   	rb	0f25ch.3
                                  735   
                                  736   ;;	PB4MD1  = 0;	// PortB Bit4 set to General Purpose Output...
                                  737   CLINEA 0000H 0001H 0236H 0002H 003CH
00:0080 C2-A0 5D-F2               738   	rb	0f25dh.4
                                  739   
                                  740   ;;	PB4MD0  = 0;	
                                  741   CLINEA 0000H 0001H 0237H 0002H 000EH
00:0084 C2-A0 5C-F2               742   	rb	0f25ch.4
                                  743   
                                  744   ;;	PB5MD1  = 0;	// PortB Bit5 set to General Purpose Output...
                                  745   CLINEA 0000H 0001H 0238H 0002H 003CH
00:0088 D2-A0 5D-F2               746   	rb	0f25dh.5
                                  747   
                                  748   ;;	PB5MD0  = 0;
                                  749   CLINEA 0000H 0001H 0239H 0002H 000DH
00:008C D2-A0 5C-F2               750   	rb	0f25ch.5
                                  751   
                                  752   ;;	PB6MD1  = 0;	// PortB Bit6 set to General Purpose Output...
                                  753   CLINEA 0000H 0001H 023AH 0002H 003CH
00:0090 E2-A0 5D-F2               754   	rb	0f25dh.6
                                  755   
                                  756   ;;	PB6MD0  = 0;	
                                  757   CLINEA 0000H 0001H 023BH 0002H 000EH
00:0094 E2-A0 5C-F2               758   	rb	0f25ch.6
                                  759   
                                  760   ;;	PB7MD1  = 0;	// PortB Bit7 set to General Purpose Output...
                                  761   CLINEA 0000H 0001H 023CH 0002H 003CH
00:0098 F2-A0 5D-F2               762   	rb	0f25dh.7
                                  763   
                                  764   ;;	PB7MD0  = 0;
                                  765   CLINEA 0000H 0001H 023DH 0002H 000DH
00:009C F2-A0 5C-F2               766   	rb	0f25ch.7
                                  767   
                                  768   ;;	PB0D = 0;		// B.0 Output OFF....
                                  769   CLINEA 0000H 0001H 0240H 0002H 0021H
00:00A0 82-A0 58-F2               770   	rb	0f258h.0
                                  771   
                                  772   ;;	PB1D = 0;		// B.1 Output OFF....
                                  773   CLINEA 0000H 0001H 0241H 0002H 0021H
00:00A4 92-A0 58-F2               774   	rb	0f258h.1
                                  775   
                                  776   ;;	PB2D = 0;		// B.2 Output OFF....
                                  777   CLINEA 0000H 0001H 0242H 0002H 0021H
00:00A8 A2-A0 58-F2               778   	rb	0f258h.2
                                  779   
                                  780   ;;	PB3D = 0;		// B.3 Output OFF....
                                  781   CLINEA 0000H 0001H 0243H 0002H 0021H
00:00AC B2-A0 58-F2               782   	rb	0f258h.3
                                  783   
                                  784   ;;	PB4D = 0;		// B.4 Output OFF....
                                  785   CLINEA 0000H 0001H 0244H 0002H 0021H
00:00B0 C2-A0 58-F2               786   	rb	0f258h.4
                                  787   
                                  788   ;;	PB5D = 0;		// B.5 Output OFF....
                                  789   CLINEA 0000H 0001H 0245H 0002H 0021H
00:00B4 D2-A0 58-F2               790   	rb	0f258h.5
                                  791   
                                  792   ;;	PB6D = 0;		// B.6 Output OFF....
                                  793   CLINEA 0000H 0001H 0246H 0002H 0021H
00:00B8 E2-A0 58-F2               794   	rb	0f258h.6
                                  795   
                                  796   ;;	PB7D = 0;		// B.7 Output OFF....
                                  797   CLINEA 0000H 0001H 0247H 0002H 0021H
00:00BC F2-A0 58-F2               798   	rb	0f258h.7
                                  799   CBLOCKEND 126 2 585
                                  800   
                                  801   ;;}  //END PortB_Low Function
                                  802   CLINEA 0000H 0001H 0249H 0001H 001BH
00:00C0 1F-FE                     803   	rt
                                  804   CBLOCKEND 126 1 585
                                  805   CFUNCTIONEND 126
                                  806   
                                  807   
  --------------------------      808   	rseg $$PortA_Digital_Inputs$main
                                  809   CFUNCTION 128
                                  810   
00:0000                           811   _PortA_Digital_Inputs	:
                                  812   CBLOCK 128 1 592
                                  813   
                                  814   ;;void PortA_Digital_Inputs(void){
                                  815   CLINEA 0000H 0001H 0250H 0001H 0020H
                                  816   CBLOCK 128 2 592
                                  817   
                                  818   ;;	PA0DIR = 1;		// PortA Bit0 set to Input Mode...
                                  819   CLINEA 0000H 0001H 025AH 0002H 0030H
00:0000 80-A0 51-F2               820   	sb	0f251h.0
                                  821   
                                  822   ;;	PA1DIR = 1;		// PortA Bit1 set to Input Mode...
                                  823   CLINEA 0000H 0001H 025BH 0002H 0030H
00:0004 90-A0 51-F2               824   	sb	0f251h.1
                                  825   
                                  826   ;;	PA2DIR = 1;		// PortA Bit2 set to Input Mode...
                                  827   CLINEA 0000H 0001H 025CH 0002H 0030H
00:0008 A0-A0 51-F2               828   	sb	0f251h.2
                                  829   
                                  830   ;;	PA0C1  = 1;		// PortA Bit0 set to Input with Pull-Up Resistor...
                                  831   CLINEA 0000H 0001H 0260H 0002H 0041H
00:000C 80-A0 53-F2               832   	sb	0f253h.0
                                  833   
                                  834   ;;	PA0C0  = 0;		
                                  835   CLINEA 0000H 0001H 0261H 0002H 000EH
00:0010 82-A0 52-F2               836   	rb	0f252h.0
                                  837   
                                  838   ;;	PA1C1  = 1;		// PortA Bit1 set to Input with Pull-Up Resistor...
                                  839   CLINEA 0000H 0001H 0262H 0002H 0041H
00:0014 90-A0 53-F2               840   	sb	0f253h.1
                                  841   
                                  842   ;;	PA1C0  = 0;	
                                  843   CLINEA 0000H 0001H 0263H 0002H 000DH
00:0018 92-A0 52-F2               844   	rb	0f252h.1
                                  845   
                                  846   ;;	PA2C1  = 1;		// PortA Bit2 set to Input with Pull-Up Resistor...
                                  847   CLINEA 0000H 0001H 0264H 0002H 0041H
00:001C A0-A0 53-F2               848   	sb	0f253h.2
                                  849   
                                  850   ;;	PA2C0  = 0;	
                                  851   CLINEA 0000H 0001H 0265H 0002H 000DH
00:0020 A2-A0 52-F2               852   	rb	0f252h.2
                                  853   
                                  854   ;;	PA0MD1  = 0;	// PortA Bit0 set to General Purpose I/O...
                                  855   CLINEA 0000H 0001H 0268H 0002H 0039H
00:0024 82-A0 55-F2               856   	rb	0f255h.0
                                  857   
                                  858   ;;	PA0MD0  = 0;	
                                  859   CLINEA 0000H 0001H 0269H 0002H 000EH
00:0028 82-A0 54-F2               860   	rb	0f254h.0
                                  861   
                                  862   ;;	PA1MD1  = 0;	// PortA Bit1 set to General Purpose I/O...
                                  863   CLINEA 0000H 0001H 026AH 0002H 0039H
00:002C 92-A0 55-F2               864   	rb	0f255h.1
                                  865   
                                  866   ;;	PA1MD0  = 0;	
                                  867   CLINEA 0000H 0001H 026BH 0002H 000EH
00:0030 92-A0 54-F2               868   	rb	0f254h.1
                                  869   
                                  870   ;;	PA2MD1  = 0;	// PortA Bit2 set to General Purpose I/O...
                                  871   CLINEA 0000H 0001H 026CH 0002H 0039H
00:0034 A2-A0 55-F2               872   	rb	0f255h.2
                                  873   
                                  874   ;;	PA2MD0  = 0;	
                                  875   CLINEA 0000H 0001H 026DH 0002H 000EH
00:0038 A2-A0 54-F2               876   	rb	0f254h.2
                                  877   CBLOCKEND 128 2 624
                                  878   
                                  879   ;;}  //END PortA_Digital_Inputs Function
                                  880   CLINEA 0000H 0001H 0270H 0001H 0026H
00:003C 1F-FE                     881   	rt
                                  882   CBLOCKEND 128 1 624
                                  883   CFUNCTIONEND 128
                                  884   
                                  885   
  --------------------------      886   	rseg $$PinB0_PWM$main
                                  887   CFUNCTION 129
                                  888   
00:0000                           889   _PinB0_PWM	:
                                  890   CBLOCK 129 1 631
                                  891   
                                  892   ;;void PinB0_PWM(void){
                                  893   CLINEA 0000H 0001H 0277H 0001H 0015H
                                  894   CBLOCK 129 2 631
                                  895   
                                  896   ;;	PB0DIR = 0;		// PortB Bit0 set to Output Mode...
                                  897   CLINEA 0000H 0001H 0286H 0002H 0031H
00:0000 82-A0 59-F2               898   	rb	0f259h.0
                                  899   
                                  900   ;;	PB0C1  = 1;		// PortB Bit0 set to CMOS Output...
                                  901   CLINEA 0000H 0001H 0289H 0002H 0031H
00:0004 80-A0 5B-F2               902   	sb	0f25bh.0
                                  903   
                                  904   ;;	PB0C0  = 1;		
                                  905   CLINEA 0000H 0001H 028AH 0002H 000EH
00:0008 80-A0 5A-F2               906   	sb	0f25ah.0
                                  907   
                                  908   ;;	PB0MD1  = 0;	// PortB Bit0 set to PWM Output (0,1)...
                                  909   CLINEA 0000H 0001H 028DH 0002H 0036H
00:000C 82-A0 5D-F2               910   	rb	0f25dh.0
                                  911   
                                  912   ;;	PB0MD0  = 1;	
                                  913   CLINEA 0000H 0001H 028EH 0002H 000EH
00:0010 80-A0 5C-F2               914   	sb	0f25ch.0
                                  915   
                                  916   ;;	PCCS1 = 0;	//00= LS; 01=HS; 10=PLL
                                  917   CLINEA 0000H 0001H 0291H 0002H 0023H
00:0014 92-A0 16-F9               918   	rb	0f916h.1
                                  919   
                                  920   ;;	PCCS0 = 1;
                                  921   CLINEA 0000H 0001H 0292H 0002H 000BH
00:0018 80-A0 16-F9               922   	sb	0f916h.0
                                  923   
                                  924   ;;	PWCP = 4250;		// Init Period to (1=255kHz; 10=46kHz; 50=10kHz; 200=2.5kH; ; 3185 = 160Hz; 3400=150Hz; 4250=120Hz; 5000=102Hz)
                                  925   CLINEA 0000H 0001H 0295H 0002H 007EH
00:001C 9A 00                     926   	mov	r0,	#09ah
00:001E 10 01                     927   	mov	r1,	#010h
00:0020 13-90 10-F9               928   	st	er0,	0f910h
                                  929   
                                  930   ;;	PWCD =    12;		//12    ~  0.25 % duty cycle @ 160Hz
                                  931   CLINEA 0000H 0001H 029EH 0002H 0034H
00:0024 0C E0                     932   	mov	er0,	#12
00:0026 13-90 12-F9               933   	st	er0,	0f912h
                                  934   
                                  935   ;;	PCRUN = 0;		// OFF to start
                                  936   CLINEA 0000H 0001H 02A0H 0002H 001CH
00:002A 82-A0 17-F9               937   	rb	0f917h.0
                                  938   CBLOCKEND 129 2 674
                                  939   
                                  940   ;;}  //END PinB0_PWM Function
                                  941   CLINEA 0000H 0001H 02A2H 0001H 001BH
00:002E 1F-FE                     942   	rt
                                  943   CBLOCKEND 129 1 674
                                  944   CFUNCTIONEND 129
                                  945   
                                  946   
  --------------------------      947   	rseg $$analog_comparator$main
                                  948   CFUNCTION 174
                                  949   
00:0000                           950   _analog_comparator	:
                                  951   CBLOCK 174 1 681
                                  952   
                                  953   ;;void analog_comparator(void){
                                  954   CLINEA 0000H 0001H 02A9H 0001H 001DH
                                  955   CBLOCK 174 2 681
                                  956   CBLOCKEND 174 2 712
                                  957   
                                  958   ;;} //END analog_comparator Function
                                  959   CLINEA 0000H 0001H 02C8H 0001H 0022H
00:0000 1F-FE                     960   	rt
                                  961   CBLOCKEND 174 1 712
                                  962   CFUNCTIONEND 174
                                  963   
                                  964   
  --------------------------      965   	rseg $$ALL_LEDs_ON$main
                                  966   CFUNCTION 137
                                  967   
00:0000                           968   _ALL_LEDs_ON	:
                                  969   CBLOCK 137 1 720
                                  970   
                                  971   ;;void ALL_LEDs_ON(void){
                                  972   CLINEA 0000H 0001H 02D0H 0001H 0017H
                                  973   CBLOCK 137 2 720
                                  974   
                                  975   ;;	STEP_MODE_LED 		= 1; // Bit D2  => "STEP MODE" LED 		(Orange)
                                  976   CLINEA 0000H 0001H 02D3H 0002H 003EH
00:0000 01 00                     977   	mov	r0,	#01h
00:0002 11-90 00-00'              978   	st	r0,	NEAR _STEP_MODE_LED
                                  979   
                                  980   ;;	  FULL_STEP_LED 		= 1; // Bit D7  => "FULL STEP" LED		(YELLOW)
                                  981   CLINEA 0000H 0001H 02D4H 0004H 003FH
00:0006 11-90 00-00'              982   	st	r0,	NEAR _FULL_STEP_LED
                                  983   
                                  984   ;;	  HALF_STEP_A_LED 	= 1; // Bit D8  => "HALF STEP A" LED	(YELLOW)
                                  985   CLINEA 0000H 0001H 02D5H 0004H 0041H
00:000A 11-90 00-00'              986   	st	r0,	NEAR _HALF_STEP_A_LED
                                  987   
                                  988   ;;	  HALF_STEP_B_LED 	= 1; // Bit D9  => "HALF STEP B" LED	(YELLOW)
                                  989   CLINEA 0000H 0001H 02D6H 0004H 0041H
00:000E 11-90 00-00'              990   	st	r0,	NEAR _HALF_STEP_B_LED
                                  991   
                                  992   ;;	  QUARTER_STEP_LED 	= 1; // Bit D10 => "QUARTER STEP" LED	(YELLOW)
                                  993   CLINEA 0000H 0001H 02D7H 0004H 0043H
00:0012 11-90 00-00'              994   	st	r0,	NEAR _QUARTER_STEP_LED
                                  995   
                                  996   ;;	DRIVER_EN_RED_LED 	= 1; // Bit D6  => "DRIVER ENABLED" LED  	(RED)
                                  997   CLINEA 0000H 0001H 02D9H 0002H 0043H
00:0016 11-90 00-00'              998   	st	r0,	NEAR _DRIVER_EN_RED_LED
                                  999   
                                 1000   ;;	DRIVER_EN_GREEN_LED	= 1; // Bit D5  => "DRIVER ENABLED" LED 	(GREEN)
                                 1001   CLINEA 0000H 0001H 02DAH 0002H 0045H
00:001A 11-90 00-00'             1002   	st	r0,	NEAR _DRIVER_EN_GREEN_LED
                                 1003   
                                 1004   ;;	  SINGLE_LED 		= 1; // Bit D0  => "SINGLE" LED 		(Orange)
                                 1005   CLINEA 0000H 0001H 02DCH 0004H 003AH
00:001E 11-90 00-00'             1006   	st	r0,	NEAR _SINGLE_LED
                                 1007   
                                 1008   ;;	  CONTINUOUS_LED 		= 1; // Bit D1  => "CONTINUOUS" LED 	(Orange)
                                 1009   CLINEA 0000H 0001H 02DDH 0004H 0041H
00:0022 11-90 00-00'             1010   	st	r0,	NEAR _CONTINUOUS_LED
                                 1011   
                                 1012   ;;	PASS_THRU_GREEN_LED 	= 1; // Bit D3  => "PASS THRU" LED		(GREEN)
                                 1013   CLINEA 0000H 0001H 02DFH 0002H 0041H
00:0026 11-90 00-00'             1014   	st	r0,	NEAR _PASS_THRU_GREEN_LED
                                 1015   
                                 1016   ;;	PASS_THRU_RED_LED 	= 1; // Bit D4  => "PASS THRU" LED		(RED)
                                 1017   CLINEA 0000H 0001H 02E0H 0002H 003DH
00:002A 11-90 00-00'             1018   	st	r0,	NEAR _PASS_THRU_RED_LED
                                 1019   
                                 1020   ;;	BUFFER_OE_PIN 		= 0; // Bit D11 => Octal Buffer_OE
                                 1021   CLINEA 0000H 0001H 02E2H 0002H 0033H
00:002E 00 00                    1022   	mov	r0,	#00h
00:0030 11-90 00-00'             1023   	st	r0,	NEAR _BUFFER_OE_PIN
                                 1024   
                                 1025   ;;	Set_LEDs();	//Send 12-Bit Data to BD8377 Driver, Clock & Latch
                                 1026   CLINEA 0000H 0001H 02E4H 0002H 003FH
00:0034 00-F0'00-00'             1027   	b	_Set_LEDs
                                 1028   CBLOCKEND 137 2 742
                                 1029   CLINEA 0000H 0001H 02E6H 0001H 001CH
                                 1030   CBLOCKEND 137 1 742
                                 1031   CFUNCTIONEND 137
                                 1032   
                                 1033   
  --------------------------     1034   	rseg $$ALL_LEDs_OFF$main
                                 1035   CFUNCTION 138
                                 1036   
00:0000                          1037   _ALL_LEDs_OFF	:
                                 1038   CBLOCK 138 1 749
                                 1039   
                                 1040   ;;void ALL_LEDs_OFF(void){
                                 1041   CLINEA 0000H 0001H 02EDH 0001H 0018H
                                 1042   CBLOCK 138 2 749
                                 1043   
                                 1044   ;;	DRIVER_EN_RED_LED 	= 0; // Bit D6  => "DRIVER ENABLED" LED  	(RED)
                                 1045   CLINEA 0000H 0001H 02F6H 0002H 0043H
00:0000 00 00                    1046   	mov	r0,	#00h
00:0002 11-90 00-00'             1047   	st	r0,	NEAR _DRIVER_EN_RED_LED
                                 1048   
                                 1049   ;;	DRIVER_EN_GREEN_LED	= 0; // Bit D5  => "DRIVER ENABLED" LED 	(GREEN)
                                 1050   CLINEA 0000H 0001H 02F7H 0002H 0045H
00:0006 11-90 00-00'             1051   	st	r0,	NEAR _DRIVER_EN_GREEN_LED
                                 1052   
                                 1053   ;;	  SINGLE_LED 		= 0; // Bit D0  => "SINGLE" LED 		(Orange)
                                 1054   CLINEA 0000H 0001H 02F9H 0004H 003AH
00:000A 11-90 00-00'             1055   	st	r0,	NEAR _SINGLE_LED
                                 1056   
                                 1057   ;;	  CONTINUOUS_LED 		= 0; // Bit D1  => "CONTINUOUS" LED 	(Orange)
                                 1058   CLINEA 0000H 0001H 02FAH 0004H 0041H
00:000E 11-90 00-00'             1059   	st	r0,	NEAR _CONTINUOUS_LED
                                 1060   
                                 1061   ;;	PASS_THRU_GREEN_LED 	= 0; // Bit D3  => "PASS THRU" LED		(GREEN)
                                 1062   CLINEA 0000H 0001H 02FCH 0002H 0041H
00:0012 11-90 00-00'             1063   	st	r0,	NEAR _PASS_THRU_GREEN_LED
                                 1064   
                                 1065   ;;	PASS_THRU_RED_LED 	= 0; // Bit D4  => "PASS THRU" LED		(RED)
                                 1066   CLINEA 0000H 0001H 02FDH 0002H 003DH
00:0016 11-90 00-00'             1067   	st	r0,	NEAR _PASS_THRU_RED_LED
                                 1068   
                                 1069   ;;	BUFFER_OE_PIN 		= 0; // Bit D11 => Octal Buffer_OE
                                 1070   CLINEA 0000H 0001H 02FFH 0002H 0033H
00:001A 11-90 00-00'             1071   	st	r0,	NEAR _BUFFER_OE_PIN
                                 1072   
                                 1073   ;;	Set_LEDs();	//Send 12-Bit Data to BD8377 Driver, Clock & Latch
                                 1074   CLINEA 0000H 0001H 0301H 0002H 003FH
00:001E 00-F0'00-00'             1075   	b	_Set_LEDs
                                 1076   CBLOCKEND 138 2 771
                                 1077   CLINEA 0000H 0001H 0303H 0001H 001DH
                                 1078   CBLOCKEND 138 1 771
                                 1079   CFUNCTIONEND 138
                                 1080   
                                 1081   
  --------------------------     1082   	rseg $$NOPxxx$main
                                 1083   CFUNCTION 130
                                 1084   
00:0000                          1085   _NOPxxx	:
                                 1086   CBLOCK 130 1 778
                                 1087   
                                 1088   ;;void NOPxxx( void ){
                                 1089   CLINEA 0000H 0001H 030AH 0001H 0014H
                                 1090   CBLOCK 130 2 778
                                 1091   CLOCAL 4AH 0002H 0000H 0002H "ONCNT" 02H 00H 01H
                                 1092   CBLOCKEND 130 2 786
                                 1093   
                                 1094   ;;}  //END NOPxxx Function
                                 1095   CLINEA 0000H 0001H 0312H 0001H 0018H
00:0000 1F-FE                    1096   	rt
                                 1097   CBLOCKEND 130 1 786
                                 1098   CFUNCTIONEND 130
                                 1099   
                                 1100   
  --------------------------     1101   	rseg $$NOPyyy$main
                                 1102   CFUNCTION 131
                                 1103   
00:0000                          1104   _NOPyyy	:
                                 1105   CBLOCK 131 1 793
                                 1106   
                                 1107   ;;void NOPyyy( void ){
                                 1108   CLINEA 0000H 0001H 0319H 0001H 0014H
                                 1109   CBLOCK 131 2 793
                                 1110   CLOCAL 4AH 0002H 0000H 0002H "ONCNT" 02H 00H 01H
                                 1111   CBLOCKEND 131 2 801
                                 1112   
                                 1113   ;;}  //END NOPxxx Function
                                 1114   CLINEA 0000H 0001H 0321H 0001H 0018H
00:0000 1F-FE                    1115   	rt
                                 1116   CBLOCKEND 131 1 801
                                 1117   CFUNCTIONEND 131
                                 1118   
                                 1119   
  --------------------------     1120   	rseg $$NOP_ClkStep$main
                                 1121   CFUNCTION 132
                                 1122   
00:0000                          1123   _NOP_ClkStep	:
                                 1124   CBLOCK 132 1 809
                                 1125   
                                 1126   ;;void NOP_ClkStep( void ){
                                 1127   CLINEA 0000H 0001H 0329H 0001H 0019H
00:0000 5E-FE                    1128   	push	fp
00:0002 1A-AE                    1129   	mov	fp,	sp
00:0004 FE E1                    1130   	add	sp,	#-02
                                 1131   CBLOCK 132 2 809
                                 1132   CLOCAL 42H 0002H 0002H 0002H "ONCNT" 02H 00H 01H
                                 1133   
                                 1134   ;;unsigned int ONCNT = 0;
                                 1135   CLINEA 0000H 0001H 032BH 0001H 0017H
00:0006 00 E0                    1136   	mov	er0,	#0 
                                 1137   
                                 1138   ;;	while(ONCNT < 35000) {	// NOP for xxx Cycles ~x ns
                                 1139   CLINEA 0000H 0001H 032DH 0002H 0033H
00:0008 01 CE                    1140   	bal	_$L30
00:000A                          1141   _$L32 :
                                 1142   CBLOCK 132 3 813
                                 1143   
                                 1144   ;;		ONCNT++;
                                 1145   CLINEA 0000H 0000H 032EH 0003H 000AH
00:000A 81 E0                    1146   	add	er0,	#1 
                                 1147   CBLOCKEND 132 3 815
                                 1148   
                                 1149   ;;	}
                                 1150   CLINEA 0000H 0000H 032FH 0002H 0002H
00:000C                          1151   _$L30 :
00:000C FE B0                    1152   	st	er0,	-2[fp]
                                 1153   
                                 1154   ;;	while(ONCNT < 35000) {	// NOP for xxx Cycles ~x ns
                                 1155   CLINEA 0000H 0000H 032DH 0000H 0000H
00:000E 00 E2                    1156   	mov	er2,	#0 
00:0010 B8 70                    1157   	cmp	r0,	#0b8h
00:0012 88 51                    1158   	cmpc	r1,	#088h
00:0014 00 52                    1159   	cmpc	r2,	#00h
00:0016 00 53                    1160   	cmpc	r3,	#00h
00:0018 F8 C5                    1161   	blts	_$L32
                                 1162   CBLOCKEND 132 2 817
                                 1163   
                                 1164   ;;}  //END NOP_ClkStep Function
                                 1165   CLINEA 0000H 0001H 0331H 0001H 001DH
00:001A EA-A1                    1166   	mov	sp,	fp
00:001C 1E-FE                    1167   	pop	fp
00:001E 1F-FE                    1168   	rt
                                 1169   CBLOCKEND 132 1 817
                                 1170   CFUNCTIONEND 132
                                 1171   
                                 1172   
  --------------------------     1173   	rseg $$NOP10uS$main
                                 1174   CFUNCTION 133
                                 1175   
00:0000                          1176   _NOP10uS	:
                                 1177   CBLOCK 133 1 825
                                 1178   
                                 1179   ;;void NOP10uS( void ){
                                 1180   CLINEA 0000H 0001H 0339H 0001H 0015H
00:0000 CE-F8                    1181   	push	lr
00:0002 5E-FE                    1182   	push	fp
00:0004 1A-AE                    1183   	mov	fp,	sp
00:0006 FE E1                    1184   	add	sp,	#-02
                                 1185   CBLOCK 133 2 825
                                 1186   CRET 0004H
                                 1187   CLOCAL 42H 0002H 0002H 0002H "i" 02H 00H 01H
                                 1188   
                                 1189   ;;	for (i = 0; i < 40; i++)		//was 4
                                 1190   CLINEA 0000H 0001H 033CH 0002H 0022H
00:0008 00 E0                    1191   	mov	er0,	#0 
00:000A FE B0                    1192   	st	er0,	-2[fp]
00:000C                          1193   _$L37 :
                                 1194   CBLOCK 133 3 829
                                 1195   
                                 1196   ;;		NOPxxx();
                                 1197   CLINEA 0000H 0001H 033EH 0003H 000BH
00:000C 01-F0'00-00'             1198   	bl	_NOPxxx
                                 1199   CBLOCKEND 133 3 831
                                 1200   
                                 1201   ;;	for (i = 0; i < 40; i++)		//was 4
                                 1202   CLINEA 0000H 0000H 033CH 0002H 0022H
00:0010 7E B0                    1203   	l	er0,	-2[fp]
00:0012 81 E0                    1204   	add	er0,	#1 
00:0014 FE B0                    1205   	st	er0,	-2[fp]
00:0016 28 70                    1206   	cmp	r0,	#028h
00:0018 00 51                    1207   	cmpc	r1,	#00h
00:001A F8 C1                    1208   	blt	_$L37
                                 1209   CBLOCKEND 133 2 833
                                 1210   
                                 1211   ;;}  //END NOP10uSFunction
                                 1212   CLINEA 0000H 0001H 0341H 0001H 0018H
00:001C EA-A1                    1213   	mov	sp,	fp
00:001E 1E-FE                    1214   	pop	fp
00:0020 8E-F2                    1215   	pop	pc
                                 1216   CBLOCKEND 133 1 833
                                 1217   CFUNCTIONEND 133
                                 1218   
                                 1219   
  --------------------------     1220   	rseg $$NOP_Long$main
                                 1221   CFUNCTION 134
                                 1222   
00:0000                          1223   _NOP_Long	:
                                 1224   CBLOCK 134 1 841
                                 1225   
                                 1226   ;;{
                                 1227   CLINEA 0000H 0001H 0349H 0001H 0001H
                                 1228   CBLOCK 134 2 841
                                 1229   CLOCAL 4AH 0002H 0000H 0002H "ONCNT" 02H 00H 01H
                                 1230   CBLOCKEND 134 2 848
                                 1231   
                                 1232   ;;}  //END NOPxxx Function
                                 1233   CLINEA 0000H 0001H 0350H 0001H 0018H
00:0000 1F-FE                    1234   	rt
                                 1235   CBLOCKEND 134 1 848
                                 1236   CFUNCTIONEND 134
                                 1237   
                                 1238   
  --------------------------     1239   	rseg $$Set_LEDs$main
                                 1240   CFUNCTION 135
                                 1241   
00:0000                          1242   _Set_LEDs	:
                                 1243   CBLOCK 135 1 855
                                 1244   
                                 1245   ;;void Set_LEDs(void){
                                 1246   CLINEA 0000H 0001H 0357H 0001H 0014H
00:0000 CE-F8                    1247   	push	lr
                                 1248   CBLOCK 135 2 855
                                 1249   CRET 0000H
                                 1250   
                                 1251   ;;	LED_Driver_LATCH = 0;					// Set LATCH LOW...
                                 1252   CLINEA 0000H 0001H 0360H 0002H 002EH
00:0002 E2-A0 58-F2              1253   	rb	0f258h.6
                                 1254   
                                 1255   ;;			LED_Driver_SERIN = BUFFER_OE_PIN;		// Set Data 1 or 0 (ON/OFF)...Bit 11
                                 1256   CLINEA 0000H 0001H 0362H 0004H 004AH
00:0006 10-90 00-00'             1257   	l	r0,	NEAR _BUFFER_OE_PIN
00:000A 01 20                    1258   	and	r0,	#01h
00:000C 03 C9                    1259   	beq	_$M17
00:000E D0-A0 58-F2              1260   	sb	0f258h.5
00:0012 02 CE                    1261   	bal	_$M18
00:0014                          1262   _$M17 :
00:0014 D2-A0 58-F2              1263   	rb	0f258h.5
00:0018                          1264   _$M18 :
                                 1265   
                                 1266   ;;		myClockingPulse();
                                 1267   CLINEA 0000H 0001H 0363H 0003H 0014H
00:0018 01-F0'00-00'             1268   	bl	_myClockingPulse
                                 1269   
                                 1270   ;;			LED_Driver_SERIN = QUARTER_STEP_LED;	// Set Data 1 or 0 (ON/OFF)...Bit 10
                                 1271   CLINEA 0000H 0001H 0364H 0004H 004CH
00:001C 10-90 00-00'             1272   	l	r0,	NEAR _QUARTER_STEP_LED
00:0020 01 20                    1273   	and	r0,	#01h
00:0022 03 C9                    1274   	beq	_$M19
00:0024 D0-A0 58-F2              1275   	sb	0f258h.5
00:0028 02 CE                    1276   	bal	_$M20
00:002A                          1277   _$M19 :
00:002A D2-A0 58-F2              1278   	rb	0f258h.5
00:002E                          1279   _$M20 :
                                 1280   
                                 1281   ;;		myClockingPulse();
                                 1282   CLINEA 0000H 0001H 0365H 0003H 0014H
00:002E 01-F0'00-00'             1283   	bl	_myClockingPulse
                                 1284   
                                 1285   ;;			LED_Driver_SERIN = HALF_STEP_B_LED;		// Set Data 1 or 0 (ON/OFF)...Bit 9	
                                 1286   CLINEA 0000H 0001H 0366H 0004H 004CH
00:0032 10-90 00-00'             1287   	l	r0,	NEAR _HALF_STEP_B_LED
00:0036 01 20                    1288   	and	r0,	#01h
00:0038 03 C9                    1289   	beq	_$M21
00:003A D0-A0 58-F2              1290   	sb	0f258h.5
00:003E 02 CE                    1291   	bal	_$M22
00:0040                          1292   _$M21 :
00:0040 D2-A0 58-F2              1293   	rb	0f258h.5
00:0044                          1294   _$M22 :
                                 1295   
                                 1296   ;;		myClockingPulse();
                                 1297   CLINEA 0000H 0001H 0367H 0003H 0014H
00:0044 01-F0'00-00'             1298   	bl	_myClockingPulse
                                 1299   
                                 1300   ;;			LED_Driver_SERIN = HALF_STEP_A_LED;		// Set Data 1 or 0 (ON/OFF)...Bit 8
                                 1301   CLINEA 0000H 0001H 0368H 0004H 004BH
00:0048 10-90 00-00'             1302   	l	r0,	NEAR _HALF_STEP_A_LED
00:004C 01 20                    1303   	and	r0,	#01h
00:004E 03 C9                    1304   	beq	_$M23
00:0050 D0-A0 58-F2              1305   	sb	0f258h.5
00:0054 02 CE                    1306   	bal	_$M24
00:0056                          1307   _$M23 :
00:0056 D2-A0 58-F2              1308   	rb	0f258h.5
00:005A                          1309   _$M24 :
                                 1310   
                                 1311   ;;		myClockingPulse();
                                 1312   CLINEA 0000H 0001H 0369H 0003H 0014H
00:005A 01-F0'00-00'             1313   	bl	_myClockingPulse
                                 1314   
                                 1315   ;;			LED_Driver_SERIN = FULL_STEP_LED;		// Set Data 1 or 0 (ON/OFF)...Bit 7	
                                 1316   CLINEA 0000H 0001H 036AH 0004H 004AH
00:005E 10-90 00-00'             1317   	l	r0,	NEAR _FULL_STEP_LED
00:0062 01 20                    1318   	and	r0,	#01h
00:0064 03 C9                    1319   	beq	_$M25
00:0066 D0-A0 58-F2              1320   	sb	0f258h.5
00:006A 02 CE                    1321   	bal	_$M26
00:006C                          1322   _$M25 :
00:006C D2-A0 58-F2              1323   	rb	0f258h.5
00:0070                          1324   _$M26 :
                                 1325   
                                 1326   ;;		myClockingPulse();
                                 1327   CLINEA 0000H 0001H 036BH 0003H 0014H
00:0070 01-F0'00-00'             1328   	bl	_myClockingPulse
                                 1329   
                                 1330   ;;			LED_Driver_SERIN = DRIVER_EN_RED_LED;	// Set Data 1 or 0 (ON/OFF)...Bit 6
                                 1331   CLINEA 0000H 0001H 036CH 0004H 004CH
00:0074 10-90 00-00'             1332   	l	r0,	NEAR _DRIVER_EN_RED_LED
00:0078 01 20                    1333   	and	r0,	#01h
00:007A 03 C9                    1334   	beq	_$M27
00:007C D0-A0 58-F2              1335   	sb	0f258h.5
00:0080 02 CE                    1336   	bal	_$M28
00:0082                          1337   _$M27 :
00:0082 D2-A0 58-F2              1338   	rb	0f258h.5
00:0086                          1339   _$M28 :
                                 1340   
                                 1341   ;;		myClockingPulse();
                                 1342   CLINEA 0000H 0001H 036DH 0003H 0014H
00:0086 01-F0'00-00'             1343   	bl	_myClockingPulse
                                 1344   
                                 1345   ;;			LED_Driver_SERIN = DRIVER_EN_GREEN_LED;	// Set Data 1 or 0 (ON/OFF)...Bit 5
                                 1346   CLINEA 0000H 0001H 036EH 0004H 004EH
00:008A 10-90 00-00'             1347   	l	r0,	NEAR _DRIVER_EN_GREEN_LED
00:008E 01 20                    1348   	and	r0,	#01h
00:0090 03 C9                    1349   	beq	_$M29
00:0092 D0-A0 58-F2              1350   	sb	0f258h.5
00:0096 02 CE                    1351   	bal	_$M30
00:0098                          1352   _$M29 :
00:0098 D2-A0 58-F2              1353   	rb	0f258h.5
00:009C                          1354   _$M30 :
                                 1355   
                                 1356   ;;		myClockingPulse();
                                 1357   CLINEA 0000H 0001H 036FH 0003H 0014H
00:009C 01-F0'00-00'             1358   	bl	_myClockingPulse
                                 1359   
                                 1360   ;;			LED_Driver_SERIN = PASS_THRU_RED_LED;	// Set Data 1 or 0 (ON/OFF)...Bit 4	
                                 1361   CLINEA 0000H 0001H 0370H 0004H 004DH
00:00A0 10-90 00-00'             1362   	l	r0,	NEAR _PASS_THRU_RED_LED
00:00A4 01 20                    1363   	and	r0,	#01h
00:00A6 03 C9                    1364   	beq	_$M31
00:00A8 D0-A0 58-F2              1365   	sb	0f258h.5
00:00AC 02 CE                    1366   	bal	_$M32
00:00AE                          1367   _$M31 :
00:00AE D2-A0 58-F2              1368   	rb	0f258h.5
00:00B2                          1369   _$M32 :
                                 1370   
                                 1371   ;;		myClockingPulse();
                                 1372   CLINEA 0000H 0001H 0371H 0003H 0014H
00:00B2 01-F0'00-00'             1373   	bl	_myClockingPulse
                                 1374   
                                 1375   ;;			LED_Driver_SERIN = PASS_THRU_GREEN_LED;	// Set Data 1 or 0 (ON/OFF)...Bit 3	
                                 1376   CLINEA 0000H 0001H 0372H 0004H 004FH
00:00B6 10-90 00-00'             1377   	l	r0,	NEAR _PASS_THRU_GREEN_LED
00:00BA 01 20                    1378   	and	r0,	#01h
00:00BC 03 C9                    1379   	beq	_$M33
00:00BE D0-A0 58-F2              1380   	sb	0f258h.5
00:00C2 02 CE                    1381   	bal	_$M34
00:00C4                          1382   _$M33 :
00:00C4 D2-A0 58-F2              1383   	rb	0f258h.5
00:00C8                          1384   _$M34 :
                                 1385   
                                 1386   ;;		myClockingPulse();
                                 1387   CLINEA 0000H 0001H 0373H 0003H 0014H
00:00C8 01-F0'00-00'             1388   	bl	_myClockingPulse
                                 1389   
                                 1390   ;;			LED_Driver_SERIN = STEP_MODE_LED;		// Set Data 1 or 0 (ON/OFF)...Bit 2	
                                 1391   CLINEA 0000H 0001H 0374H 0004H 004AH
00:00CC 10-90 00-00'             1392   	l	r0,	NEAR _STEP_MODE_LED
00:00D0 01 20                    1393   	and	r0,	#01h
00:00D2 03 C9                    1394   	beq	_$M35
00:00D4 D0-A0 58-F2              1395   	sb	0f258h.5
00:00D8 02 CE                    1396   	bal	_$M36
00:00DA                          1397   _$M35 :
00:00DA D2-A0 58-F2              1398   	rb	0f258h.5
00:00DE                          1399   _$M36 :
                                 1400   
                                 1401   ;;		myClockingPulse();
                                 1402   CLINEA 0000H 0001H 0375H 0003H 0014H
00:00DE 01-F0'00-00'             1403   	bl	_myClockingPulse
                                 1404   
                                 1405   ;;			LED_Driver_SERIN = CONTINUOUS_LED;		// Set Data 1 or 0 (ON/OFF)...Bit 1	
                                 1406   CLINEA 0000H 0001H 0376H 0004H 004BH
00:00E2 10-90 00-00'             1407   	l	r0,	NEAR _CONTINUOUS_LED
00:00E6 01 20                    1408   	and	r0,	#01h
00:00E8 03 C9                    1409   	beq	_$M37
00:00EA D0-A0 58-F2              1410   	sb	0f258h.5
00:00EE 02 CE                    1411   	bal	_$M38
00:00F0                          1412   _$M37 :
00:00F0 D2-A0 58-F2              1413   	rb	0f258h.5
00:00F4                          1414   _$M38 :
                                 1415   
                                 1416   ;;		myClockingPulse();
                                 1417   CLINEA 0000H 0001H 0377H 0003H 0014H
00:00F4 01-F0'00-00'             1418   	bl	_myClockingPulse
                                 1419   
                                 1420   ;;			LED_Driver_SERIN = SINGLE_LED;		// Set Data 1 or 0 (ON/OFF)...Bit 0	
                                 1421   CLINEA 0000H 0001H 0378H 0004H 0047H
00:00F8 10-90 00-00'             1422   	l	r0,	NEAR _SINGLE_LED
00:00FC 01 20                    1423   	and	r0,	#01h
00:00FE 03 C9                    1424   	beq	_$M39
00:0100 D0-A0 58-F2              1425   	sb	0f258h.5
00:0104 02 CE                    1426   	bal	_$M40
00:0106                          1427   _$M39 :
00:0106 D2-A0 58-F2              1428   	rb	0f258h.5
00:010A                          1429   _$M40 :
                                 1430   
                                 1431   ;;		myClockingPulse();
                                 1432   CLINEA 0000H 0001H 0379H 0003H 0014H
00:010A 01-F0'00-00'             1433   	bl	_myClockingPulse
                                 1434   
                                 1435   ;;	LED_Driver_LATCH = 1;					// Set LATCH High to end transmission...
                                 1436   CLINEA 0000H 0001H 037BH 0002H 0043H
00:010E E0-A0 58-F2              1437   	sb	0f258h.6
                                 1438   
                                 1439   ;;			NOP_Long();
                                 1440   CLINEA 0000H 0001H 037CH 0004H 000EH
00:0112 01-F0'00-00'             1441   	bl	_NOP_Long
                                 1442   
                                 1443   ;;	main_clrWDT(); 	// Clear WDT
                                 1444   CLINEA 0000H 0001H 037DH 0002H 001DH
00:0116 01-F0'00-00'             1445   	bl	_main_clrWDT
                                 1446   CBLOCKEND 135 2 896
                                 1447   
                                 1448   ;;} //END Set_LEDs Function
                                 1449   CLINEA 0000H 0001H 0380H 0001H 0019H
00:011A 8E-F2                    1450   	pop	pc
                                 1451   CBLOCKEND 135 1 896
                                 1452   CFUNCTIONEND 135
                                 1453   
                                 1454   
  --------------------------     1455   	rseg $$myClockingPulse$main
                                 1456   CFUNCTION 139
                                 1457   
00:0000                          1458   _myClockingPulse	:
                                 1459   CBLOCK 139 1 903
                                 1460   
                                 1461   ;;void myClockingPulse(void){
                                 1462   CLINEA 0000H 0001H 0387H 0001H 001BH
00:0000 CE-F8                    1463   	push	lr
                                 1464   CBLOCK 139 2 903
                                 1465   CRET 0000H
                                 1466   
                                 1467   ;;	LED_Driver_CLK = 0;		// Set CLK Low to Start...
                                 1468   CLINEA 0000H 0001H 038DH 0002H 0030H
00:0002 F2-A0 58-F2              1469   	rb	0f258h.7
                                 1470   
                                 1471   ;;		NOPyyy();
                                 1472   CLINEA 0000H 0001H 038EH 0003H 000BH
00:0006 01-F0'00-00'             1473   	bl	_NOPyyy
                                 1474   
                                 1475   ;;	LED_Driver_CLK = 1;		// Cycle Clk HIGH...
                                 1476   CLINEA 0000H 0001H 038FH 0002H 002AH
00:000A F0-A0 58-F2              1477   	sb	0f258h.7
                                 1478   
                                 1479   ;;		NOPyyy();
                                 1480   CLINEA 0000H 0001H 0390H 0003H 000BH
00:000E 01-F0'00-00'             1481   	bl	_NOPyyy
                                 1482   CBLOCKEND 139 2 913
                                 1483   
                                 1484   ;;} //END ClockingPulse Function
                                 1485   CLINEA 0000H 0001H 0391H 0001H 001EH
00:0012 8E-F2                    1486   	pop	pc
                                 1487   CBLOCKEND 139 1 913
                                 1488   CFUNCTIONEND 139
                                 1489   
                                 1490   
  --------------------------     1491   	rseg $$LEDStateA$main
                                 1492   CFUNCTION 140
                                 1493   
00:0000                          1494   _LEDStateA	:
                                 1495   CBLOCK 140 1 921
                                 1496   
                                 1497   ;;void LEDStateA (void){
                                 1498   CLINEA 0000H 0001H 0399H 0001H 0016H
                                 1499   CBLOCK 140 2 921
                                 1500   
                                 1501   ;;	STEP_MODE_LED 		= 1; // Bit D2  => "STEP MODE" LED 		(Orange)
                                 1502   CLINEA 0000H 0001H 039CH 0002H 003EH
00:0000 01 00                    1503   	mov	r0,	#01h
00:0002 11-90 00-00'             1504   	st	r0,	NEAR _STEP_MODE_LED
                                 1505   
                                 1506   ;;	  FULL_STEP_LED 	= 0; // Bit D7  => "FULL STEP" LED		(YELLOW)
                                 1507   CLINEA 0000H 0001H 039DH 0004H 003EH
00:0006 00 00                    1508   	mov	r0,	#00h
00:0008 11-90 00-00'             1509   	st	r0,	NEAR _FULL_STEP_LED
                                 1510   
                                 1511   ;;	  HALF_STEP_A_LED 	= 0; // Bit D8  => "HALF STEP A" LED	(YELLOW)
                                 1512   CLINEA 0000H 0001H 039EH 0004H 0041H
00:000C 11-90 00-00'             1513   	st	r0,	NEAR _HALF_STEP_A_LED
                                 1514   
                                 1515   ;;	  HALF_STEP_B_LED 	= 0; // Bit D9  => "HALF STEP B" LED	(YELLOW)
                                 1516   CLINEA 0000H 0001H 039FH 0004H 0041H
00:0010 11-90 00-00'             1517   	st	r0,	NEAR _HALF_STEP_B_LED
                                 1518   
                                 1519   ;;	  QUARTER_STEP_LED 	= 0; // Bit D10 => "QUARTER STEP" LED	(YELLOW)
                                 1520   CLINEA 0000H 0001H 03A0H 0004H 0043H
00:0014 11-90 00-00'             1521   	st	r0,	NEAR _QUARTER_STEP_LED
                                 1522   
                                 1523   ;;	DRIVER_EN_RED_LED 	= 0; // Bit D6  => "DRIVER ENABLED" LED  	(RED)
                                 1524   CLINEA 0000H 0001H 03A2H 0002H 0043H
00:0018 11-90 00-00'             1525   	st	r0,	NEAR _DRIVER_EN_RED_LED
                                 1526   
                                 1527   ;;	DRIVER_EN_GREEN_LED	= 0; // Bit D5  => "DRIVER ENABLED" LED 	(GREEN)
                                 1528   CLINEA 0000H 0001H 03A3H 0002H 0045H
00:001C 11-90 00-00'             1529   	st	r0,	NEAR _DRIVER_EN_GREEN_LED
                                 1530   
                                 1531   ;;	  SINGLE_LED 		= 0; // Bit D0  => "SINGLE" LED 		(Orange)
                                 1532   CLINEA 0000H 0001H 03A5H 0004H 003AH
00:0020 11-90 00-00'             1533   	st	r0,	NEAR _SINGLE_LED
                                 1534   
                                 1535   ;;	  CONTINUOUS_LED 	= 0; // Bit D1  => "CONTINUOUS" LED 	(Orange)
                                 1536   CLINEA 0000H 0001H 03A6H 0004H 0040H
00:0024 11-90 00-00'             1537   	st	r0,	NEAR _CONTINUOUS_LED
                                 1538   
                                 1539   ;;	PASS_THRU_GREEN_LED = 0; // Bit D3  => "PASS THRU" LED		(GREEN)
                                 1540   CLINEA 0000H 0001H 03A8H 0002H 0040H
00:0028 11-90 00-00'             1541   	st	r0,	NEAR _PASS_THRU_GREEN_LED
                                 1542   
                                 1543   ;;	PASS_THRU_RED_LED 	= 0; // Bit D4  => "PASS THRU" LED		(RED)
                                 1544   CLINEA 0000H 0001H 03A9H 0002H 003DH
00:002C 11-90 00-00'             1545   	st	r0,	NEAR _PASS_THRU_RED_LED
                                 1546   
                                 1547   ;;	BUFFER_OE_PIN 		= 0; // Bit D11 => Octal Buffer_OE
                                 1548   CLINEA 0000H 0001H 03ABH 0002H 0033H
00:0030 11-90 00-00'             1549   	st	r0,	NEAR _BUFFER_OE_PIN
                                 1550   
                                 1551   ;;  Set_LEDs();	// Send 12-Bit Data to BD8377 Driver, Clock & Latch
                                 1552   CLINEA 0000H 0001H 03ADH 0003H 0041H
00:0034 00-F0'00-00'             1553   	b	_Set_LEDs
                                 1554   CBLOCKEND 140 2 943
                                 1555   CLINEA 0000H 0001H 03AFH 0001H 001AH
                                 1556   CBLOCKEND 140 1 943
                                 1557   CFUNCTIONEND 140
                                 1558   
                                 1559   
  --------------------------     1560   	rseg $$LEDStateA1$main
                                 1561   CFUNCTION 141
                                 1562   
00:0000                          1563   _LEDStateA1	:
                                 1564   CBLOCK 141 1 950
                                 1565   
                                 1566   ;;void LEDStateA1 (void){
                                 1567   CLINEA 0000H 0001H 03B6H 0001H 0017H
                                 1568   CBLOCK 141 2 950
                                 1569   
                                 1570   ;;	STEP_MODE_LED 		= 1; // Bit D2  => "STEP MODE" LED 		(Orange)
                                 1571   CLINEA 0000H 0001H 03B9H 0002H 003EH
00:0000 01 00                    1572   	mov	r0,	#01h
00:0002 11-90 00-00'             1573   	st	r0,	NEAR _STEP_MODE_LED
                                 1574   
                                 1575   ;;	  FULL_STEP_LED 	= 1; // Bit D7  => "FULL STEP" LED		(YELLOW)
                                 1576   CLINEA 0000H 0001H 03BAH 0004H 003EH
00:0006 11-90 00-00'             1577   	st	r0,	NEAR _FULL_STEP_LED
                                 1578   
                                 1579   ;;	  HALF_STEP_A_LED 	= 0; // Bit D8  => "HALF STEP A" LED	(YELLOW)
                                 1580   CLINEA 0000H 0001H 03BBH 0004H 0041H
00:000A 00 00                    1581   	mov	r0,	#00h
00:000C 11-90 00-00'             1582   	st	r0,	NEAR _HALF_STEP_A_LED
                                 1583   
                                 1584   ;;	  HALF_STEP_B_LED 	= 0; // Bit D9  => "HALF STEP B" LED	(YELLOW)
                                 1585   CLINEA 0000H 0001H 03BCH 0004H 0041H
00:0010 11-90 00-00'             1586   	st	r0,	NEAR _HALF_STEP_B_LED
                                 1587   
                                 1588   ;;	  QUARTER_STEP_LED 	= 0; // Bit D10 => "QUARTER STEP" LED	(YELLOW)
                                 1589   CLINEA 0000H 0001H 03BDH 0004H 0043H
00:0014 11-90 00-00'             1590   	st	r0,	NEAR _QUARTER_STEP_LED
                                 1591   
                                 1592   ;;	DRIVER_EN_RED_LED 	= 0; // Bit D6  => "DRIVER ENABLED" LED  	(RED)
                                 1593   CLINEA 0000H 0001H 03BFH 0002H 0043H
00:0018 11-90 00-00'             1594   	st	r0,	NEAR _DRIVER_EN_RED_LED
                                 1595   
                                 1596   ;;	DRIVER_EN_GREEN_LED	= 0; // Bit D5  => "DRIVER ENABLED" LED 	(GREEN)
                                 1597   CLINEA 0000H 0001H 03C0H 0002H 0045H
00:001C 11-90 00-00'             1598   	st	r0,	NEAR _DRIVER_EN_GREEN_LED
                                 1599   
                                 1600   ;;	  SINGLE_LED 		= 0; // Bit D0  => "SINGLE" LED 		(Orange)
                                 1601   CLINEA 0000H 0001H 03C2H 0004H 003AH
00:0020 11-90 00-00'             1602   	st	r0,	NEAR _SINGLE_LED
                                 1603   
                                 1604   ;;	  CONTINUOUS_LED 	= 0; // Bit D1  => "CONTINUOUS" LED 	(Orange)
                                 1605   CLINEA 0000H 0001H 03C3H 0004H 0040H
00:0024 11-90 00-00'             1606   	st	r0,	NEAR _CONTINUOUS_LED
                                 1607   
                                 1608   ;;	PASS_THRU_GREEN_LED = 0; // Bit D3  => "PASS THRU" LED		(GREEN)
                                 1609   CLINEA 0000H 0001H 03C5H 0002H 0040H
00:0028 11-90 00-00'             1610   	st	r0,	NEAR _PASS_THRU_GREEN_LED
                                 1611   
                                 1612   ;;	PASS_THRU_RED_LED 	= 0; // Bit D4  => "PASS THRU" LED		(RED)
                                 1613   CLINEA 0000H 0001H 03C6H 0002H 003DH
00:002C 11-90 00-00'             1614   	st	r0,	NEAR _PASS_THRU_RED_LED
                                 1615   
                                 1616   ;;	BUFFER_OE_PIN 		= 0; // Bit D11 => Octal Buffer_OE
                                 1617   CLINEA 0000H 0001H 03C8H 0002H 0033H
00:0030 11-90 00-00'             1618   	st	r0,	NEAR _BUFFER_OE_PIN
                                 1619   
                                 1620   ;;  Set_LEDs();	// Send 12-Bit Data to BD8377 Driver, Clock & Latch
                                 1621   CLINEA 0000H 0001H 03CAH 0003H 0041H
00:0034 00-F0'00-00'             1622   	b	_Set_LEDs
                                 1623   CBLOCKEND 141 2 972
                                 1624   CLINEA 0000H 0001H 03CCH 0001H 001BH
                                 1625   CBLOCKEND 141 1 972
                                 1626   CFUNCTIONEND 141
                                 1627   
                                 1628   
  --------------------------     1629   	rseg $$LEDStateA2$main
                                 1630   CFUNCTION 142
                                 1631   
00:0000                          1632   _LEDStateA2	:
                                 1633   CBLOCK 142 1 979
                                 1634   
                                 1635   ;;void LEDStateA2 (void){
                                 1636   CLINEA 0000H 0001H 03D3H 0001H 0017H
                                 1637   CBLOCK 142 2 979
                                 1638   
                                 1639   ;;	STEP_MODE_LED 		= 1; // Bit D2  => "STEP MODE" LED 		(Orange)
                                 1640   CLINEA 0000H 0001H 03D6H 0002H 003EH
00:0000 01 00                    1641   	mov	r0,	#01h
00:0002 11-90 00-00'             1642   	st	r0,	NEAR _STEP_MODE_LED
                                 1643   
                                 1644   ;;	  FULL_STEP_LED 		= 0; // Bit D7  => "FULL STEP" LED		(YELLOW)
                                 1645   CLINEA 0000H 0001H 03D7H 0004H 003FH
00:0006 00 00                    1646   	mov	r0,	#00h
00:0008 11-90 00-00'             1647   	st	r0,	NEAR _FULL_STEP_LED
                                 1648   
                                 1649   ;;	  HALF_STEP_A_LED 	= 1; // Bit D8  => "HALF STEP A" LED	(YELLOW)
                                 1650   CLINEA 0000H 0001H 03D8H 0004H 0041H
00:000C 01 00                    1651   	mov	r0,	#01h
00:000E 11-90 00-00'             1652   	st	r0,	NEAR _HALF_STEP_A_LED
                                 1653   
                                 1654   ;;	  HALF_STEP_B_LED 	= 0; // Bit D9  => "HALF STEP B" LED	(YELLOW)
                                 1655   CLINEA 0000H 0001H 03D9H 0004H 0041H
00:0012 00 00                    1656   	mov	r0,	#00h
00:0014 11-90 00-00'             1657   	st	r0,	NEAR _HALF_STEP_B_LED
                                 1658   
                                 1659   ;;	  QUARTER_STEP_LED 	= 0; // Bit D10 => "QUARTER STEP" LED	(YELLOW)
                                 1660   CLINEA 0000H 0001H 03DAH 0004H 0043H
00:0018 11-90 00-00'             1661   	st	r0,	NEAR _QUARTER_STEP_LED
                                 1662   
                                 1663   ;;	DRIVER_EN_RED_LED 	= 0; // Bit D6  => "DRIVER ENABLED" LED  	(RED)
                                 1664   CLINEA 0000H 0001H 03DCH 0002H 0043H
00:001C 11-90 00-00'             1665   	st	r0,	NEAR _DRIVER_EN_RED_LED
                                 1666   
                                 1667   ;;	DRIVER_EN_GREEN_LED	= 0; // Bit D5  => "DRIVER ENABLED" LED 	(GREEN)
                                 1668   CLINEA 0000H 0001H 03DDH 0002H 0045H
00:0020 11-90 00-00'             1669   	st	r0,	NEAR _DRIVER_EN_GREEN_LED
                                 1670   
                                 1671   ;;	  SINGLE_LED 		= 0; // Bit D0  => "SINGLE" LED 		(Orange)
                                 1672   CLINEA 0000H 0001H 03DFH 0004H 003AH
00:0024 11-90 00-00'             1673   	st	r0,	NEAR _SINGLE_LED
                                 1674   
                                 1675   ;;	  CONTINUOUS_LED 		= 0; // Bit D1  => "CONTINUOUS" LED 	(Orange)
                                 1676   CLINEA 0000H 0001H 03E0H 0004H 0041H
00:0028 11-90 00-00'             1677   	st	r0,	NEAR _CONTINUOUS_LED
                                 1678   
                                 1679   ;;	PASS_THRU_GREEN_LED 	= 0; // Bit D3  => "PASS THRU" LED		(GREEN)
                                 1680   CLINEA 0000H 0001H 03E2H 0002H 0041H
00:002C 11-90 00-00'             1681   	st	r0,	NEAR _PASS_THRU_GREEN_LED
                                 1682   
                                 1683   ;;	PASS_THRU_RED_LED 	= 0; // Bit D4  => "PASS THRU" LED		(RED)
                                 1684   CLINEA 0000H 0001H 03E3H 0002H 003DH
00:0030 11-90 00-00'             1685   	st	r0,	NEAR _PASS_THRU_RED_LED
                                 1686   
                                 1687   ;;	BUFFER_OE_PIN 		= 0; // Bit D11 => Octal Buffer_OE
                                 1688   CLINEA 0000H 0001H 03E5H 0002H 0033H
00:0034 11-90 00-00'             1689   	st	r0,	NEAR _BUFFER_OE_PIN
                                 1690   
                                 1691   ;;  Set_LEDs();	// Send 12-Bit Data to BD8377 Driver, Clock & Latch
                                 1692   CLINEA 0000H 0001H 03E7H 0003H 0041H
00:0038 00-F0'00-00'             1693   	b	_Set_LEDs
                                 1694   CBLOCKEND 142 2 1001
                                 1695   CLINEA 0000H 0001H 03E9H 0001H 001BH
                                 1696   CBLOCKEND 142 1 1001
                                 1697   CFUNCTIONEND 142
                                 1698   
                                 1699   
  --------------------------     1700   	rseg $$LEDStateA3$main
                                 1701   CFUNCTION 143
                                 1702   
00:0000                          1703   _LEDStateA3	:
                                 1704   CBLOCK 143 1 1008
                                 1705   
                                 1706   ;;void LEDStateA3 (void){
                                 1707   CLINEA 0000H 0001H 03F0H 0001H 0017H
                                 1708   CBLOCK 143 2 1008
                                 1709   
                                 1710   ;;	STEP_MODE_LED 		= 1; // Bit D2  => "STEP MODE" LED 		(Orange)
                                 1711   CLINEA 0000H 0001H 03F3H 0002H 003EH
00:0000 01 00                    1712   	mov	r0,	#01h
00:0002 11-90 00-00'             1713   	st	r0,	NEAR _STEP_MODE_LED
                                 1714   
                                 1715   ;;	  FULL_STEP_LED 		= 0; // Bit D7  => "FULL STEP" LED		(YELLOW)
                                 1716   CLINEA 0000H 0001H 03F4H 0004H 003FH
00:0006 00 00                    1717   	mov	r0,	#00h
00:0008 11-90 00-00'             1718   	st	r0,	NEAR _FULL_STEP_LED
                                 1719   
                                 1720   ;;	  HALF_STEP_A_LED 	= 0; // Bit D8  => "HALF STEP A" LED	(YELLOW)
                                 1721   CLINEA 0000H 0001H 03F5H 0004H 0041H
00:000C 11-90 00-00'             1722   	st	r0,	NEAR _HALF_STEP_A_LED
                                 1723   
                                 1724   ;;	  HALF_STEP_B_LED 	= 1; // Bit D9  => "HALF STEP B" LED	(YELLOW)
                                 1725   CLINEA 0000H 0001H 03F6H 0004H 0041H
00:0010 01 00                    1726   	mov	r0,	#01h
00:0012 11-90 00-00'             1727   	st	r0,	NEAR _HALF_STEP_B_LED
                                 1728   
                                 1729   ;;	  QUARTER_STEP_LED 	= 0; // Bit D10 => "QUARTER STEP" LED	(YELLOW)
                                 1730   CLINEA 0000H 0001H 03F7H 0004H 0043H
00:0016 00 00                    1731   	mov	r0,	#00h
00:0018 11-90 00-00'             1732   	st	r0,	NEAR _QUARTER_STEP_LED
                                 1733   
                                 1734   ;;	DRIVER_EN_RED_LED 	= 0; // Bit D6  => "DRIVER ENABLED" LED  	(RED)
                                 1735   CLINEA 0000H 0001H 03F9H 0002H 0043H
00:001C 11-90 00-00'             1736   	st	r0,	NEAR _DRIVER_EN_RED_LED
                                 1737   
                                 1738   ;;	DRIVER_EN_GREEN_LED	= 0; // Bit D5  => "DRIVER ENABLED" LED 	(GREEN)
                                 1739   CLINEA 0000H 0001H 03FAH 0002H 0045H
00:0020 11-90 00-00'             1740   	st	r0,	NEAR _DRIVER_EN_GREEN_LED
                                 1741   
                                 1742   ;;	  SINGLE_LED 		= 0; // Bit D0  => "SINGLE" LED 		(Orange)
                                 1743   CLINEA 0000H 0001H 03FCH 0004H 003AH
00:0024 11-90 00-00'             1744   	st	r0,	NEAR _SINGLE_LED
                                 1745   
                                 1746   ;;	  CONTINUOUS_LED 		= 0; // Bit D1  => "CONTINUOUS" LED 	(Orange)
                                 1747   CLINEA 0000H 0001H 03FDH 0004H 0041H
00:0028 11-90 00-00'             1748   	st	r0,	NEAR _CONTINUOUS_LED
                                 1749   
                                 1750   ;;	PASS_THRU_GREEN_LED 	= 0; // Bit D3  => "PASS THRU" LED		(GREEN)
                                 1751   CLINEA 0000H 0001H 03FFH 0002H 0041H
00:002C 11-90 00-00'             1752   	st	r0,	NEAR _PASS_THRU_GREEN_LED
                                 1753   
                                 1754   ;;	PASS_THRU_RED_LED 	= 0; // Bit D4  => "PASS THRU" LED		(RED)
                                 1755   CLINEA 0000H 0001H 0400H 0002H 003DH
00:0030 11-90 00-00'             1756   	st	r0,	NEAR _PASS_THRU_RED_LED
                                 1757   
                                 1758   ;;	BUFFER_OE_PIN 		= 0; // Bit D11 => Octal Buffer_OE
                                 1759   CLINEA 0000H 0001H 0402H 0002H 0033H
00:0034 11-90 00-00'             1760   	st	r0,	NEAR _BUFFER_OE_PIN
                                 1761   
                                 1762   ;;  Set_LEDs();	// Send 12-Bit Data to BD8377 Driver, Clock & Latch
                                 1763   CLINEA 0000H 0001H 0404H 0003H 0041H
00:0038 00-F0'00-00'             1764   	b	_Set_LEDs
                                 1765   CBLOCKEND 143 2 1030
                                 1766   CLINEA 0000H 0001H 0406H 0001H 001BH
                                 1767   CBLOCKEND 143 1 1030
                                 1768   CFUNCTIONEND 143
                                 1769   
                                 1770   
  --------------------------     1771   	rseg $$LEDStateA4$main
                                 1772   CFUNCTION 144
                                 1773   
00:0000                          1774   _LEDStateA4	:
                                 1775   CBLOCK 144 1 1037
                                 1776   
                                 1777   ;;void LEDStateA4 (void){
                                 1778   CLINEA 0000H 0001H 040DH 0001H 0017H
                                 1779   CBLOCK 144 2 1037
                                 1780   
                                 1781   ;;	STEP_MODE_LED 		= 1; // Bit D2  => "STEP MODE" LED 		(Orange)
                                 1782   CLINEA 0000H 0001H 0410H 0002H 003EH
00:0000 01 00                    1783   	mov	r0,	#01h
00:0002 11-90 00-00'             1784   	st	r0,	NEAR _STEP_MODE_LED
                                 1785   
                                 1786   ;;	  FULL_STEP_LED 		= 0; // Bit D7  => "FULL STEP" LED		(YELLOW)
                                 1787   CLINEA 0000H 0001H 0411H 0004H 003FH
00:0006 00 00                    1788   	mov	r0,	#00h
00:0008 11-90 00-00'             1789   	st	r0,	NEAR _FULL_STEP_LED
                                 1790   
                                 1791   ;;	  HALF_STEP_A_LED 	= 0; // Bit D8  => "HALF STEP A" LED	(YELLOW)
                                 1792   CLINEA 0000H 0001H 0412H 0004H 0041H
00:000C 11-90 00-00'             1793   	st	r0,	NEAR _HALF_STEP_A_LED
                                 1794   
                                 1795   ;;	  HALF_STEP_B_LED 	= 0; // Bit D9  => "HALF STEP B" LED	(YELLOW)
                                 1796   CLINEA 0000H 0001H 0413H 0004H 0041H
00:0010 11-90 00-00'             1797   	st	r0,	NEAR _HALF_STEP_B_LED
                                 1798   
                                 1799   ;;	  QUARTER_STEP_LED 	= 1; // Bit D10 => "QUARTER STEP" LED	(YELLOW)
                                 1800   CLINEA 0000H 0001H 0414H 0004H 0043H
00:0014 01 00                    1801   	mov	r0,	#01h
00:0016 11-90 00-00'             1802   	st	r0,	NEAR _QUARTER_STEP_LED
                                 1803   
                                 1804   ;;	DRIVER_EN_RED_LED 	= 0; // Bit D6  => "DRIVER ENABLED" LED  	(RED)
                                 1805   CLINEA 0000H 0001H 0416H 0002H 0043H
00:001A 00 00                    1806   	mov	r0,	#00h
00:001C 11-90 00-00'             1807   	st	r0,	NEAR _DRIVER_EN_RED_LED
                                 1808   
                                 1809   ;;	DRIVER_EN_GREEN_LED	= 0; // Bit D5  => "DRIVER ENABLED" LED 	(GREEN)
                                 1810   CLINEA 0000H 0001H 0417H 0002H 0045H
00:0020 11-90 00-00'             1811   	st	r0,	NEAR _DRIVER_EN_GREEN_LED
                                 1812   
                                 1813   ;;	  SINGLE_LED 		= 0; // Bit D0  => "SINGLE" LED 		(Orange)
                                 1814   CLINEA 0000H 0001H 0419H 0004H 003AH
00:0024 11-90 00-00'             1815   	st	r0,	NEAR _SINGLE_LED
                                 1816   
                                 1817   ;;	  CONTINUOUS_LED 		= 0; // Bit D1  => "CONTINUOUS" LED 	(Orange)
                                 1818   CLINEA 0000H 0001H 041AH 0004H 0041H
00:0028 11-90 00-00'             1819   	st	r0,	NEAR _CONTINUOUS_LED
                                 1820   
                                 1821   ;;	PASS_THRU_GREEN_LED 	= 0; // Bit D3  => "PASS THRU" LED		(GREEN)
                                 1822   CLINEA 0000H 0001H 041CH 0002H 0041H
00:002C 11-90 00-00'             1823   	st	r0,	NEAR _PASS_THRU_GREEN_LED
                                 1824   
                                 1825   ;;	PASS_THRU_RED_LED 	= 0; // Bit D4  => "PASS THRU" LED		(RED)
                                 1826   CLINEA 0000H 0001H 041DH 0002H 003DH
00:0030 11-90 00-00'             1827   	st	r0,	NEAR _PASS_THRU_RED_LED
                                 1828   
                                 1829   ;;	BUFFER_OE_PIN 		= 0; // Bit D11 => Octal Buffer_OE
                                 1830   CLINEA 0000H 0001H 041FH 0002H 0033H
00:0034 11-90 00-00'             1831   	st	r0,	NEAR _BUFFER_OE_PIN
                                 1832   
                                 1833   ;;  Set_LEDs();	// Send 12-Bit Data to BD8377 Driver, Clock & Latch
                                 1834   CLINEA 0000H 0001H 0421H 0003H 0041H
00:0038 00-F0'00-00'             1835   	b	_Set_LEDs
                                 1836   CBLOCKEND 144 2 1059
                                 1837   CLINEA 0000H 0001H 0423H 0001H 001BH
                                 1838   CBLOCKEND 144 1 1059
                                 1839   CFUNCTIONEND 144
                                 1840   
                                 1841   
  --------------------------     1842   	rseg $$LEDStateB$main
                                 1843   CFUNCTION 145
                                 1844   
00:0000                          1845   _LEDStateB	:
                                 1846   CBLOCK 145 1 1066
                                 1847   
                                 1848   ;;void LEDStateB (void){
                                 1849   CLINEA 0000H 0001H 042AH 0001H 0016H
                                 1850   CBLOCK 145 2 1066
                                 1851   
                                 1852   ;;	DRIVER_EN_RED_LED 	= 1; // Bit D6  => "DRIVER ENABLED" LED  	(RED)
                                 1853   CLINEA 0000H 0001H 0433H 0002H 0043H
00:0000 01 00                    1854   	mov	r0,	#01h
00:0002 11-90 00-00'             1855   	st	r0,	NEAR _DRIVER_EN_RED_LED
                                 1856   
                                 1857   ;;	DRIVER_EN_GREEN_LED	= 0; // Bit D5  => "DRIVER ENABLED" LED 	(GREEN)
                                 1858   CLINEA 0000H 0001H 0434H 0002H 0045H
00:0006 00 00                    1859   	mov	r0,	#00h
00:0008 11-90 00-00'             1860   	st	r0,	NEAR _DRIVER_EN_GREEN_LED
                                 1861   
                                 1862   ;;	  SINGLE_LED 		= 0; // Bit D0  => "SINGLE" LED 		(Orange)
                                 1863   CLINEA 0000H 0001H 0436H 0004H 003AH
00:000C 11-90 00-00'             1864   	st	r0,	NEAR _SINGLE_LED
                                 1865   
                                 1866   ;;	  CONTINUOUS_LED 		= 0; // Bit D1  => "CONTINUOUS" LED 	(Orange)
                                 1867   CLINEA 0000H 0001H 0437H 0004H 0041H
00:0010 11-90 00-00'             1868   	st	r0,	NEAR _CONTINUOUS_LED
                                 1869   
                                 1870   ;;	PASS_THRU_GREEN_LED 	= 0; // Bit D3  => "PASS THRU" LED		(GREEN)
                                 1871   CLINEA 0000H 0001H 0439H 0002H 0041H
00:0014 11-90 00-00'             1872   	st	r0,	NEAR _PASS_THRU_GREEN_LED
                                 1873   
                                 1874   ;;	PASS_THRU_RED_LED 	= 0; // Bit D4  => "PASS THRU" LED		(RED)
                                 1875   CLINEA 0000H 0001H 043AH 0002H 003DH
00:0018 11-90 00-00'             1876   	st	r0,	NEAR _PASS_THRU_RED_LED
                                 1877   
                                 1878   ;;	BUFFER_OE_PIN 		= 0; // Bit D11 => Octal Buffer_OE
                                 1879   CLINEA 0000H 0001H 043CH 0002H 0033H
00:001C 11-90 00-00'             1880   	st	r0,	NEAR _BUFFER_OE_PIN
                                 1881   
                                 1882   ;;  Set_LEDs();	// Send 12-Bit Data to BD8377 Driver, Clock & Latch
                                 1883   CLINEA 0000H 0001H 043EH 0003H 0041H
00:0020 00-F0'00-00'             1884   	b	_Set_LEDs
                                 1885   CBLOCKEND 145 2 1088
                                 1886   CLINEA 0000H 0001H 0440H 0001H 001AH
                                 1887   CBLOCKEND 145 1 1088
                                 1888   CFUNCTIONEND 145
                                 1889   
                                 1890   
  --------------------------     1891   	rseg $$LEDStateC$main
                                 1892   CFUNCTION 146
                                 1893   
00:0000                          1894   _LEDStateC	:
                                 1895   CBLOCK 146 1 1095
                                 1896   
                                 1897   ;;void LEDStateC (void){
                                 1898   CLINEA 0000H 0001H 0447H 0001H 0016H
                                 1899   CBLOCK 146 2 1095
                                 1900   
                                 1901   ;;	DRIVER_EN_RED_LED 	= 0; // Bit D6  => "DRIVER ENABLED" LED  	(RED)
                                 1902   CLINEA 0000H 0001H 0450H 0002H 0043H
00:0000 00 00                    1903   	mov	r0,	#00h
00:0002 11-90 00-00'             1904   	st	r0,	NEAR _DRIVER_EN_RED_LED
                                 1905   
                                 1906   ;;	DRIVER_EN_GREEN_LED	= 1; // Bit D5  => "DRIVER ENABLED" LED 	(GREEN)
                                 1907   CLINEA 0000H 0001H 0451H 0002H 0045H
00:0006 01 00                    1908   	mov	r0,	#01h
00:0008 11-90 00-00'             1909   	st	r0,	NEAR _DRIVER_EN_GREEN_LED
                                 1910   
                                 1911   ;;	  SINGLE_LED 		= 0; // Bit D0  => "SINGLE" LED 		(Orange)
                                 1912   CLINEA 0000H 0001H 0453H 0004H 003AH
00:000C 00 00                    1913   	mov	r0,	#00h
00:000E 11-90 00-00'             1914   	st	r0,	NEAR _SINGLE_LED
                                 1915   
                                 1916   ;;	  CONTINUOUS_LED 		= 0; // Bit D1  => "CONTINUOUS" LED 	(Orange)
                                 1917   CLINEA 0000H 0001H 0454H 0004H 0041H
00:0012 11-90 00-00'             1918   	st	r0,	NEAR _CONTINUOUS_LED
                                 1919   
                                 1920   ;;	PASS_THRU_GREEN_LED 	= 0; // Bit D3  => "PASS THRU" LED		(GREEN)
                                 1921   CLINEA 0000H 0001H 0456H 0002H 0041H
00:0016 11-90 00-00'             1922   	st	r0,	NEAR _PASS_THRU_GREEN_LED
                                 1923   
                                 1924   ;;	PASS_THRU_RED_LED 	= 0; // Bit D4  => "PASS THRU" LED		(RED)
                                 1925   CLINEA 0000H 0001H 0457H 0002H 003DH
00:001A 11-90 00-00'             1926   	st	r0,	NEAR _PASS_THRU_RED_LED
                                 1927   
                                 1928   ;;	BUFFER_OE_PIN 		= 0; // Bit D11 => Octal Buffer_OE
                                 1929   CLINEA 0000H 0001H 0459H 0002H 0033H
00:001E 11-90 00-00'             1930   	st	r0,	NEAR _BUFFER_OE_PIN
                                 1931   
                                 1932   ;;  Set_LEDs();	// Send 12-Bit Data to BD8377 Driver, Clock & Latch
                                 1933   CLINEA 0000H 0001H 045BH 0003H 0041H
00:0022 00-F0'00-00'             1934   	b	_Set_LEDs
                                 1935   CBLOCKEND 146 2 1117
                                 1936   CLINEA 0000H 0001H 045DH 0001H 001AH
                                 1937   CBLOCKEND 146 1 1117
                                 1938   CFUNCTIONEND 146
                                 1939   
                                 1940   
  --------------------------     1941   	rseg $$LEDStateC1$main
                                 1942   CFUNCTION 147
                                 1943   
00:0000                          1944   _LEDStateC1	:
                                 1945   CBLOCK 147 1 1124
                                 1946   
                                 1947   ;;void LEDStateC1 (void){
                                 1948   CLINEA 0000H 0001H 0464H 0001H 0017H
                                 1949   CBLOCK 147 2 1124
                                 1950   
                                 1951   ;;	DRIVER_EN_RED_LED 	= 0; // Bit D6  => "DRIVER ENABLED" LED  	(RED)
                                 1952   CLINEA 0000H 0001H 046DH 0002H 0043H
00:0000 00 00                    1953   	mov	r0,	#00h
00:0002 11-90 00-00'             1954   	st	r0,	NEAR _DRIVER_EN_RED_LED
                                 1955   
                                 1956   ;;	DRIVER_EN_GREEN_LED	= 1; // Bit D5  => "DRIVER ENABLED" LED 	(GREEN)
                                 1957   CLINEA 0000H 0001H 046EH 0002H 0045H
00:0006 01 00                    1958   	mov	r0,	#01h
00:0008 11-90 00-00'             1959   	st	r0,	NEAR _DRIVER_EN_GREEN_LED
                                 1960   
                                 1961   ;;	  SINGLE_LED 		= 1; // Bit D0  => "SINGLE" LED 		(Orange)
                                 1962   CLINEA 0000H 0001H 0470H 0004H 003AH
00:000C 11-90 00-00'             1963   	st	r0,	NEAR _SINGLE_LED
                                 1964   
                                 1965   ;;	  CONTINUOUS_LED 		= 0; // Bit D1  => "CONTINUOUS" LED 	(Orange)
                                 1966   CLINEA 0000H 0001H 0471H 0004H 0041H
00:0010 00 00                    1967   	mov	r0,	#00h
00:0012 11-90 00-00'             1968   	st	r0,	NEAR _CONTINUOUS_LED
                                 1969   
                                 1970   ;;	PASS_THRU_GREEN_LED 	= 0; // Bit D3  => "PASS THRU" LED		(GREEN)
                                 1971   CLINEA 0000H 0001H 0473H 0002H 0041H
00:0016 11-90 00-00'             1972   	st	r0,	NEAR _PASS_THRU_GREEN_LED
                                 1973   
                                 1974   ;;	PASS_THRU_RED_LED 	= 0; // Bit D4  => "PASS THRU" LED		(RED)
                                 1975   CLINEA 0000H 0001H 0474H 0002H 003DH
00:001A 11-90 00-00'             1976   	st	r0,	NEAR _PASS_THRU_RED_LED
                                 1977   
                                 1978   ;;	BUFFER_OE_PIN 		= 0; // Bit D11 => Octal Buffer_OE
                                 1979   CLINEA 0000H 0001H 0476H 0002H 0033H
00:001E 11-90 00-00'             1980   	st	r0,	NEAR _BUFFER_OE_PIN
                                 1981   
                                 1982   ;;  Set_LEDs();	// Send 12-Bit Data to BD8377 Driver, Clock & Latch
                                 1983   CLINEA 0000H 0001H 0478H 0003H 0041H
00:0022 00-F0'00-00'             1984   	b	_Set_LEDs
                                 1985   CBLOCKEND 147 2 1146
                                 1986   CLINEA 0000H 0001H 047AH 0001H 001BH
                                 1987   CBLOCKEND 147 1 1146
                                 1988   CFUNCTIONEND 147
                                 1989   
                                 1990   
  --------------------------     1991   	rseg $$LEDStateC1A$main
                                 1992   CFUNCTION 148
                                 1993   
00:0000                          1994   _LEDStateC1A	:
                                 1995   CBLOCK 148 1 1153
                                 1996   
                                 1997   ;;void LEDStateC1A (void){
                                 1998   CLINEA 0000H 0001H 0481H 0001H 0018H
                                 1999   CBLOCK 148 2 1153
                                 2000   
                                 2001   ;;	DRIVER_EN_RED_LED 	= 0; // Bit D6  => "DRIVER ENABLED" LED  	(RED)
                                 2002   CLINEA 0000H 0001H 048AH 0002H 0043H
00:0000 00 00                    2003   	mov	r0,	#00h
00:0002 11-90 00-00'             2004   	st	r0,	NEAR _DRIVER_EN_RED_LED
                                 2005   
                                 2006   ;;	DRIVER_EN_GREEN_LED	= 1; // Bit D5  => "DRIVER ENABLED" LED 	(GREEN)
                                 2007   CLINEA 0000H 0001H 048BH 0002H 0045H
00:0006 01 00                    2008   	mov	r0,	#01h
00:0008 11-90 00-00'             2009   	st	r0,	NEAR _DRIVER_EN_GREEN_LED
                                 2010   
                                 2011   ;;	  SINGLE_LED 		= 0; // Bit D0  => "SINGLE" LED 		(Orange) 
                                 2012   CLINEA 0000H 0001H 048EH 0004H 003BH
00:000C 00 00                    2013   	mov	r0,	#00h
00:000E 11-90 00-00'             2014   	st	r0,	NEAR _SINGLE_LED
                                 2015   
                                 2016   ;;	  CONTINUOUS_LED 		= 0; // Bit D1  => "CONTINUOUS" LED 	(Orange)
                                 2017   CLINEA 0000H 0001H 048FH 0004H 0041H
00:0012 11-90 00-00'             2018   	st	r0,	NEAR _CONTINUOUS_LED
                                 2019   
                                 2020   ;;	PASS_THRU_GREEN_LED 	= 0; // Bit D3  => "PASS THRU" LED		(GREEN)
                                 2021   CLINEA 0000H 0001H 0491H 0002H 0041H
00:0016 11-90 00-00'             2022   	st	r0,	NEAR _PASS_THRU_GREEN_LED
                                 2023   
                                 2024   ;;	PASS_THRU_RED_LED 	= 0; // Bit D4  => "PASS THRU" LED		(RED)
                                 2025   CLINEA 0000H 0001H 0492H 0002H 003DH
00:001A 11-90 00-00'             2026   	st	r0,	NEAR _PASS_THRU_RED_LED
                                 2027   
                                 2028   ;;	BUFFER_OE_PIN 		= 0; // Bit D11 => Octal Buffer_OE
                                 2029   CLINEA 0000H 0001H 0494H 0002H 0033H
00:001E 11-90 00-00'             2030   	st	r0,	NEAR _BUFFER_OE_PIN
                                 2031   
                                 2032   ;;  Set_LEDs();	// Send 12-Bit Data to BD8377 Driver, Clock & Latch
                                 2033   CLINEA 0000H 0001H 0496H 0003H 0041H
00:0022 00-F0'00-00'             2034   	b	_Set_LEDs
                                 2035   CBLOCKEND 148 2 1176
                                 2036   CLINEA 0000H 0001H 0498H 0001H 001CH
                                 2037   CBLOCKEND 148 1 1176
                                 2038   CFUNCTIONEND 148
                                 2039   
                                 2040   
  --------------------------     2041   	rseg $$LEDStateC2$main
                                 2042   CFUNCTION 149
                                 2043   
00:0000                          2044   _LEDStateC2	:
                                 2045   CBLOCK 149 1 1183
                                 2046   
                                 2047   ;;void LEDStateC2 (void){
                                 2048   CLINEA 0000H 0001H 049FH 0001H 0017H
                                 2049   CBLOCK 149 2 1183
                                 2050   
                                 2051   ;;	DRIVER_EN_RED_LED 	= 0; // Bit D6  => "DRIVER ENABLED" LED  	(RED)
                                 2052   CLINEA 0000H 0001H 04A8H 0002H 0043H
00:0000 00 00                    2053   	mov	r0,	#00h
00:0002 11-90 00-00'             2054   	st	r0,	NEAR _DRIVER_EN_RED_LED
                                 2055   
                                 2056   ;;	DRIVER_EN_GREEN_LED	= 1; // Bit D5  => "DRIVER ENABLED" LED 	(GREEN)
                                 2057   CLINEA 0000H 0001H 04A9H 0002H 0045H
00:0006 01 00                    2058   	mov	r0,	#01h
00:0008 11-90 00-00'             2059   	st	r0,	NEAR _DRIVER_EN_GREEN_LED
                                 2060   
                                 2061   ;;	  SINGLE_LED 		= 0; // Bit D0  => "SINGLE" LED 		(Orange)
                                 2062   CLINEA 0000H 0001H 04ABH 0004H 003AH
00:000C 00 00                    2063   	mov	r0,	#00h
00:000E 11-90 00-00'             2064   	st	r0,	NEAR _SINGLE_LED
                                 2065   
                                 2066   ;;	  CONTINUOUS_LED 		= 1; // Bit D1  => "CONTINUOUS" LED 	(Orange)
                                 2067   CLINEA 0000H 0001H 04ACH 0004H 0041H
00:0012 01 00                    2068   	mov	r0,	#01h
00:0014 11-90 00-00'             2069   	st	r0,	NEAR _CONTINUOUS_LED
                                 2070   
                                 2071   ;;	PASS_THRU_GREEN_LED 	= 0; // Bit D3  => "PASS THRU" LED		(GREEN)
                                 2072   CLINEA 0000H 0001H 04AEH 0002H 0041H
00:0018 00 00                    2073   	mov	r0,	#00h
00:001A 11-90 00-00'             2074   	st	r0,	NEAR _PASS_THRU_GREEN_LED
                                 2075   
                                 2076   ;;	PASS_THRU_RED_LED 	= 0; // Bit D4  => "PASS THRU" LED		(RED)
                                 2077   CLINEA 0000H 0001H 04AFH 0002H 003DH
00:001E 11-90 00-00'             2078   	st	r0,	NEAR _PASS_THRU_RED_LED
                                 2079   
                                 2080   ;;	BUFFER_OE_PIN 		= 0; // Bit D11 => Octal Buffer_OE
                                 2081   CLINEA 0000H 0001H 04B1H 0002H 0033H
00:0022 11-90 00-00'             2082   	st	r0,	NEAR _BUFFER_OE_PIN
                                 2083   
                                 2084   ;;  Set_LEDs();	// Send 12-Bit Data to BD8377 Driver, Clock & Latch
                                 2085   CLINEA 0000H 0001H 04B3H 0003H 0041H
00:0026 00-F0'00-00'             2086   	b	_Set_LEDs
                                 2087   CBLOCKEND 149 2 1205
                                 2088   CLINEA 0000H 0001H 04B5H 0001H 001BH
                                 2089   CBLOCKEND 149 1 1205
                                 2090   CFUNCTIONEND 149
                                 2091   
                                 2092   
  --------------------------     2093   	rseg $$LEDStateC2A$main
                                 2094   CFUNCTION 150
                                 2095   
00:0000                          2096   _LEDStateC2A	:
                                 2097   CBLOCK 150 1 1212
                                 2098   
                                 2099   ;;void LEDStateC2A (void){
                                 2100   CLINEA 0000H 0001H 04BCH 0001H 0018H
                                 2101   CBLOCK 150 2 1212
                                 2102   
                                 2103   ;;	DRIVER_EN_RED_LED 	= 0; // Bit D6  => "DRIVER ENABLED" LED  	(RED)
                                 2104   CLINEA 0000H 0001H 04C5H 0002H 0043H
00:0000 00 00                    2105   	mov	r0,	#00h
00:0002 11-90 00-00'             2106   	st	r0,	NEAR _DRIVER_EN_RED_LED
                                 2107   
                                 2108   ;;	DRIVER_EN_GREEN_LED	= 1; // Bit D5  => "DRIVER ENABLED" LED 	(GREEN)
                                 2109   CLINEA 0000H 0001H 04C6H 0002H 0045H
00:0006 01 00                    2110   	mov	r0,	#01h
00:0008 11-90 00-00'             2111   	st	r0,	NEAR _DRIVER_EN_GREEN_LED
                                 2112   
                                 2113   ;;	  SINGLE_LED 		= 0; // Bit D0  => "SINGLE" LED 		(Orange)
                                 2114   CLINEA 0000H 0001H 04C9H 0004H 003AH
00:000C 00 00                    2115   	mov	r0,	#00h
00:000E 11-90 00-00'             2116   	st	r0,	NEAR _SINGLE_LED
                                 2117   
                                 2118   ;;	  CONTINUOUS_LED 		= 0; // Bit D1  => "CONTINUOUS" LED 	(Orange)
                                 2119   CLINEA 0000H 0001H 04CAH 0004H 0041H
00:0012 11-90 00-00'             2120   	st	r0,	NEAR _CONTINUOUS_LED
                                 2121   
                                 2122   ;;	PASS_THRU_GREEN_LED 	= 0; // Bit D3  => "PASS THRU" LED		(GREEN)
                                 2123   CLINEA 0000H 0001H 04CCH 0002H 0041H
00:0016 11-90 00-00'             2124   	st	r0,	NEAR _PASS_THRU_GREEN_LED
                                 2125   
                                 2126   ;;	PASS_THRU_RED_LED 	= 0; // Bit D4  => "PASS THRU" LED		(RED)
                                 2127   CLINEA 0000H 0001H 04CDH 0002H 003DH
00:001A 11-90 00-00'             2128   	st	r0,	NEAR _PASS_THRU_RED_LED
                                 2129   
                                 2130   ;;	BUFFER_OE_PIN 		= 0; // Bit D11 => Octal Buffer_OE
                                 2131   CLINEA 0000H 0001H 04CFH 0002H 0033H
00:001E 11-90 00-00'             2132   	st	r0,	NEAR _BUFFER_OE_PIN
                                 2133   
                                 2134   ;;  Set_LEDs();	// Send 12-Bit Data to BD8377 Driver, Clock & Latch
                                 2135   CLINEA 0000H 0001H 04D1H 0003H 0041H
00:0022 00-F0'00-00'             2136   	b	_Set_LEDs
                                 2137   CBLOCKEND 150 2 1235
                                 2138   CLINEA 0000H 0001H 04D3H 0001H 001CH
                                 2139   CBLOCKEND 150 1 1235
                                 2140   CFUNCTIONEND 150
                                 2141   
                                 2142   
  --------------------------     2143   	rseg $$LEDStateD$main
                                 2144   CFUNCTION 151
                                 2145   
00:0000                          2146   _LEDStateD	:
                                 2147   CBLOCK 151 1 1242
                                 2148   
                                 2149   ;;void LEDStateD (void){
                                 2150   CLINEA 0000H 0001H 04DAH 0001H 0016H
                                 2151   CBLOCK 151 2 1242
                                 2152   
                                 2153   ;;	STEP_MODE_LED 		= 0; // Bit D2  => "STEP MODE" LED 		(Orange)
                                 2154   CLINEA 0000H 0001H 04DDH 0002H 003EH
00:0000 00 00                    2155   	mov	r0,	#00h
00:0002 11-90 00-00'             2156   	st	r0,	NEAR _STEP_MODE_LED
                                 2157   
                                 2158   ;;	  FULL_STEP_LED 		= 0; // Bit D7  => "FULL STEP" LED		(YELLOW)
                                 2159   CLINEA 0000H 0001H 04DEH 0004H 003FH
00:0006 11-90 00-00'             2160   	st	r0,	NEAR _FULL_STEP_LED
                                 2161   
                                 2162   ;;	  HALF_STEP_A_LED 	= 0; // Bit D8  => "HALF STEP A" LED	(YELLOW)
                                 2163   CLINEA 0000H 0001H 04DFH 0004H 0041H
00:000A 11-90 00-00'             2164   	st	r0,	NEAR _HALF_STEP_A_LED
                                 2165   
                                 2166   ;;	  HALF_STEP_B_LED 	= 0; // Bit D9  => "HALF STEP B" LED	(YELLOW)
                                 2167   CLINEA 0000H 0001H 04E0H 0004H 0041H
00:000E 11-90 00-00'             2168   	st	r0,	NEAR _HALF_STEP_B_LED
                                 2169   
                                 2170   ;;	  QUARTER_STEP_LED 	= 0; // Bit D10 => "QUARTER STEP" LED	(YELLOW)
                                 2171   CLINEA 0000H 0001H 04E1H 0004H 0043H
00:0012 11-90 00-00'             2172   	st	r0,	NEAR _QUARTER_STEP_LED
                                 2173   
                                 2174   ;;	DRIVER_EN_RED_LED 	= 0; // Bit D6  => "DRIVER ENABLED" LED  	(RED)
                                 2175   CLINEA 0000H 0001H 04E3H 0002H 0043H
00:0016 11-90 00-00'             2176   	st	r0,	NEAR _DRIVER_EN_RED_LED
                                 2177   
                                 2178   ;;	DRIVER_EN_GREEN_LED	= 0; // Bit D5  => "DRIVER ENABLED" LED 	(GREEN)
                                 2179   CLINEA 0000H 0001H 04E4H 0002H 0045H
00:001A 11-90 00-00'             2180   	st	r0,	NEAR _DRIVER_EN_GREEN_LED
                                 2181   
                                 2182   ;;	  SINGLE_LED 		= 0; // Bit D0  => "SINGLE" LED 		(Orange)
                                 2183   CLINEA 0000H 0001H 04E6H 0004H 003AH
00:001E 11-90 00-00'             2184   	st	r0,	NEAR _SINGLE_LED
                                 2185   
                                 2186   ;;	  CONTINUOUS_LED 		= 0; // Bit D1  => "CONTINUOUS" LED 	(Orange)
                                 2187   CLINEA 0000H 0001H 04E7H 0004H 0041H
00:0022 11-90 00-00'             2188   	st	r0,	NEAR _CONTINUOUS_LED
                                 2189   
                                 2190   ;;	PASS_THRU_GREEN_LED 	= 0; // Bit D3  => "PASS THRU" LED		(GREEN)
                                 2191   CLINEA 0000H 0001H 04E9H 0002H 0041H
00:0026 11-90 00-00'             2192   	st	r0,	NEAR _PASS_THRU_GREEN_LED
                                 2193   
                                 2194   ;;	PASS_THRU_RED_LED 	= 1; // Bit D4  => "PASS THRU" LED		(RED)
                                 2195   CLINEA 0000H 0001H 04EAH 0002H 003DH
00:002A 01 00                    2196   	mov	r0,	#01h
00:002C 11-90 00-00'             2197   	st	r0,	NEAR _PASS_THRU_RED_LED
                                 2198   
                                 2199   ;;	BUFFER_OE_PIN 		= 0; // Bit D11 => Octal Buffer_OE
                                 2200   CLINEA 0000H 0001H 04ECH 0002H 0033H
00:0030 00 00                    2201   	mov	r0,	#00h
00:0032 11-90 00-00'             2202   	st	r0,	NEAR _BUFFER_OE_PIN
                                 2203   
                                 2204   ;;  Set_LEDs();	// Send 12-Bit Data to BD8377 Driver, Clock & Latch
                                 2205   CLINEA 0000H 0001H 04EEH 0003H 0041H
00:0036 00-F0'00-00'             2206   	b	_Set_LEDs
                                 2207   CBLOCKEND 151 2 1264
                                 2208   CLINEA 0000H 0001H 04F0H 0001H 001AH
                                 2209   CBLOCKEND 151 1 1264
                                 2210   CFUNCTIONEND 151
                                 2211   
                                 2212   
  --------------------------     2213   	rseg $$LEDStateE$main
                                 2214   CFUNCTION 152
                                 2215   
00:0000                          2216   _LEDStateE	:
                                 2217   CBLOCK 152 1 1271
                                 2218   
                                 2219   ;;void LEDStateE (void){
                                 2220   CLINEA 0000H 0001H 04F7H 0001H 0016H
                                 2221   CBLOCK 152 2 1271
                                 2222   
                                 2223   ;;	STEP_MODE_LED 		= 0; // Bit D2  => "STEP MODE" LED 		(Orange)
                                 2224   CLINEA 0000H 0001H 04FAH 0002H 003EH
00:0000 00 00                    2225   	mov	r0,	#00h
00:0002 11-90 00-00'             2226   	st	r0,	NEAR _STEP_MODE_LED
                                 2227   
                                 2228   ;;	  FULL_STEP_LED 		= 0; // Bit D7  => "FULL STEP" LED		(YELLOW)
                                 2229   CLINEA 0000H 0001H 04FBH 0004H 003FH
00:0006 11-90 00-00'             2230   	st	r0,	NEAR _FULL_STEP_LED
                                 2231   
                                 2232   ;;	  HALF_STEP_A_LED 	= 0; // Bit D8  => "HALF STEP A" LED	(YELLOW)
                                 2233   CLINEA 0000H 0001H 04FCH 0004H 0041H
00:000A 11-90 00-00'             2234   	st	r0,	NEAR _HALF_STEP_A_LED
                                 2235   
                                 2236   ;;	  HALF_STEP_B_LED 	= 0; // Bit D9  => "HALF STEP B" LED	(YELLOW)
                                 2237   CLINEA 0000H 0001H 04FDH 0004H 0041H
00:000E 11-90 00-00'             2238   	st	r0,	NEAR _HALF_STEP_B_LED
                                 2239   
                                 2240   ;;	  QUARTER_STEP_LED 	= 0; // Bit D10 => "QUARTER STEP" LED	(YELLOW)
                                 2241   CLINEA 0000H 0001H 04FEH 0004H 0043H
00:0012 11-90 00-00'             2242   	st	r0,	NEAR _QUARTER_STEP_LED
                                 2243   
                                 2244   ;;	DRIVER_EN_RED_LED 	= 0; // Bit D6  => "DRIVER ENABLED" LED  	(RED)
                                 2245   CLINEA 0000H 0001H 0500H 0002H 0043H
00:0016 11-90 00-00'             2246   	st	r0,	NEAR _DRIVER_EN_RED_LED
                                 2247   
                                 2248   ;;	DRIVER_EN_GREEN_LED	= 0; // Bit D5  => "DRIVER ENABLED" LED 	(GREEN)
                                 2249   CLINEA 0000H 0001H 0501H 0002H 0045H
00:001A 11-90 00-00'             2250   	st	r0,	NEAR _DRIVER_EN_GREEN_LED
                                 2251   
                                 2252   ;;	  SINGLE_LED 		= 0; // Bit D0  => "SINGLE" LED 		(Orange)
                                 2253   CLINEA 0000H 0001H 0503H 0004H 003AH
00:001E 11-90 00-00'             2254   	st	r0,	NEAR _SINGLE_LED
                                 2255   
                                 2256   ;;	  CONTINUOUS_LED 		= 0; // Bit D1  => "CONTINUOUS" LED 	(Orange)
                                 2257   CLINEA 0000H 0001H 0504H 0004H 0041H
00:0022 11-90 00-00'             2258   	st	r0,	NEAR _CONTINUOUS_LED
                                 2259   
                                 2260   ;;	PASS_THRU_GREEN_LED 	= 1; // Bit D3  => "PASS THRU" LED		(GREEN)
                                 2261   CLINEA 0000H 0001H 0506H 0002H 0041H
00:0026 01 00                    2262   	mov	r0,	#01h
00:0028 11-90 00-00'             2263   	st	r0,	NEAR _PASS_THRU_GREEN_LED
                                 2264   
                                 2265   ;;	PASS_THRU_RED_LED 	= 0; // Bit D4  => "PASS THRU" LED		(RED)
                                 2266   CLINEA 0000H 0001H 0507H 0002H 003DH
00:002C 00 00                    2267   	mov	r0,	#00h
00:002E 11-90 00-00'             2268   	st	r0,	NEAR _PASS_THRU_RED_LED
                                 2269   
                                 2270   ;;	BUFFER_OE_PIN 		= 0; // Bit D11 => Octal Buffer_OE
                                 2271   CLINEA 0000H 0001H 0509H 0002H 0033H
00:0032 11-90 00-00'             2272   	st	r0,	NEAR _BUFFER_OE_PIN
                                 2273   
                                 2274   ;;  Set_LEDs();	// Send 12-Bit Data to BD8377 Driver, Clock & Latch
                                 2275   CLINEA 0000H 0001H 050BH 0003H 0041H
00:0036 00-F0'00-00'             2276   	b	_Set_LEDs
                                 2277   CBLOCKEND 152 2 1293
                                 2278   CLINEA 0000H 0001H 050DH 0001H 001AH
                                 2279   CBLOCKEND 152 1 1293
                                 2280   CFUNCTIONEND 152
                                 2281   
                                 2282   
  --------------------------     2283   	rseg $$DisableController$main
                                 2284   CFUNCTION 153
                                 2285   
00:0000                          2286   _DisableController	:
                                 2287   CBLOCK 153 1 1301
                                 2288   
                                 2289   ;;void DisableController(void){
                                 2290   CLINEA 0000H 0001H 0515H 0001H 001DH
                                 2291   CBLOCK 153 2 1301
                                 2292   
                                 2293   ;;	FULL_STEP_LED 	= 0; // Bit D7  => "FULL STEP" LED		(YELLOW)
                                 2294   CLINEA 0000H 0001H 051FH 0002H 003CH
00:0000 00 00                    2295   	mov	r0,	#00h
00:0002 11-90 00-00'             2296   	st	r0,	NEAR _FULL_STEP_LED
                                 2297   
                                 2298   ;;	HALF_STEP_A_LED 	= 0; // Bit D8  => "HALF STEP A" LED	(YELLOW)
                                 2299   CLINEA 0000H 0001H 0520H 0002H 003FH
00:0006 11-90 00-00'             2300   	st	r0,	NEAR _HALF_STEP_A_LED
                                 2301   
                                 2302   ;;	HALF_STEP_B_LED 	= 0; // Bit D9  => "HALF STEP B" LED	(YELLOW)
                                 2303   CLINEA 0000H 0001H 0521H 0002H 003FH
00:000A 11-90 00-00'             2304   	st	r0,	NEAR _HALF_STEP_B_LED
                                 2305   
                                 2306   ;;	QUARTER_STEP_LED 	= 0; // Bit D10 => "QUARTER STEP" LED	(YELLOW)
                                 2307   CLINEA 0000H 0001H 0522H 0002H 0041H
00:000E 11-90 00-00'             2308   	st	r0,	NEAR _QUARTER_STEP_LED
                                 2309   
                                 2310   ;;	ClkIn_Stepper_ENABLE = 0;	//Set PIN LOW to DISABLE.
                                 2311   CLINEA 0000H 0001H 0524H 0002H 0034H
00:0012 C2-A0 58-F2              2312   	rb	0f258h.4
                                 2313   CBLOCKEND 153 2 1318
                                 2314   
                                 2315   ;;} //END DisableController Function
                                 2316   CLINEA 0000H 0001H 0526H 0001H 0022H
00:0016 1F-FE                    2317   	rt
                                 2318   CBLOCKEND 153 1 1318
                                 2319   CFUNCTIONEND 153
                                 2320   
                                 2321   
  --------------------------     2322   	rseg $$EnableController$main
                                 2323   CFUNCTION 154
                                 2324   
00:0000                          2325   _EnableController	:
                                 2326   CBLOCK 154 1 1325
                                 2327   
                                 2328   ;;void EnableController(void){
                                 2329   CLINEA 0000H 0001H 052DH 0001H 001CH
                                 2330   CBLOCK 154 2 1325
                                 2331   
                                 2332   ;;	ClkIn_Stepper_ENABLE = 1;	//Set PIN HIGH to ENABLE.
                                 2333   CLINEA 0000H 0001H 0535H 0002H 0034H
00:0000 C0-A0 58-F2              2334   	sb	0f258h.4
                                 2335   CBLOCKEND 154 2 1335
                                 2336   
                                 2337   ;;} //END EnableController Function
                                 2338   CLINEA 0000H 0001H 0537H 0001H 0021H
00:0004 1F-FE                    2339   	rt
                                 2340   CBLOCKEND 154 1 1335
                                 2341   CFUNCTIONEND 154
                                 2342   
                                 2343   
  --------------------------     2344   	rseg $$ZeroFrequency$main
                                 2345   CFUNCTION 159
                                 2346   
00:0000                          2347   _ZeroFrequency	:
                                 2348   CBLOCK 159 1 1342
                                 2349   
                                 2350   ;;void ZeroFrequency(void){
                                 2351   CLINEA 0000H 0001H 053EH 0001H 0019H
                                 2352   CBLOCK 159 2 1342
                                 2353   
                                 2354   ;;	Frequency = 0;	//Set Frequency back to zero.
                                 2355   CLINEA 0000H 0001H 0542H 0002H 002DH
00:0000 00 E0                    2356   	mov	er0,	#0 
00:0002 13-90 00-00'             2357   	st	er0,	NEAR _Frequency
                                 2358   CBLOCKEND 159 2 1348
                                 2359   
                                 2360   ;;} //END ZeroFrequency Function
                                 2361   CLINEA 0000H 0001H 0544H 0001H 001EH
00:0006 1F-FE                    2362   	rt
                                 2363   CBLOCKEND 159 1 1348
                                 2364   CFUNCTIONEND 159
                                 2365   
                                 2366   
  --------------------------     2367   	rseg $$ButtonKnobCheck$main
                                 2368   CFUNCTION 155
                                 2369   
00:0000                          2370   _ButtonKnobCheck	:
                                 2371   CBLOCK 155 1 1361
                                 2372   
                                 2373   ;;void ButtonKnobCheck (void){	
                                 2374   CLINEA 0000H 0001H 0551H 0001H 001DH
00:0000 CE-F8                    2375   	push	lr
                                 2376   CBLOCK 155 2 1361
                                 2377   CRET 0000H
                                 2378   
                                 2379   ;;	if (Encoder_BUTTON == 0) 		// Encoder Button Pressed?			
                                 2380   CLINEA 0000H 0001H 0557H 0002H 0039H
00:0002 A1-A0 50-F2              2381   	tb	0f250h.2
00:0006 0A C8                    2382   	bne	_$L65
                                 2383   CBLOCK 155 3 1368
                                 2384   
                                 2385   ;;		button_flag = 1;	//Set Flag to indicate Button was pressed
                                 2386   CLINEA 0000H 0001H 0559H 0003H 003CH
00:0008 01 E0                    2387   	mov	er0,	#1 
00:000A 13-90 00-00'             2388   	st	er0,	NEAR _button_flag
                                 2389   
                                 2390   ;;		do 
                                 2391   CLINEA 0000H 0001H 055CH 0003H 0005H
00:000E                          2392   _$L69 :
                                 2393   CBLOCK 155 4 1373
                                 2394   
                                 2395   ;;			ALL_LEDs_OFF();		// Turns LEDs off at Startup / RESET
                                 2396   CLINEA 0000H 0001H 055EH 0004H 0038H
00:000E 01-F0'00-00'             2397   	bl	_ALL_LEDs_OFF
                                 2398   
                                 2399   ;;			NOPxxx(); //Extra Debounce time...
                                 2400   CLINEA 0000H 0001H 055FH 0004H 0025H
00:0012 01-F0'00-00'             2401   	bl	_NOPxxx
                                 2402   CBLOCKEND 155 4 1376
                                 2403   
                                 2404   ;;		}while (Encoder_BUTTON == 0);
                                 2405   CLINEA 0000H 0000H 0560H 0003H 001FH
00:0016 A1-A0 50-F2              2406   	tb	0f250h.2
00:001A F9 C9                    2407   	beq	_$L69
                                 2408   CBLOCKEND 155 3 1378
                                 2409   
                                 2410   ;;	}//endif "Encoder Button Pressed?" 
                                 2411   CLINEA 0000H 0000H 0562H 0002H 0024H
00:001C                          2412   _$L65 :
                                 2413   
                                 2414   ;;	if (button_flag == 1)
                                 2415   CLINEA 0000H 0001H 0566H 0002H 0016H
00:001C 12-90 00-00'             2416   	l	er0,	NEAR _button_flag
00:0020 01 70                    2417   	cmp	r0,	#01h
00:0022 00 51                    2418   	cmpc	r1,	#00h
00:0024 0F C8                    2419   	bne	_$L76
                                 2420   CBLOCK 155 5 1383
                                 2421   
                                 2422   ;;		button_flag = 0; //First, Clear Flag!
                                 2423   CLINEA 0000H 0001H 0568H 0003H 0027H
00:0026 00 E0                    2424   	mov	er0,	#0 
00:0028 13-90 00-00'             2425   	st	er0,	NEAR _button_flag
                                 2426   
                                 2427   ;;		switch (mode) //...and if previous position was ONE, then direction is xxx  
                                 2428   CLINEA 0000H 0001H 056BH 0003H 004EH
00:002C 12-90 00-00'             2429   	l	er0,	NEAR _mode
                                 2430   CBLOCK 155 6 1388
00:0030 0F 70                    2431   	cmp	r0,	#0fh
00:0032 00 51                    2432   	cmpc	r1,	#00h
00:0034 02 C3                    2433   	ble	_$M61
00:0036 00-F0'00-00'             2434   	b	_$L77
00:003A                          2435   _$M61 :
00:003A 1B-91                    2436   	sllc	r1,	#01h
00:003C 1A-90                    2437   	sll	r0,	#01h
00:003E 08-A0 00-00'             2438   	l	er0,	NEAR _$M59[er0]
00:0042 02-F0                    2439   	b	er0
                                 2440   
                                 2441   ;;		}//End "mode" Switch
00:0044                          2442   _$L76 :
                                 2443   CBLOCKEND 155 5 1448
                                 2444   
                                 2445   ;;	EncoderDirection();	//direction; //0=NO CHANGE, 1=CW, 2=CCW, 3=Unknown
                                 2446   CLINEA 0000H 0001H 05ACH 0002H 0047H
00:0044 01-F0'00-00'             2447   	bl	_EncoderDirection
                                 2448   
                                 2449   ;;	if (direction != 0)
                                 2450   CLINEA 0000H 0001H 05AFH 0002H 0014H
00:0048 12-90 00-00'             2451   	l	er0,	NEAR _direction
00:004C 0C C9                    2452   	beq	_$L99
                                 2453   CBLOCK 155 7 1456
                                 2454   
                                 2455   ;;		switch (mode) //...and if previous position was ONE, then direction is xxx  
                                 2456   CLINEA 0000H 0001H 05B2H 0003H 004EH
00:004E 12-90 00-00'             2457   	l	er0,	NEAR _mode
                                 2458   CBLOCK 155 8 1459
00:0052 0F 70                    2459   	cmp	r0,	#0fh
00:0054 00 51                    2460   	cmpc	r1,	#00h
00:0056 02 C3                    2461   	ble	_$M62
00:0058 00-F0'00-00'             2462   	b	_$L100
00:005C                          2463   _$M62 :
00:005C 1B-91                    2464   	sllc	r1,	#01h
00:005E 1A-90                    2465   	sll	r0,	#01h
00:0060 08-A0 00-00'             2466   	l	er0,	NEAR _$M60[er0]
00:0064 02-F0                    2467   	b	er0
                                 2468   
                                 2469   ;;		}//End "mode" then "directiion" Switch	
00:0066                          2470   _$L99 :
                                 2471   CBLOCKEND 155 7 1714
                                 2472   CBLOCKEND 155 2 1717
                                 2473   
                                 2474   ;;} //END ButtonKnobCheck  Function
                                 2475   CLINEA 0000H 0001H 06B5H 0001H 0021H
00:0066 8E-F2                    2476   	pop	pc
                                 2477   
                                 2478   ;;		case 0:
                                 2479   CLINEA 0000H 0001H 056DH 0003H 0009H
00:0068                          2480   _$S78 :
                                 2481   
                                 2482   ;;			DisableController(); //DISABLE & 
                                 2483   CLINEA 0000H 0001H 056EH 0004H 0024H
00:0068 01-F0'00-00'             2484   	bl	_DisableController
                                 2485   
                                 2486   ;;			mode = 1;		   //Default to STEP MODE (#1)	
                                 2487   CLINEA 0000H 0001H 056FH 0004H 002DH
00:006C 01 E0                    2488   	mov	er0,	#1 
00:006E 13-90 00-00'             2489   	st	er0,	NEAR _mode
                                 2490   
                                 2491   ;;			break;
                                 2492   CLINEA 0000H 0001H 0570H 0004H 0009H
00:0072 E8 CE                    2493   	bal	_$L76
                                 2494   
                                 2495   ;;		case 1:
                                 2496   CLINEA 0000H 0001H 0571H 0003H 0009H
00:0074                          2497   _$S79 :
                                 2498   
                                 2499   ;;			mode = 14;		//Jump down to PASS THRU RED (#14)
                                 2500   CLINEA 0000H 0001H 0572H 0004H 0031H
00:0074 0E E0                    2501   	mov	er0,	#14
00:0076 13-90 00-00'             2502   	st	er0,	NEAR _mode
                                 2503   
                                 2504   ;;			break;
                                 2505   CLINEA 0000H 0001H 0573H 0004H 0009H
00:007A E4 CE                    2506   	bal	_$L76
                                 2507   
                                 2508   ;;		case 2:
                                 2509   CLINEA 0000H 0001H 0574H 0003H 0009H
00:007C                          2510   _$S80 :
                                 2511   
                                 2512   ;;			mode = 6;		//Move on to Driver ENABLE-RED (#6)
                                 2513   CLINEA 0000H 0001H 0575H 0004H 0031H
00:007C 06 E0                    2514   	mov	er0,	#6 
00:007E 13-90 00-00'             2515   	st	er0,	NEAR _mode
                                 2516   
                                 2517   ;;			break;
                                 2518   CLINEA 0000H 0001H 0576H 0004H 0009H
00:0082 E0 CE                    2519   	bal	_$L76
                                 2520   
                                 2521   ;;		case 3:
                                 2522   CLINEA 0000H 0001H 0577H 0003H 0009H
00:0084                          2523   _$S81 :
                                 2524   
                                 2525   ;;			mode = 6;		//Move on to Driver ENABLE-RED (#6)		
                                 2526   CLINEA 0000H 0001H 0578H 0004H 0033H
00:0084 06 E0                    2527   	mov	er0,	#6 
00:0086 13-90 00-00'             2528   	st	er0,	NEAR _mode
                                 2529   
                                 2530   ;;			break;
                                 2531   CLINEA 0000H 0001H 0579H 0004H 0009H
00:008A DC CE                    2532   	bal	_$L76
                                 2533   
                                 2534   ;;		case 4:
                                 2535   CLINEA 0000H 0001H 057AH 0003H 0009H
00:008C                          2536   _$S82 :
                                 2537   
                                 2538   ;;			mode = 6;		//Move on to Driver ENABLE-RED (#6)
                                 2539   CLINEA 0000H 0001H 057BH 0004H 0031H
00:008C 06 E0                    2540   	mov	er0,	#6 
00:008E 13-90 00-00'             2541   	st	er0,	NEAR _mode
                                 2542   
                                 2543   ;;			break;
                                 2544   CLINEA 0000H 0001H 057CH 0004H 0009H
00:0092 D8 CE                    2545   	bal	_$L76
                                 2546   
                                 2547   ;;		case 5:
                                 2548   CLINEA 0000H 0001H 057DH 0003H 0009H
00:0094                          2549   _$S83 :
                                 2550   
                                 2551   ;;			mode = 6;		//Move on to Driver ENABLE-RED (#6)
                                 2552   CLINEA 0000H 0001H 057EH 0004H 0031H
00:0094 06 E0                    2553   	mov	er0,	#6 
00:0096 13-90 00-00'             2554   	st	er0,	NEAR _mode
                                 2555   
                                 2556   ;;			break;
                                 2557   CLINEA 0000H 0001H 057FH 0004H 0009H
00:009A D4 CE                    2558   	bal	_$L76
                                 2559   
                                 2560   ;;		case 6:
                                 2561   CLINEA 0000H 0001H 0580H 0003H 0009H
00:009C                          2562   _$S84 :
                                 2563   
                                 2564   ;;			DisableController(); //DISABLE & 
                                 2565   CLINEA 0000H 0001H 0581H 0004H 0024H
00:009C 01-F0'00-00'             2566   	bl	_DisableController
                                 2567   
                                 2568   ;;			mode = 14;		   //Move to PASS THRU - RED (#14)
                                 2569   CLINEA 0000H 0001H 0582H 0004H 0031H
00:00A0 0E E0                    2570   	mov	er0,	#14
00:00A2 13-90 00-00'             2571   	st	er0,	NEAR _mode
                                 2572   
                                 2573   ;;			break;
                                 2574   CLINEA 0000H 0001H 0583H 0004H 0009H
00:00A6 CE CE                    2575   	bal	_$L76
                                 2576   
                                 2577   ;;		case 7:	
                                 2578   CLINEA 0000H 0001H 0584H 0003H 000AH
00:00A8                          2579   _$S85 :
                                 2580   
                                 2581   ;;			mode = 8;		//Move to SINGLE STEP MODE (#8)
                                 2582   CLINEA 0000H 0001H 0585H 0004H 002DH
00:00A8 08 E0                    2583   	mov	er0,	#8 
00:00AA 13-90 00-00'             2584   	st	er0,	NEAR _mode
                                 2585   
                                 2586   ;;			break;
                                 2587   CLINEA 0000H 0001H 0586H 0004H 0009H
00:00AE CA CE                    2588   	bal	_$L76
                                 2589   
                                 2590   ;;		case 8:
                                 2591   CLINEA 0000H 0001H 0587H 0003H 0009H
00:00B0                          2592   _$S86 :
                                 2593   
                                 2594   ;;			mode = 11;		//Go onto CONTINUOUS Mode (#11)
                                 2595   CLINEA 0000H 0001H 0588H 0004H 002EH
00:00B0 0B E0                    2596   	mov	er0,	#11
00:00B2 13-90 00-00'             2597   	st	er0,	NEAR _mode
                                 2598   
                                 2599   ;;			break;
                                 2600   CLINEA 0000H 0001H 0589H 0004H 0009H
00:00B6 C6 CE                    2601   	bal	_$L76
                                 2602   
                                 2603   ;;		case 9:
                                 2604   CLINEA 0000H 0001H 058AH 0003H 0009H
00:00B8                          2605   _$S87 :
                                 2606   
                                 2607   ;;			mode = 11;		//Go onto CONTINUOUS Mode (#11)
                                 2608   CLINEA 0000H 0001H 058BH 0004H 002EH
00:00B8 0B E0                    2609   	mov	er0,	#11
00:00BA 13-90 00-00'             2610   	st	er0,	NEAR _mode
                                 2611   
                                 2612   ;;			break;
                                 2613   CLINEA 0000H 0001H 058CH 0004H 0009H
00:00BE C2 CE                    2614   	bal	_$L76
                                 2615   
                                 2616   ;;		case 10:
                                 2617   CLINEA 0000H 0001H 058DH 0003H 000AH
00:00C0                          2618   _$S88 :
                                 2619   
                                 2620   ;;			mode = 11;		//Go onto CONTINUOUS Mode (#11)
                                 2621   CLINEA 0000H 0001H 058EH 0004H 002EH
00:00C0 0B E0                    2622   	mov	er0,	#11
00:00C2 13-90 00-00'             2623   	st	er0,	NEAR _mode
                                 2624   
                                 2625   ;;			break;
                                 2626   CLINEA 0000H 0001H 058FH 0004H 0009H
00:00C6 BE CE                    2627   	bal	_$L76
                                 2628   
                                 2629   ;;		case 11:
                                 2630   CLINEA 0000H 0001H 0590H 0003H 000AH
00:00C8                          2631   _$S89 :
                                 2632   
                                 2633   ;;			mode = 7;		//Return to DRIVER-ENABLE-GREEN (#7)
                                 2634   CLINEA 0000H 0001H 0591H 0004H 0032H
00:00C8 07 E0                    2635   	mov	er0,	#7 
00:00CA 13-90 00-00'             2636   	st	er0,	NEAR _mode
                                 2637   
                                 2638   ;;			break;
                                 2639   CLINEA 0000H 0001H 0592H 0004H 0009H
00:00CE 00-F0'00-00'             2640   	b	_$L76
                                 2641   
                                 2642   ;;		case 12:
                                 2643   CLINEA 0000H 0001H 0593H 0003H 000AH
00:00D2                          2644   _$S90 :
                                 2645   
                                 2646   ;; 			DisableController(); //DISABLE & 
                                 2647   CLINEA 0000H 0001H 0594H 0005H 0025H
00:00D2 01-F0'00-00'             2648   	bl	_DisableController
                                 2649   
                                 2650   ;;			ZeroFrequency();	   //Zero the Frequency & Return to Continuous Mode (#11)
                                 2651   CLINEA 0000H 0001H 0595H 0004H 004DH
00:00D6 01-F0'00-00'             2652   	bl	_ZeroFrequency
                                 2653   
                                 2654   ;;			mode = 11;
                                 2655   CLINEA 0000H 0001H 0596H 0004H 000DH
00:00DA 0B E0                    2656   	mov	er0,	#11
00:00DC 13-90 00-00'             2657   	st	er0,	NEAR _mode
                                 2658   
                                 2659   ;;			break;
                                 2660   CLINEA 0000H 0001H 0597H 0004H 0009H
00:00E0 00-F0'00-00'             2661   	b	_$L76
                                 2662   
                                 2663   ;;		case 13:
                                 2664   CLINEA 0000H 0001H 0598H 0003H 000AH
00:00E4                          2665   _$S91 :
                                 2666   
                                 2667   ;;			DisableController(); //DISABLE & 
                                 2668   CLINEA 0000H 0001H 0599H 0004H 0024H
00:00E4 01-F0'00-00'             2669   	bl	_DisableController
                                 2670   
                                 2671   ;;			ZeroFrequency();	   //Zero the Frequency & Return to Continuous Mode (#11)
                                 2672   CLINEA 0000H 0001H 059AH 0004H 004DH
00:00E8 01-F0'00-00'             2673   	bl	_ZeroFrequency
                                 2674   
                                 2675   ;;			mode = 11;	
                                 2676   CLINEA 0000H 0001H 059BH 0004H 000EH
00:00EC 0B E0                    2677   	mov	er0,	#11
00:00EE 13-90 00-00'             2678   	st	er0,	NEAR _mode
                                 2679   
                                 2680   ;;			break;
                                 2681   CLINEA 0000H 0001H 059CH 0004H 0009H
00:00F2 00-F0'00-00'             2682   	b	_$L76
                                 2683   
                                 2684   ;;		case 14:
                                 2685   CLINEA 0000H 0001H 059DH 0003H 000AH
00:00F6                          2686   _$S92 :
                                 2687   
                                 2688   ;;			mode = 1;		//Return to STEP MODE (#1)
                                 2689   CLINEA 0000H 0001H 059EH 0004H 0028H
00:00F6 01 E0                    2690   	mov	er0,	#1 
00:00F8 13-90 00-00'             2691   	st	er0,	NEAR _mode
                                 2692   
                                 2693   ;;			break;
                                 2694   CLINEA 0000H 0001H 059FH 0004H 0009H
00:00FC 00-F0'00-00'             2695   	b	_$L76
                                 2696   
                                 2697   ;;		case 15:
                                 2698   CLINEA 0000H 0001H 05A0H 0003H 000AH
00:0100                          2699   _$S93 :
                                 2700   
                                 2701   ;;			mode = 14;		//Return to PASS THRU RED (#14)
                                 2702   CLINEA 0000H 0001H 05A1H 0004H 002EH
00:0100 0E E0                    2703   	mov	er0,	#14
00:0102 13-90 00-00'             2704   	st	er0,	NEAR _mode
                                 2705   
                                 2706   ;;			break;
                                 2707   CLINEA 0000H 0001H 05A2H 0004H 0009H
00:0106 00-F0'00-00'             2708   	b	_$L76
                                 2709   
                                 2710   ;;		default:	
                                 2711   CLINEA 0000H 0001H 05A3H 0003H 000BH
00:010A                          2712   _$L77 :
                                 2713   
                                 2714   ;;			mode = 1;		//Default to STEP MODE (#1)
                                 2715   CLINEA 0000H 0001H 05A4H 0004H 0029H
00:010A 01 E0                    2716   	mov	er0,	#1 
00:010C 13-90 00-00'             2717   	st	er0,	NEAR _mode
                                 2718   
                                 2719   ;;			break;
                                 2720   CLINEA 0000H 0001H 05A5H 0004H 0009H
00:0110 00-F0'00-00'             2721   	b	_$L76
                                 2722   CBLOCKEND 155 6 1446
                                 2723   
                                 2724   ;;		case 0:			//No Action at "0"
                                 2725   CLINEA 0000H 0001H 05B4H 0003H 001EH
00:0114                          2726   _$S101 :
                                 2727   
                                 2728   ;;			break;
                                 2729   CLINEA 0000H 0001H 05B5H 0004H 0009H
00:0114 00-F0'00-00'             2730   	b	_$L99
                                 2731   
                                 2732   ;;		case 1:
                                 2733   CLINEA 0000H 0001H 05B6H 0003H 0009H
00:0118                          2734   _$S102 :
                                 2735   CBLOCK 155 9 1464
                                 2736   
                                 2737   ;;			switch (direction ) 
                                 2738   CLINEA 0000H 0001H 05B7H 0004H 0017H
00:0118 10-90 00-00'             2739   	l	r0,	NEAR _direction+01h
00:011C 02 C9                    2740   	beq	_$M63
00:011E 00-F0'00-00'             2741   	b	_$L99
00:0122                          2742   _$M63 :
00:0122 10-90 00-00'             2743   	l	r0,	NEAR _direction
00:0126 01 70                    2744   	cmp	r0,	#01h
00:0128 02 C8                    2745   	bne	_$M64
00:012A 00-F0'00-00'             2746   	b	_$L108
00:012E                          2747   _$M64 :
                                 2748   
                                 2749   ;;			switch (direction ) 
                                 2750   CLINEA 0000H 0000H 05B7H 0004H 0017H
00:012E 02 70                    2751   	cmp	r0,	#02h
00:0130 02 C8                    2752   	bne	_$M65
00:0132 00-F0'00-00'             2753   	b	_$L113
00:0136                          2754   _$M65 :
                                 2755   
                                 2756   ;;			}//End "direction" Switch
                                 2757   CLINEA 0000H 0000H 05CFH 0004H 001CH
00:0136                          2758   _$L106 :
                                 2759   
                                 2760   ;;			break;
                                 2761   CLINEA 0000H 0001H 05D0H 0004H 0009H
00:0136 00-F0'00-00'             2762   	b	_$L99
                                 2763   
                                 2764   ;;		case 2:
                                 2765   CLINEA 0000H 0001H 05D2H 0003H 0009H
00:013A                          2766   _$S118 :
                                 2767   CBLOCK 155 14 1492
                                 2768   
                                 2769   ;;			switch (direction ) 
                                 2770   CLINEA 0000H 0001H 05D3H 0004H 0017H
00:013A 10-90 00-00'             2771   	l	r0,	NEAR _direction+01h
00:013E 02 C9                    2772   	beq	_$M66
00:0140 00-F0'00-00'             2773   	b	_$L99
00:0144                          2774   _$M66 :
00:0144 10-90 00-00'             2775   	l	r0,	NEAR _direction
00:0148 01 70                    2776   	cmp	r0,	#01h
00:014A 02 C8                    2777   	bne	_$M67
00:014C 00-F0'00-00'             2778   	b	_$L124
00:0150                          2779   _$M67 :
                                 2780   
                                 2781   ;;			switch (direction ) 
                                 2782   CLINEA 0000H 0000H 05D3H 0004H 0017H
00:0150 02 70                    2783   	cmp	r0,	#02h
00:0152 02 C8                    2784   	bne	_$M68
00:0154 00-F0'00-00'             2785   	b	_$L129
00:0158                          2786   _$M68 :
                                 2787   
                                 2788   ;;			}//End "direction" Switch		
                                 2789   CLINEA 0000H 0000H 05EBH 0004H 001EH
00:0158                          2790   _$L122 :
                                 2791   
                                 2792   ;;			break;
                                 2793   CLINEA 0000H 0001H 05ECH 0004H 0009H
00:0158 00-F0'00-00'             2794   	b	_$L99
                                 2795   
                                 2796   ;;		case 3:						//CAN SIMPLIFY this particular case...
                                 2797   CLINEA 0000H 0001H 05EEH 0003H 0035H
00:015C                          2798   _$S134 :
                                 2799   CBLOCK 155 19 1520
                                 2800   
                                 2801   ;;			switch (direction ) 
                                 2802   CLINEA 0000H 0001H 05EFH 0004H 0017H
00:015C 10-90 00-00'             2803   	l	r0,	NEAR _direction+01h
00:0160 02 C9                    2804   	beq	_$M69
00:0162 00-F0'00-00'             2805   	b	_$L99
00:0166                          2806   _$M69 :
00:0166 10-90 00-00'             2807   	l	r0,	NEAR _direction
00:016A 01 70                    2808   	cmp	r0,	#01h
00:016C 02 C8                    2809   	bne	_$M70
00:016E 00-F0'00-00'             2810   	b	_$L140
00:0172                          2811   _$M70 :
                                 2812   
                                 2813   ;;			switch (direction ) 
                                 2814   CLINEA 0000H 0000H 05EFH 0004H 0017H
00:0172 02 70                    2815   	cmp	r0,	#02h
00:0174 02 C8                    2816   	bne	_$M71
00:0176 00-F0'00-00'             2817   	b	_$L145
00:017A                          2818   _$M71 :
                                 2819   
                                 2820   ;;			}//End "direction" Switch			
                                 2821   CLINEA 0000H 0000H 0607H 0004H 001FH
00:017A                          2822   _$L138 :
                                 2823   
                                 2824   ;;			break;
                                 2825   CLINEA 0000H 0001H 0608H 0004H 0009H
00:017A 00-F0'00-00'             2826   	b	_$L99
                                 2827   
                                 2828   ;;		case 4:						//CAN SIMPLIFY this particular case...
                                 2829   CLINEA 0000H 0001H 060AH 0003H 0035H
00:017E                          2830   _$S150 :
                                 2831   CBLOCK 155 24 1548
                                 2832   
                                 2833   ;;			switch (direction ) 
                                 2834   CLINEA 0000H 0001H 060BH 0004H 0017H
00:017E 10-90 00-00'             2835   	l	r0,	NEAR _direction+01h
00:0182 02 C9                    2836   	beq	_$M72
00:0184 00-F0'00-00'             2837   	b	_$L99
00:0188                          2838   _$M72 :
00:0188 10-90 00-00'             2839   	l	r0,	NEAR _direction
00:018C 01 70                    2840   	cmp	r0,	#01h
00:018E 02 C8                    2841   	bne	_$M73
00:0190 00-F0'00-00'             2842   	b	_$L156
00:0194                          2843   _$M73 :
                                 2844   
                                 2845   ;;			switch (direction ) 
                                 2846   CLINEA 0000H 0000H 060BH 0004H 0017H
00:0194 02 70                    2847   	cmp	r0,	#02h
00:0196 02 C8                    2848   	bne	_$M74
00:0198 00-F0'00-00'             2849   	b	_$L161
00:019C                          2850   _$M74 :
                                 2851   
                                 2852   ;;			}//End "direction" Switch			
                                 2853   CLINEA 0000H 0000H 0623H 0004H 001FH
00:019C                          2854   _$L154 :
                                 2855   
                                 2856   ;;			break;
                                 2857   CLINEA 0000H 0001H 0624H 0004H 0009H
00:019C 00-F0'00-00'             2858   	b	_$L99
                                 2859   
                                 2860   ;;		case 5:
                                 2861   CLINEA 0000H 0001H 0626H 0003H 0009H
00:01A0                          2862   _$S166 :
                                 2863   CBLOCK 155 29 1576
                                 2864   
                                 2865   ;;			switch (direction ) 
                                 2866   CLINEA 0000H 0001H 0627H 0004H 0017H
00:01A0 10-90 00-00'             2867   	l	r0,	NEAR _direction+01h
00:01A4 02 C9                    2868   	beq	_$M75
00:01A6 00-F0'00-00'             2869   	b	_$L99
00:01AA                          2870   _$M75 :
00:01AA 10-90 00-00'             2871   	l	r0,	NEAR _direction
00:01AE 01 70                    2872   	cmp	r0,	#01h
00:01B0 02 C8                    2873   	bne	_$M76
00:01B2 00-F0'00-00'             2874   	b	_$L172
00:01B6                          2875   _$M76 :
                                 2876   
                                 2877   ;;			switch (direction ) 
                                 2878   CLINEA 0000H 0000H 0627H 0004H 0017H
00:01B6 02 70                    2879   	cmp	r0,	#02h
00:01B8 02 C8                    2880   	bne	_$M77
00:01BA 00-F0'00-00'             2881   	b	_$L177
00:01BE                          2882   _$M77 :
                                 2883   
                                 2884   ;;			}//End "direction" Switch			
                                 2885   CLINEA 0000H 0000H 063FH 0004H 001FH
00:01BE                          2886   _$L170 :
                                 2887   
                                 2888   ;;			break;
                                 2889   CLINEA 0000H 0001H 0640H 0004H 0009H
00:01BE 00-F0'00-00'             2890   	b	_$L99
                                 2891   
                                 2892   ;;		case 6:
                                 2893   CLINEA 0000H 0001H 0642H 0003H 0009H
00:01C2                          2894   _$S182 :
                                 2895   
                                 2896   ;;			mode = 7;	//Rotation in either direction moves to Driver-Enable-GREEN (#7)
                                 2897   CLINEA 0000H 0001H 0643H 0004H 004DH
00:01C2 07 E0                    2898   	mov	er0,	#7 
00:01C4 13-90 00-00'             2899   	st	er0,	NEAR _mode
                                 2900   
                                 2901   ;;			break;
                                 2902   CLINEA 0000H 0001H 0644H 0004H 0009H
00:01C8 00-F0'00-00'             2903   	b	_$L99
                                 2904   
                                 2905   ;;		case 7:	
                                 2906   CLINEA 0000H 0001H 0646H 0003H 000AH
00:01CC                          2907   _$S183 :
                                 2908   
                                 2909   ;;			mode = 6;	//Rotation in either direction moves back to Driver-Enable-RED (#6)
                                 2910   CLINEA 0000H 0001H 0647H 0004H 0050H
00:01CC 06 E0                    2911   	mov	er0,	#6 
00:01CE 13-90 00-00'             2912   	st	er0,	NEAR _mode
                                 2913   
                                 2914   ;;			break;
                                 2915   CLINEA 0000H 0001H 0648H 0004H 0009H
00:01D2 00-F0'00-00'             2916   	b	_$L99
                                 2917   
                                 2918   ;;		case 8:		//SINGLE-STEP MODE...
                                 2919   CLINEA 0000H 0001H 064AH 0003H 0020H
00:01D6                          2920   _$S184 :
                                 2921   
                                 2922   ;;			if (direction == 1){
                                 2923   CLINEA 0000H 0001H 064CH 0004H 0017H
00:01D6 12-90 00-00'             2924   	l	er0,	NEAR _direction
00:01DA 01 70                    2925   	cmp	r0,	#01h
00:01DC 00 51                    2926   	cmpc	r1,	#00h
00:01DE 02 C8                    2927   	bne	_$L185
                                 2928   CBLOCK 155 34 1612
                                 2929   
                                 2930   ;;				StepCW();		//Step CW 1-Step
                                 2931   CLINEA 0000H 0001H 064DH 0005H 001FH
00:01E0 01-F0'00-00'             2932   	bl	_StepCW
                                 2933   CBLOCKEND 155 34 1614
                                 2934   
                                 2935   ;;			}
                                 2936   CLINEA 0000H 0000H 064EH 0004H 0004H
00:01E4                          2937   _$L185 :
                                 2938   
                                 2939   ;;			if (direction == 2){
                                 2940   CLINEA 0000H 0001H 064FH 0004H 0017H
00:01E4 12-90 00-00'             2941   	l	er0,	NEAR _direction
00:01E8 02 70                    2942   	cmp	r0,	#02h
00:01EA 00 51                    2943   	cmpc	r1,	#00h
00:01EC 02 C9                    2944   	beq	_$M78
00:01EE 00-F0'00-00'             2945   	b	_$L99
00:01F2                          2946   _$M78 :
                                 2947   CBLOCK 155 35 1615
                                 2948   
                                 2949   ;;				StepCCW();		//Step CCW 1-Step
                                 2950   CLINEA 0000H 0001H 0650H 0005H 0021H
00:01F2 01-F0'00-00'             2951   	bl	_StepCCW
                                 2952   CBLOCKEND 155 35 1617
                                 2953   
                                 2954   ;;			break;
                                 2955   CLINEA 0000H 0001H 0653H 0004H 0009H
00:01F6 00-F0'00-00'             2956   	b	_$L99
                                 2957   
                                 2958   ;;		case 9: 	//CASE 9 & 10 REDUNDANT - NEVER GETS HERE...
                                 2959   CLINEA 0000H 0001H 0655H 0003H 0037H
00:01FA                          2960   _$S189 :
                                 2961   CBLOCK 155 36 1623
                                 2962   
                                 2963   ;;			switch (direction ) 
                                 2964   CLINEA 0000H 0001H 0656H 0004H 0017H
00:01FA 10-90 00-00'             2965   	l	r0,	NEAR _direction+01h
00:01FE 02 C9                    2966   	beq	_$M79
00:0200 00-F0'00-00'             2967   	b	_$L99
00:0204                          2968   _$M79 :
00:0204 10-90 00-00'             2969   	l	r0,	NEAR _direction
00:0208 01 70                    2970   	cmp	r0,	#01h
                                 2971   
                                 2972   ;;			}//End "direction" Switch			
                                 2973   CLINEA 0000H 0000H 065EH 0004H 001FH
00:020A                          2974   _$L193 :
                                 2975   
                                 2976   ;;			break;
                                 2977   CLINEA 0000H 0001H 065FH 0004H 0009H
00:020A 00-F0'00-00'             2978   	b	_$L99
                                 2979   
                                 2980   ;;		case 10:	//CASE 9 & 10 REDUNDANT - NEVER GETS HERE...
                                 2981   CLINEA 0000H 0001H 0661H 0003H 0037H
00:020E                          2982   _$S197 :
                                 2983   CBLOCK 155 37 1635
                                 2984   
                                 2985   ;;			switch (direction ) 
                                 2986   CLINEA 0000H 0001H 0662H 0004H 0017H
00:020E 10-90 00-00'             2987   	l	r0,	NEAR _direction+01h
00:0212 02 C9                    2988   	beq	_$M80
00:0214 00-F0'00-00'             2989   	b	_$L99
00:0218                          2990   _$M80 :
00:0218 10-90 00-00'             2991   	l	r0,	NEAR _direction
00:021C 01 70                    2992   	cmp	r0,	#01h
                                 2993   
                                 2994   ;;			}//End "direction" Switch			
                                 2995   CLINEA 0000H 0000H 066AH 0004H 001FH
00:021E                          2996   _$L201 :
                                 2997   
                                 2998   ;;			break;
                                 2999   CLINEA 0000H 0001H 066BH 0004H 0009H
00:021E 00-F0'00-00'             3000   	b	_$L99
                                 3001   
                                 3002   ;;		case 11:
                                 3003   CLINEA 0000H 0001H 066DH 0003H 000AH
00:0222                          3004   _$S205 :
                                 3005   CBLOCK 155 38 1647
                                 3006   
                                 3007   ;;			switch (direction ) 
                                 3008   CLINEA 0000H 0001H 066EH 0004H 0017H
00:0222 10-90 00-00'             3009   	l	r0,	NEAR _direction+01h
00:0226 02 C9                    3010   	beq	_$M81
00:0228 00-F0'00-00'             3011   	b	_$L99
00:022C                          3012   _$M81 :
00:022C 10-90 00-00'             3013   	l	r0,	NEAR _direction
00:0230 01 70                    3014   	cmp	r0,	#01h
00:0232 02 C8                    3015   	bne	_$M82
00:0234 00-F0'00-00'             3016   	b	_$L211
00:0238                          3017   _$M82 :
                                 3018   
                                 3019   ;;			switch (direction ) 
                                 3020   CLINEA 0000H 0000H 066EH 0004H 0017H
00:0238 02 70                    3021   	cmp	r0,	#02h
00:023A 02 C8                    3022   	bne	_$M83
00:023C 00-F0'00-00'             3023   	b	_$L212
00:0240                          3024   _$M83 :
                                 3025   
                                 3026   ;;			}//End "direction" Switch			
                                 3027   CLINEA 0000H 0000H 067AH 0004H 001FH
00:0240                          3028   _$L209 :
                                 3029   
                                 3030   ;;			break;
                                 3031   CLINEA 0000H 0001H 067BH 0004H 0009H
00:0240 00-F0'00-00'             3032   	b	_$L99
                                 3033   
                                 3034   ;;		case 12:	//Never gets here...
                                 3035   CLINEA 0000H 0001H 067EH 0003H 001FH
00:0244                          3036   _$S213 :
                                 3037   CBLOCK 155 39 1664
                                 3038   
                                 3039   ;;			switch (direction ) 
                                 3040   CLINEA 0000H 0001H 067FH 0004H 0017H
00:0244 10-90 00-00'             3041   	l	r0,	NEAR _direction+01h
00:0248 02 C9                    3042   	beq	_$M84
00:024A 00-F0'00-00'             3043   	b	_$L99
00:024E                          3044   _$M84 :
00:024E 10-90 00-00'             3045   	l	r0,	NEAR _direction
00:0252 01 70                    3046   	cmp	r0,	#01h
00:0254 02 C8                    3047   	bne	_$M85
00:0256 00-F0'00-00'             3048   	b	_$L219
00:025A                          3049   _$M85 :
                                 3050   
                                 3051   ;;			switch (direction ) 
                                 3052   CLINEA 0000H 0000H 067FH 0004H 0017H
00:025A 02 70                    3053   	cmp	r0,	#02h
00:025C 02 C8                    3054   	bne	_$M86
00:025E 00-F0'00-00'             3055   	b	_$L220
00:0262                          3056   _$M86 :
                                 3057   
                                 3058   ;;			}//End "direction" Switch			
                                 3059   CLINEA 0000H 0000H 0687H 0004H 001FH
00:0262                          3060   _$L217 :
                                 3061   
                                 3062   ;;			break;
                                 3063   CLINEA 0000H 0001H 0688H 0004H 0009H
00:0262 00-F0'00-00'             3064   	b	_$L99
                                 3065   
                                 3066   ;;		case 13:	//Never gets here...
                                 3067   CLINEA 0000H 0001H 068AH 0003H 001FH
00:0266                          3068   _$S221 :
                                 3069   CBLOCK 155 40 1676
                                 3070   
                                 3071   ;;			switch (direction ) 
                                 3072   CLINEA 0000H 0001H 068BH 0004H 0017H
00:0266 10-90 00-00'             3073   	l	r0,	NEAR _direction+01h
00:026A 02 C9                    3074   	beq	_$M87
00:026C 00-F0'00-00'             3075   	b	_$L99
00:0270                          3076   _$M87 :
00:0270 10-90 00-00'             3077   	l	r0,	NEAR _direction
00:0274 01 70                    3078   	cmp	r0,	#01h
00:0276 02 C8                    3079   	bne	_$M88
00:0278 00-F0'00-00'             3080   	b	_$L227
00:027C                          3081   _$M88 :
                                 3082   
                                 3083   ;;			switch (direction ) 
                                 3084   CLINEA 0000H 0000H 068BH 0004H 0017H
00:027C 02 70                    3085   	cmp	r0,	#02h
00:027E 02 C8                    3086   	bne	_$M89
00:0280 00-F0'00-00'             3087   	b	_$L228
00:0284                          3088   _$M89 :
                                 3089   
                                 3090   ;;			}//End "direction" Switch			
                                 3091   CLINEA 0000H 0000H 0693H 0004H 001FH
00:0284                          3092   _$L225 :
                                 3093   
                                 3094   ;;			break;
                                 3095   CLINEA 0000H 0001H 0694H 0004H 0009H
00:0284 00-F0'00-00'             3096   	b	_$L99
                                 3097   
                                 3098   ;;		case 14:
                                 3099   CLINEA 0000H 0001H 0696H 0003H 000AH
00:0288                          3100   _$S229 :
                                 3101   CBLOCK 155 41 1688
                                 3102   
                                 3103   ;;			switch (direction ) 
                                 3104   CLINEA 0000H 0001H 0697H 0004H 0017H
00:0288 10-90 00-00'             3105   	l	r0,	NEAR _direction+01h
00:028C 02 C9                    3106   	beq	_$M90
00:028E 00-F0'00-00'             3107   	b	_$L99
00:0292                          3108   _$M90 :
00:0292 10-90 00-00'             3109   	l	r0,	NEAR _direction
00:0296 01 70                    3110   	cmp	r0,	#01h
00:0298 02 C8                    3111   	bne	_$M91
00:029A 00-F0'00-00'             3112   	b	_$L235
00:029E                          3113   _$M91 :
                                 3114   
                                 3115   ;;			switch (direction ) 
                                 3116   CLINEA 0000H 0000H 0697H 0004H 0017H
00:029E 02 70                    3117   	cmp	r0,	#02h
00:02A0 02 C8                    3118   	bne	_$M92
00:02A2 00-F0'00-00'             3119   	b	_$L236
00:02A6                          3120   _$M92 :
                                 3121   
                                 3122   ;;			}//End "direction" Switch			
                                 3123   CLINEA 0000H 0000H 069FH 0004H 001FH
00:02A6                          3124   _$L233 :
                                 3125   
                                 3126   ;;			break;
                                 3127   CLINEA 0000H 0001H 06A0H 0004H 0009H
00:02A6 00-F0'00-00'             3128   	b	_$L99
                                 3129   
                                 3130   ;;		case 15:
                                 3131   CLINEA 0000H 0001H 06A2H 0003H 000AH
00:02AA                          3132   _$S237 :
                                 3133   CBLOCK 155 42 1700
                                 3134   
                                 3135   ;;			switch (direction ) 
                                 3136   CLINEA 0000H 0001H 06A3H 0004H 0017H
00:02AA 10-90 00-00'             3137   	l	r0,	NEAR _direction+01h
00:02AE 02 C9                    3138   	beq	_$M93
00:02B0 00-F0'00-00'             3139   	b	_$L99
00:02B4                          3140   _$M93 :
00:02B4 10-90 00-00'             3141   	l	r0,	NEAR _direction
00:02B8 01 70                    3142   	cmp	r0,	#01h
00:02BA 02 C8                    3143   	bne	_$M94
00:02BC 00-F0'00-00'             3144   	b	_$L243
00:02C0                          3145   _$M94 :
                                 3146   
                                 3147   ;;			switch (direction ) 
                                 3148   CLINEA 0000H 0000H 06A3H 0004H 0017H
00:02C0 02 70                    3149   	cmp	r0,	#02h
00:02C2 02 C8                    3150   	bne	_$M95
00:02C4 00-F0'00-00'             3151   	b	_$L244
00:02C8                          3152   _$M95 :
                                 3153   
                                 3154   ;;			}//End "direction" Switch			
                                 3155   CLINEA 0000H 0000H 06ABH 0004H 001FH
00:02C8                          3156   _$L241 :
                                 3157   
                                 3158   ;;			break;
                                 3159   CLINEA 0000H 0001H 06ACH 0004H 0009H
00:02C8 00-F0'00-00'             3160   	b	_$L99
                                 3161   
                                 3162   ;;		default:	
                                 3163   CLINEA 0000H 0001H 06AEH 0003H 000BH
00:02CC                          3164   _$L100 :
                                 3165   
                                 3166   ;;			mode =1; //Return to 1 when lost...
                                 3167   CLINEA 0000H 0001H 06AFH 0004H 0026H
00:02CC 01 E0                    3168   	mov	er0,	#1 
00:02CE 13-90 00-00'             3169   	st	er0,	NEAR _mode
                                 3170   
                                 3171   ;;			break;
                                 3172   CLINEA 0000H 0001H 06B0H 0004H 0009H
00:02D2 00-F0'00-00'             3173   	b	_$L99
                                 3174   CBLOCKEND 155 8 1713
                                 3175   
                                 3176   ;;			case 1:		//CW Rotation...
                                 3177   CLINEA 0000H 0001H 05B9H 0004H 001CH
00:02D6                          3178   _$L108 :
                                 3179   
                                 3180   ;;				mode++;
                                 3181   CLINEA 0000H 0000H 05BAH 0005H 000BH
00:02D6 12-90 00-00'             3182   	l	er0,	NEAR _mode
00:02DA 81 E0                    3183   	add	er0,	#1 
00:02DC 13-90 00-00'             3184   	st	er0,	NEAR _mode
                                 3185   
                                 3186   ;;			if (mode > 5)
                                 3187   CLINEA 0000H 0001H 05BBH 0004H 0010H
00:02E0 05 70                    3188   	cmp	r0,	#05h
00:02E2 00 51                    3189   	cmpc	r1,	#00h
00:02E4 03 C3                    3190   	ble	_$L109
                                 3191   CBLOCK 155 10 1468
                                 3192   
                                 3193   ;;				mode = 2;
                                 3194   CLINEA 0000H 0001H 05BDH 0005H 000DH
00:02E6 02 E0                    3195   	mov	er0,	#2 
00:02E8 13-90 00-00'             3196   	st	er0,	NEAR _mode
                                 3197   CBLOCKEND 155 10 1470
                                 3198   
                                 3199   ;;			}
                                 3200   CLINEA 0000H 0000H 05BEH 0004H 0004H
00:02EC                          3201   _$L109 :
                                 3202   
                                 3203   ;;			if (mode < 2)
                                 3204   CLINEA 0000H 0001H 05BFH 0004H 0010H
00:02EC 02 70                    3205   	cmp	r0,	#02h
00:02EE 00 51                    3206   	cmpc	r1,	#00h
00:02F0 02 C1                    3207   	blt	_$M96
00:02F2 00-F0'00-00'             3208   	b	_$L106
00:02F6                          3209   _$M96 :
                                 3210   CBLOCK 155 11 1472
                                 3211   
                                 3212   ;;			 	mode = 5;
                                 3213   CLINEA 0000H 0001H 05C1H 0006H 000EH
00:02F6 05 E0                    3214   	mov	er0,	#5 
00:02F8 13-90 00-00'             3215   	st	er0,	NEAR _mode
                                 3216   CBLOCKEND 155 11 1474
                                 3217   
                                 3218   ;;				break;
                                 3219   CLINEA 0000H 0001H 05C3H 0005H 000AH
00:02FC 00-F0'00-00'             3220   	b	_$L106
                                 3221   
                                 3222   ;;			case 2:		//CCW Rotation...
                                 3223   CLINEA 0000H 0001H 05C4H 0004H 001DH
00:0300                          3224   _$L113 :
                                 3225   
                                 3226   ;;				mode--;
                                 3227   CLINEA 0000H 0000H 05C5H 0005H 000BH
00:0300 12-90 00-00'             3228   	l	er0,	NEAR _mode
00:0304 FF E0                    3229   	add	er0,	#-1
00:0306 13-90 00-00'             3230   	st	er0,	NEAR _mode
                                 3231   
                                 3232   ;;			if (mode > 5)
                                 3233   CLINEA 0000H 0001H 05C6H 0004H 0010H
00:030A 05 70                    3234   	cmp	r0,	#05h
00:030C 00 51                    3235   	cmpc	r1,	#00h
00:030E 03 C3                    3236   	ble	_$L114
                                 3237   CBLOCK 155 12 1479
                                 3238   
                                 3239   ;;				mode = 2;
                                 3240   CLINEA 0000H 0001H 05C8H 0005H 000DH
00:0310 02 E0                    3241   	mov	er0,	#2 
00:0312 13-90 00-00'             3242   	st	er0,	NEAR _mode
                                 3243   CBLOCKEND 155 12 1481
                                 3244   
                                 3245   ;;			}
                                 3246   CLINEA 0000H 0000H 05C9H 0004H 0004H
00:0316                          3247   _$L114 :
                                 3248   
                                 3249   ;;			if (mode < 2)
                                 3250   CLINEA 0000H 0001H 05CAH 0004H 0010H
00:0316 02 70                    3251   	cmp	r0,	#02h
00:0318 00 51                    3252   	cmpc	r1,	#00h
00:031A 02 C1                    3253   	blt	_$M97
00:031C 00-F0'00-00'             3254   	b	_$L106
00:0320                          3255   _$M97 :
                                 3256   CBLOCK 155 13 1483
                                 3257   
                                 3258   ;;			 	mode = 5;
                                 3259   CLINEA 0000H 0001H 05CCH 0006H 000EH
00:0320 05 E0                    3260   	mov	er0,	#5 
00:0322 13-90 00-00'             3261   	st	er0,	NEAR _mode
                                 3262   CBLOCKEND 155 13 1485
                                 3263   
                                 3264   ;;			break;
                                 3265   CLINEA 0000H 0001H 05CEH 0004H 0009H
00:0326 00-F0'00-00'             3266   	b	_$L106
                                 3267   CBLOCKEND 155 9 1487
                                 3268   
                                 3269   ;;			case 1:		//CW Rotation...
                                 3270   CLINEA 0000H 0001H 05D5H 0004H 001CH
00:032A                          3271   _$L124 :
                                 3272   
                                 3273   ;;				mode++;
                                 3274   CLINEA 0000H 0000H 05D6H 0005H 000BH
00:032A 12-90 00-00'             3275   	l	er0,	NEAR _mode
00:032E 81 E0                    3276   	add	er0,	#1 
00:0330 13-90 00-00'             3277   	st	er0,	NEAR _mode
                                 3278   
                                 3279   ;;			if (mode > 5)
                                 3280   CLINEA 0000H 0001H 05D7H 0004H 0010H
00:0334 05 70                    3281   	cmp	r0,	#05h
00:0336 00 51                    3282   	cmpc	r1,	#00h
00:0338 03 C3                    3283   	ble	_$L125
                                 3284   CBLOCK 155 15 1496
                                 3285   
                                 3286   ;;				mode = 2;
                                 3287   CLINEA 0000H 0001H 05D9H 0005H 000DH
00:033A 02 E0                    3288   	mov	er0,	#2 
00:033C 13-90 00-00'             3289   	st	er0,	NEAR _mode
                                 3290   CBLOCKEND 155 15 1498
                                 3291   
                                 3292   ;;			}
                                 3293   CLINEA 0000H 0000H 05DAH 0004H 0004H
00:0340                          3294   _$L125 :
                                 3295   
                                 3296   ;;			if (mode < 2)
                                 3297   CLINEA 0000H 0001H 05DBH 0004H 0010H
00:0340 02 70                    3298   	cmp	r0,	#02h
00:0342 00 51                    3299   	cmpc	r1,	#00h
00:0344 02 C1                    3300   	blt	_$M98
00:0346 00-F0'00-00'             3301   	b	_$L122
00:034A                          3302   _$M98 :
                                 3303   CBLOCK 155 16 1500
                                 3304   
                                 3305   ;;			 	mode = 5;
                                 3306   CLINEA 0000H 0001H 05DDH 0006H 000EH
00:034A 05 E0                    3307   	mov	er0,	#5 
00:034C 13-90 00-00'             3308   	st	er0,	NEAR _mode
                                 3309   CBLOCKEND 155 16 1502
                                 3310   
                                 3311   ;;				break;
                                 3312   CLINEA 0000H 0001H 05DFH 0005H 000AH
00:0350 00-F0'00-00'             3313   	b	_$L122
                                 3314   
                                 3315   ;;			case 2:		//CCW Rotation...
                                 3316   CLINEA 0000H 0001H 05E0H 0004H 001DH
00:0354                          3317   _$L129 :
                                 3318   
                                 3319   ;;				mode--;
                                 3320   CLINEA 0000H 0000H 05E1H 0005H 000BH
00:0354 12-90 00-00'             3321   	l	er0,	NEAR _mode
00:0358 FF E0                    3322   	add	er0,	#-1
00:035A 13-90 00-00'             3323   	st	er0,	NEAR _mode
                                 3324   
                                 3325   ;;			if (mode > 5)
                                 3326   CLINEA 0000H 0001H 05E2H 0004H 0010H
00:035E 05 70                    3327   	cmp	r0,	#05h
00:0360 00 51                    3328   	cmpc	r1,	#00h
00:0362 03 C3                    3329   	ble	_$L130
                                 3330   CBLOCK 155 17 1507
                                 3331   
                                 3332   ;;				mode = 2;
                                 3333   CLINEA 0000H 0001H 05E4H 0005H 000DH
00:0364 02 E0                    3334   	mov	er0,	#2 
00:0366 13-90 00-00'             3335   	st	er0,	NEAR _mode
                                 3336   CBLOCKEND 155 17 1509
                                 3337   
                                 3338   ;;			}
                                 3339   CLINEA 0000H 0000H 05E5H 0004H 0004H
00:036A                          3340   _$L130 :
                                 3341   
                                 3342   ;;			if (mode < 2)
                                 3343   CLINEA 0000H 0001H 05E6H 0004H 0010H
00:036A 02 70                    3344   	cmp	r0,	#02h
00:036C 00 51                    3345   	cmpc	r1,	#00h
00:036E 02 C1                    3346   	blt	_$M99
00:0370 00-F0'00-00'             3347   	b	_$L122
00:0374                          3348   _$M99 :
                                 3349   CBLOCK 155 18 1511
                                 3350   
                                 3351   ;;			 	mode = 5;
                                 3352   CLINEA 0000H 0001H 05E8H 0006H 000EH
00:0374 05 E0                    3353   	mov	er0,	#5 
00:0376 13-90 00-00'             3354   	st	er0,	NEAR _mode
                                 3355   CBLOCKEND 155 18 1513
                                 3356   
                                 3357   ;;			break;
                                 3358   CLINEA 0000H 0001H 05EAH 0004H 0009H
00:037A 00-F0'00-00'             3359   	b	_$L122
                                 3360   CBLOCKEND 155 14 1515
                                 3361   
                                 3362   ;;			case 1:		//CW Rotation...
                                 3363   CLINEA 0000H 0001H 05F1H 0004H 001CH
00:037E                          3364   _$L140 :
                                 3365   
                                 3366   ;;				mode++;
                                 3367   CLINEA 0000H 0000H 05F2H 0005H 000BH
00:037E 12-90 00-00'             3368   	l	er0,	NEAR _mode
00:0382 81 E0                    3369   	add	er0,	#1 
00:0384 13-90 00-00'             3370   	st	er0,	NEAR _mode
                                 3371   
                                 3372   ;;			if (mode > 5)
                                 3373   CLINEA 0000H 0001H 05F3H 0004H 0010H
00:0388 05 70                    3374   	cmp	r0,	#05h
00:038A 00 51                    3375   	cmpc	r1,	#00h
00:038C 03 C3                    3376   	ble	_$L141
                                 3377   CBLOCK 155 20 1524
                                 3378   
                                 3379   ;;				mode = 2;
                                 3380   CLINEA 0000H 0001H 05F5H 0005H 000DH
00:038E 02 E0                    3381   	mov	er0,	#2 
00:0390 13-90 00-00'             3382   	st	er0,	NEAR _mode
                                 3383   CBLOCKEND 155 20 1526
                                 3384   
                                 3385   ;;			}
                                 3386   CLINEA 0000H 0000H 05F6H 0004H 0004H
00:0394                          3387   _$L141 :
                                 3388   
                                 3389   ;;			if (mode < 2)
                                 3390   CLINEA 0000H 0001H 05F7H 0004H 0010H
00:0394 02 70                    3391   	cmp	r0,	#02h
00:0396 00 51                    3392   	cmpc	r1,	#00h
00:0398 02 C1                    3393   	blt	_$M100
00:039A 00-F0'00-00'             3394   	b	_$L138
00:039E                          3395   _$M100 :
                                 3396   CBLOCK 155 21 1528
                                 3397   
                                 3398   ;;			 	mode = 5;
                                 3399   CLINEA 0000H 0001H 05F9H 0006H 000EH
00:039E 05 E0                    3400   	mov	er0,	#5 
00:03A0 13-90 00-00'             3401   	st	er0,	NEAR _mode
                                 3402   CBLOCKEND 155 21 1530
                                 3403   
                                 3404   ;;				break;
                                 3405   CLINEA 0000H 0001H 05FBH 0005H 000AH
00:03A4 00-F0'00-00'             3406   	b	_$L138
                                 3407   
                                 3408   ;;			case 2:		//CCW Rotation...
                                 3409   CLINEA 0000H 0001H 05FCH 0004H 001DH
00:03A8                          3410   _$L145 :
                                 3411   
                                 3412   ;;				mode--;
                                 3413   CLINEA 0000H 0000H 05FDH 0005H 000BH
00:03A8 12-90 00-00'             3414   	l	er0,	NEAR _mode
00:03AC FF E0                    3415   	add	er0,	#-1
00:03AE 13-90 00-00'             3416   	st	er0,	NEAR _mode
                                 3417   
                                 3418   ;;			if (mode > 5)
                                 3419   CLINEA 0000H 0001H 05FEH 0004H 0010H
00:03B2 05 70                    3420   	cmp	r0,	#05h
00:03B4 00 51                    3421   	cmpc	r1,	#00h
00:03B6 03 C3                    3422   	ble	_$L146
                                 3423   CBLOCK 155 22 1535
                                 3424   
                                 3425   ;;				mode = 2;
                                 3426   CLINEA 0000H 0001H 0600H 0005H 000DH
00:03B8 02 E0                    3427   	mov	er0,	#2 
00:03BA 13-90 00-00'             3428   	st	er0,	NEAR _mode
                                 3429   CBLOCKEND 155 22 1537
                                 3430   
                                 3431   ;;			}
                                 3432   CLINEA 0000H 0000H 0601H 0004H 0004H
00:03BE                          3433   _$L146 :
                                 3434   
                                 3435   ;;			if (mode < 2)
                                 3436   CLINEA 0000H 0001H 0602H 0004H 0010H
00:03BE 02 70                    3437   	cmp	r0,	#02h
00:03C0 00 51                    3438   	cmpc	r1,	#00h
00:03C2 02 C1                    3439   	blt	_$M101
00:03C4 00-F0'00-00'             3440   	b	_$L138
00:03C8                          3441   _$M101 :
                                 3442   CBLOCK 155 23 1539
                                 3443   
                                 3444   ;;			 	mode = 5;
                                 3445   CLINEA 0000H 0001H 0604H 0006H 000EH
00:03C8 05 E0                    3446   	mov	er0,	#5 
00:03CA 13-90 00-00'             3447   	st	er0,	NEAR _mode
                                 3448   CBLOCKEND 155 23 1541
                                 3449   
                                 3450   ;;			break;
                                 3451   CLINEA 0000H 0001H 0606H 0004H 0009H
00:03CE 00-F0'00-00'             3452   	b	_$L138
                                 3453   CBLOCKEND 155 19 1543
                                 3454   
                                 3455   ;;			case 1:		//CW Rotation...
                                 3456   CLINEA 0000H 0001H 060DH 0004H 001CH
00:03D2                          3457   _$L156 :
                                 3458   
                                 3459   ;;				mode++;
                                 3460   CLINEA 0000H 0000H 060EH 0005H 000BH
00:03D2 12-90 00-00'             3461   	l	er0,	NEAR _mode
00:03D6 81 E0                    3462   	add	er0,	#1 
00:03D8 13-90 00-00'             3463   	st	er0,	NEAR _mode
                                 3464   
                                 3465   ;;			if (mode > 5)
                                 3466   CLINEA 0000H 0001H 060FH 0004H 0010H
00:03DC 05 70                    3467   	cmp	r0,	#05h
00:03DE 00 51                    3468   	cmpc	r1,	#00h
00:03E0 03 C3                    3469   	ble	_$L157
                                 3470   CBLOCK 155 25 1552
                                 3471   
                                 3472   ;;				mode = 2;
                                 3473   CLINEA 0000H 0001H 0611H 0005H 000DH
00:03E2 02 E0                    3474   	mov	er0,	#2 
00:03E4 13-90 00-00'             3475   	st	er0,	NEAR _mode
                                 3476   CBLOCKEND 155 25 1554
                                 3477   
                                 3478   ;;			}
                                 3479   CLINEA 0000H 0000H 0612H 0004H 0004H
00:03E8                          3480   _$L157 :
                                 3481   
                                 3482   ;;			if (mode < 2)
                                 3483   CLINEA 0000H 0001H 0613H 0004H 0010H
00:03E8 02 70                    3484   	cmp	r0,	#02h
00:03EA 00 51                    3485   	cmpc	r1,	#00h
00:03EC 02 C1                    3486   	blt	_$M102
00:03EE 00-F0'00-00'             3487   	b	_$L154
00:03F2                          3488   _$M102 :
                                 3489   CBLOCK 155 26 1556
                                 3490   
                                 3491   ;;			 	mode = 5;
                                 3492   CLINEA 0000H 0001H 0615H 0006H 000EH
00:03F2 05 E0                    3493   	mov	er0,	#5 
00:03F4 13-90 00-00'             3494   	st	er0,	NEAR _mode
                                 3495   CBLOCKEND 155 26 1558
                                 3496   
                                 3497   ;;				break;
                                 3498   CLINEA 0000H 0001H 0617H 0005H 000AH
00:03F8 00-F0'00-00'             3499   	b	_$L154
                                 3500   
                                 3501   ;;			case 2:		//CCW Rotation...
                                 3502   CLINEA 0000H 0001H 0618H 0004H 001DH
00:03FC                          3503   _$L161 :
                                 3504   
                                 3505   ;;				mode--;
                                 3506   CLINEA 0000H 0000H 0619H 0005H 000BH
00:03FC 12-90 00-00'             3507   	l	er0,	NEAR _mode
00:0400 FF E0                    3508   	add	er0,	#-1
00:0402 13-90 00-00'             3509   	st	er0,	NEAR _mode
                                 3510   
                                 3511   ;;			if (mode > 5)
                                 3512   CLINEA 0000H 0001H 061AH 0004H 0010H
00:0406 05 70                    3513   	cmp	r0,	#05h
00:0408 00 51                    3514   	cmpc	r1,	#00h
00:040A 03 C3                    3515   	ble	_$L162
                                 3516   CBLOCK 155 27 1563
                                 3517   
                                 3518   ;;				mode = 2;
                                 3519   CLINEA 0000H 0001H 061CH 0005H 000DH
00:040C 02 E0                    3520   	mov	er0,	#2 
00:040E 13-90 00-00'             3521   	st	er0,	NEAR _mode
                                 3522   CBLOCKEND 155 27 1565
                                 3523   
                                 3524   ;;			}
                                 3525   CLINEA 0000H 0000H 061DH 0004H 0004H
00:0412                          3526   _$L162 :
                                 3527   
                                 3528   ;;			if (mode < 2)
                                 3529   CLINEA 0000H 0001H 061EH 0004H 0010H
00:0412 02 70                    3530   	cmp	r0,	#02h
00:0414 00 51                    3531   	cmpc	r1,	#00h
00:0416 02 C1                    3532   	blt	_$M103
00:0418 00-F0'00-00'             3533   	b	_$L154
00:041C                          3534   _$M103 :
                                 3535   CBLOCK 155 28 1567
                                 3536   
                                 3537   ;;			 	mode = 5;
                                 3538   CLINEA 0000H 0001H 0620H 0006H 000EH
00:041C 05 E0                    3539   	mov	er0,	#5 
00:041E 13-90 00-00'             3540   	st	er0,	NEAR _mode
                                 3541   CBLOCKEND 155 28 1569
                                 3542   
                                 3543   ;;			break;
                                 3544   CLINEA 0000H 0001H 0622H 0004H 0009H
00:0422 00-F0'00-00'             3545   	b	_$L154
                                 3546   CBLOCKEND 155 24 1571
                                 3547   
                                 3548   ;;			case 1:		//CW Rotation...
                                 3549   CLINEA 0000H 0001H 0629H 0004H 001CH
00:0426                          3550   _$L172 :
                                 3551   
                                 3552   ;;				mode++;
                                 3553   CLINEA 0000H 0000H 062AH 0005H 000BH
00:0426 12-90 00-00'             3554   	l	er0,	NEAR _mode
00:042A 81 E0                    3555   	add	er0,	#1 
00:042C 13-90 00-00'             3556   	st	er0,	NEAR _mode
                                 3557   
                                 3558   ;;			if (mode > 5)
                                 3559   CLINEA 0000H 0001H 062BH 0004H 0010H
00:0430 05 70                    3560   	cmp	r0,	#05h
00:0432 00 51                    3561   	cmpc	r1,	#00h
00:0434 03 C3                    3562   	ble	_$L173
                                 3563   CBLOCK 155 30 1580
                                 3564   
                                 3565   ;;				mode = 2;
                                 3566   CLINEA 0000H 0001H 062DH 0005H 000DH
00:0436 02 E0                    3567   	mov	er0,	#2 
00:0438 13-90 00-00'             3568   	st	er0,	NEAR _mode
                                 3569   CBLOCKEND 155 30 1582
                                 3570   
                                 3571   ;;			}
                                 3572   CLINEA 0000H 0000H 062EH 0004H 0004H
00:043C                          3573   _$L173 :
                                 3574   
                                 3575   ;;			if (mode < 2)
                                 3576   CLINEA 0000H 0001H 062FH 0004H 0010H
00:043C 02 70                    3577   	cmp	r0,	#02h
00:043E 00 51                    3578   	cmpc	r1,	#00h
00:0440 02 C1                    3579   	blt	_$M104
00:0442 00-F0'00-00'             3580   	b	_$L170
00:0446                          3581   _$M104 :
                                 3582   CBLOCK 155 31 1584
                                 3583   
                                 3584   ;;			 	mode = 5;
                                 3585   CLINEA 0000H 0001H 0631H 0006H 000EH
00:0446 05 E0                    3586   	mov	er0,	#5 
00:0448 13-90 00-00'             3587   	st	er0,	NEAR _mode
                                 3588   CBLOCKEND 155 31 1586
                                 3589   
                                 3590   ;;				break;
                                 3591   CLINEA 0000H 0001H 0633H 0005H 000AH
00:044C 00-F0'00-00'             3592   	b	_$L170
                                 3593   
                                 3594   ;;			case 2:		//CCW Rotation...
                                 3595   CLINEA 0000H 0001H 0634H 0004H 001DH
00:0450                          3596   _$L177 :
                                 3597   
                                 3598   ;;				mode--;
                                 3599   CLINEA 0000H 0000H 0635H 0005H 000BH
00:0450 12-90 00-00'             3600   	l	er0,	NEAR _mode
00:0454 FF E0                    3601   	add	er0,	#-1
00:0456 13-90 00-00'             3602   	st	er0,	NEAR _mode
                                 3603   
                                 3604   ;;			if (mode > 5)
                                 3605   CLINEA 0000H 0001H 0636H 0004H 0010H
00:045A 05 70                    3606   	cmp	r0,	#05h
00:045C 00 51                    3607   	cmpc	r1,	#00h
00:045E 03 C3                    3608   	ble	_$L178
                                 3609   CBLOCK 155 32 1591
                                 3610   
                                 3611   ;;				mode = 2;
                                 3612   CLINEA 0000H 0001H 0638H 0005H 000DH
00:0460 02 E0                    3613   	mov	er0,	#2 
00:0462 13-90 00-00'             3614   	st	er0,	NEAR _mode
                                 3615   CBLOCKEND 155 32 1593
                                 3616   
                                 3617   ;;			}
                                 3618   CLINEA 0000H 0000H 0639H 0004H 0004H
00:0466                          3619   _$L178 :
                                 3620   
                                 3621   ;;			if (mode < 2)
                                 3622   CLINEA 0000H 0001H 063AH 0004H 0010H
00:0466 02 70                    3623   	cmp	r0,	#02h
00:0468 00 51                    3624   	cmpc	r1,	#00h
00:046A 02 C1                    3625   	blt	_$M105
00:046C 00-F0'00-00'             3626   	b	_$L170
00:0470                          3627   _$M105 :
                                 3628   CBLOCK 155 33 1595
                                 3629   
                                 3630   ;;			 	mode = 5;
                                 3631   CLINEA 0000H 0001H 063CH 0006H 000EH
00:0470 05 E0                    3632   	mov	er0,	#5 
00:0472 13-90 00-00'             3633   	st	er0,	NEAR _mode
                                 3634   CBLOCKEND 155 33 1597
                                 3635   
                                 3636   ;;			break;
                                 3637   CLINEA 0000H 0001H 063EH 0004H 0009H
00:0476 00-F0'00-00'             3638   	b	_$L170
                                 3639   CBLOCKEND 155 29 1599
                                 3640   
                                 3641   ;;				break;
                                 3642   CLINEA 0000H 0001H 065DH 0005H 000AH
                                 3643   CBLOCKEND 155 36 1630
                                 3644   
                                 3645   ;;				break;
                                 3646   CLINEA 0000H 0001H 0669H 0005H 000AH
                                 3647   CBLOCKEND 155 37 1642
                                 3648   
                                 3649   ;;			case 1:		//CW Rotation...
                                 3650   CLINEA 0000H 0001H 0670H 0004H 001CH
00:047A                          3651   _$L211 :
                                 3652   
                                 3653   ;;				ContinuousMode();
                                 3654   CLINEA 0000H 0001H 0672H 0005H 0015H
00:047A 01-F0'00-00'             3655   	bl	_ContinuousMode
                                 3656   
                                 3657   ;;				break;
                                 3658   CLINEA 0000H 0001H 0674H 0005H 000AH
00:047E 00-F0'00-00'             3659   	b	_$L209
                                 3660   
                                 3661   ;;			case 2:		//CCW Rotation...
                                 3662   CLINEA 0000H 0001H 0675H 0004H 001DH
00:0482                          3663   _$L212 :
                                 3664   
                                 3665   ;;				ContinuousMode();
                                 3666   CLINEA 0000H 0001H 0677H 0005H 0015H
00:0482 01-F0'00-00'             3667   	bl	_ContinuousMode
                                 3668   
                                 3669   ;;				break;
                                 3670   CLINEA 0000H 0001H 0679H 0005H 000AH
00:0486 00-F0'00-00'             3671   	b	_$L209
                                 3672   CBLOCKEND 155 38 1658
                                 3673   
                                 3674   ;;			case 1:		//CW Rotation...increments Frequency
                                 3675   CLINEA 0000H 0001H 0681H 0004H 0030H
00:048A                          3676   _$L219 :
                                 3677   
                                 3678   ;;				mode = 12;
                                 3679   CLINEA 0000H 0001H 0682H 0005H 000EH
00:048A 0C E0                    3680   	mov	er0,	#12
00:048C 13-90 00-00'             3681   	st	er0,	NEAR _mode
                                 3682   
                                 3683   ;;				break;
                                 3684   CLINEA 0000H 0001H 0683H 0005H 000AH
00:0490 00-F0'00-00'             3685   	b	_$L217
                                 3686   
                                 3687   ;;			case 2:		//CCW Rotation...decrements Frequency
                                 3688   CLINEA 0000H 0001H 0684H 0004H 0031H
00:0494                          3689   _$L220 :
                                 3690   
                                 3691   ;;				mode = 13;
                                 3692   CLINEA 0000H 0001H 0685H 0005H 000EH
00:0494 0D E0                    3693   	mov	er0,	#13
00:0496 13-90 00-00'             3694   	st	er0,	NEAR _mode
                                 3695   
                                 3696   ;;				break;
                                 3697   CLINEA 0000H 0001H 0686H 0005H 000AH
00:049A 00-F0'00-00'             3698   	b	_$L217
                                 3699   CBLOCKEND 155 39 1671
                                 3700   
                                 3701   ;;			case 1:		//CW Rotation...increments Frequency
                                 3702   CLINEA 0000H 0001H 068DH 0004H 0030H
00:049E                          3703   _$L227 :
                                 3704   
                                 3705   ;;				mode = 12;
                                 3706   CLINEA 0000H 0001H 068EH 0005H 000EH
00:049E 0C E0                    3707   	mov	er0,	#12
00:04A0 13-90 00-00'             3708   	st	er0,	NEAR _mode
                                 3709   
                                 3710   ;;				break;
                                 3711   CLINEA 0000H 0001H 068FH 0005H 000AH
00:04A4 00-F0'00-00'             3712   	b	_$L225
                                 3713   
                                 3714   ;;			case 2:		//CCW Rotation...decrements Frequency
                                 3715   CLINEA 0000H 0001H 0690H 0004H 0031H
00:04A8                          3716   _$L228 :
                                 3717   
                                 3718   ;;				mode = 13;
                                 3719   CLINEA 0000H 0001H 0691H 0005H 000EH
00:04A8 0D E0                    3720   	mov	er0,	#13
00:04AA 13-90 00-00'             3721   	st	er0,	NEAR _mode
                                 3722   
                                 3723   ;;				break;
                                 3724   CLINEA 0000H 0001H 0692H 0005H 000AH
00:04AE 00-F0'00-00'             3725   	b	_$L225
                                 3726   CBLOCKEND 155 40 1683
                                 3727   
                                 3728   ;;			case 1:		//CW Rotation...move to PASS-THRU-GREEN (#15)
                                 3729   CLINEA 0000H 0001H 0699H 0004H 0039H
00:04B2                          3730   _$L235 :
                                 3731   
                                 3732   ;;				mode = 15;
                                 3733   CLINEA 0000H 0001H 069AH 0005H 000EH
00:04B2 0F E0                    3734   	mov	er0,	#15
00:04B4 13-90 00-00'             3735   	st	er0,	NEAR _mode
                                 3736   
                                 3737   ;;				break;
                                 3738   CLINEA 0000H 0001H 069BH 0005H 000AH
00:04B8 00-F0'00-00'             3739   	b	_$L233
                                 3740   
                                 3741   ;;			case 2:		//CCW Rotation...move to PASS-THRU-RED (#14)
                                 3742   CLINEA 0000H 0001H 069CH 0004H 0038H
00:04BC                          3743   _$L236 :
                                 3744   
                                 3745   ;;				mode = 14;
                                 3746   CLINEA 0000H 0001H 069DH 0005H 000EH
00:04BC 0E E0                    3747   	mov	er0,	#14
00:04BE 13-90 00-00'             3748   	st	er0,	NEAR _mode
                                 3749   
                                 3750   ;;				break;
                                 3751   CLINEA 0000H 0001H 069EH 0005H 000AH
00:04C2 00-F0'00-00'             3752   	b	_$L233
                                 3753   CBLOCKEND 155 41 1695
                                 3754   
                                 3755   ;;			case 1:		//CW Rotation...keeps at PASS-THRU-GREEN (#15)
                                 3756   CLINEA 0000H 0001H 06A5H 0004H 003AH
00:04C6                          3757   _$L243 :
                                 3758   
                                 3759   ;;				mode = 15;
                                 3760   CLINEA 0000H 0001H 06A6H 0005H 000EH
00:04C6 0F E0                    3761   	mov	er0,	#15
00:04C8 13-90 00-00'             3762   	st	er0,	NEAR _mode
                                 3763   
                                 3764   ;;				break;
                                 3765   CLINEA 0000H 0001H 06A7H 0005H 000AH
00:04CC 00-F0'00-00'             3766   	b	_$L241
                                 3767   
                                 3768   ;;			case 2:		//CCW Rotation...move back to PASS-THRU-RED (#14)
                                 3769   CLINEA 0000H 0001H 06A8H 0004H 003DH
00:04D0                          3770   _$L244 :
                                 3771   
                                 3772   ;;				mode = 14;
                                 3773   CLINEA 0000H 0001H 06A9H 0005H 000EH
00:04D0 0E E0                    3774   	mov	er0,	#14
00:04D2 13-90 00-00'             3775   	st	er0,	NEAR _mode
                                 3776   
                                 3777   ;;				break;
                                 3778   CLINEA 0000H 0001H 06AAH 0005H 000AH
00:04D6 00-F0'00-00'             3779   	b	_$L241
                                 3780   CBLOCKEND 155 42 1707
                                 3781   CBLOCKEND 155 1 1717
                                 3782   CFUNCTIONEND 155
                                 3783   
                                 3784   
  --------------------------     3785   	rseg $$EncoderPostion$main
                                 3786   CFUNCTION 156
                                 3787   
00:0000                          3788   _EncoderPostion	:
                                 3789   CBLOCK 156 1 1726
                                 3790   
                                 3791   ;;void EncoderPostion (void) {
                                 3792   CLINEA 0000H 0001H 06BEH 0001H 001CH
                                 3793   CBLOCK 156 2 1726
                                 3794   
                                 3795   ;;	if (Encoder_Input_CH_A == 0) 			// Encoder Input "CH-A" on A0; "CH-B" on A1			
                                 3796   CLINEA 0000H 0001H 06C4H 0002H 004FH
00:0000 81-A0 50-F2              3797   	tb	0f250h.0
00:0004 09 C8                    3798   	bne	_$L246
                                 3799   CBLOCK 156 3 1733
                                 3800   
                                 3801   ;;		if (Encoder_Input_CH_B == 0)		// STEP #1 => If Ch.A=0 & Ch.B=0...
                                 3802   CLINEA 0000H 0001H 06C6H 0003H 0043H
00:0006 91-A0 50-F2              3803   	tb	0f250h.1
00:000A 02 C8                    3804   	bne	_$L248
                                 3805   CBLOCK 156 4 1735
                                 3806   
                                 3807   ;;			AbsolutePosition = 1;
                                 3808   CLINEA 0000H 0001H 06C8H 0004H 0018H
00:000C 01 E0                    3809   	mov	er0,	#1 
                                 3810   CBLOCKEND 156 4 1737
                                 3811   
                                 3812   ;;		else						// STEP #4 => Ch.A=1 & Ch.B=0...
                                 3813   CLINEA 0000H 0001H 06CAH 0003H 002CH
00:000E 01 CE                    3814   	bal	_$L250
00:0010                          3815   _$L248 :
                                 3816   CBLOCK 156 5 1739
                                 3817   
                                 3818   ;;			AbsolutePosition = 4;
                                 3819   CLINEA 0000H 0001H 06CCH 0004H 0018H
00:0010 04 E0                    3820   	mov	er0,	#4 
                                 3821   CBLOCKEND 156 5 1741
                                 3822   
                                 3823   ;;		}	
                                 3824   CLINEA 0000H 0000H 06CDH 0003H 0004H
00:0012                          3825   _$L250 :
00:0012 13-90 00-00'             3826   	st	er0,	NEAR _AbsolutePosition
                                 3827   
                                 3828   ;;	else					
                                 3829   CLINEA 0000H 0001H 06D0H 0002H 000AH
00:0016 1F-FE                    3830   	rt
00:0018                          3831   _$L246 :
                                 3832   CBLOCK 156 6 1745
                                 3833   
                                 3834   ;;		if (Encoder_Input_CH_B == 1)		// STEP #3 => Ch.A=1 & Ch.B=1...
                                 3835   CLINEA 0000H 0001H 06D2H 0003H 0040H
00:0018 91-A0 50-F2              3836   	tb	0f250h.1
00:001C 04 C9                    3837   	beq	_$L252
                                 3838   CBLOCK 156 7 1747
                                 3839   
                                 3840   ;;			AbsolutePosition = 3;
                                 3841   CLINEA 0000H 0001H 06D4H 0004H 0018H
00:001E 03 E0                    3842   	mov	er0,	#3 
00:0020 13-90 00-00'             3843   	st	er0,	NEAR _AbsolutePosition
                                 3844   CBLOCKEND 156 7 1749
                                 3845   
                                 3846   ;;		else						// STEP #2 => If Ch.A=0 & Ch.B=1... 
                                 3847   CLINEA 0000H 0001H 06D6H 0003H 0030H
00:0024 1F-FE                    3848   	rt
00:0026                          3849   _$L252 :
                                 3850   CBLOCK 156 8 1751
                                 3851   
                                 3852   ;;			AbsolutePosition = 2;
                                 3853   CLINEA 0000H 0001H 06D8H 0004H 0018H
00:0026 02 E0                    3854   	mov	er0,	#2 
00:0028 13-90 00-00'             3855   	st	er0,	NEAR _AbsolutePosition
                                 3856   CBLOCKEND 156 8 1753
                                 3857   
                                 3858   ;;		}
                                 3859   CLINEA 0000H 0000H 06D9H 0003H 0003H
                                 3860   CBLOCKEND 156 6 1754
                                 3861   CBLOCKEND 156 3 1762
                                 3862   CBLOCKEND 156 2 1762
                                 3863   
                                 3864   ;;} //END EncoderPostion Function
                                 3865   CLINEA 0000H 0001H 06E2H 0001H 001FH
00:002C 1F-FE                    3866   	rt
                                 3867   CBLOCKEND 156 1 1762
                                 3868   CFUNCTIONEND 156
                                 3869   
                                 3870   
  --------------------------     3871   	rseg $$EncoderDirection$main
                                 3872   CFUNCTION 157
                                 3873   
00:0000                          3874   _EncoderDirection	:
                                 3875   CBLOCK 157 1 1772
                                 3876   
                                 3877   ;;void EncoderDirection(void){
                                 3878   CLINEA 0000H 0001H 06ECH 0001H 001CH
00:0000 CE-F8                    3879   	push	lr
                                 3880   CBLOCK 157 2 1772
                                 3881   CRET 0000H
                                 3882   
                                 3883   ;;	EncoderPostion();
                                 3884   CLINEA 0000H 0001H 06EEH 0002H 0012H
00:0002 01-F0'00-00'             3885   	bl	_EncoderPostion
                                 3886   
                                 3887   ;;	if (AbsolutePosition == previous_encoder_position)
                                 3888   CLINEA 0000H 0001H 06F4H 0002H 0033H
00:0006 12-90 00-00'             3889   	l	er0,	NEAR _AbsolutePosition
00:000A 12-92 00-00'             3890   	l	er2,	NEAR _previous_encoder_position
00:000E 27-F0                    3891   	cmp	er0,	er2
00:0010 04 C8                    3892   	bne	_$L256
                                 3893   CBLOCK 157 3 1781
                                 3894   
                                 3895   ;;		direction = 0;	//No change...
                                 3896   CLINEA 0000H 0001H 06F6H 0003H 001FH
00:0012 00 E0                    3897   	mov	er0,	#0 
00:0014 13-90 00-00'             3898   	st	er0,	NEAR _direction
                                 3899   
                                 3900   ;;		goto NoChange; //TESTING ONLY...COMMENTED OUT!!!!!!!!!!!!!!!!!!
                                 3901   CLINEA 0000H 0001H 06F7H 0003H 0041H
00:0018 1A CE                    3902   	bal	_$L296
                                 3903   
                                 3904   ;;	} 
                                 3905   CLINEA 0000H 0000H 06F8H 0002H 0003H
00:001A                          3906   _$L256 :
                                 3907   
                                 3908   ;;	previousDirection = direction;
                                 3909   CLINEA 0000H 0001H 06FBH 0002H 001FH
00:001A 12-90 00-00'             3910   	l	er0,	NEAR _direction
00:001E 13-90 00-00'             3911   	st	er0,	NEAR _previousDirection
                                 3912   CBLOCK 157 4 1791
                                 3913   
                                 3914   ;;	switch (AbsolutePosition) 
                                 3915   CLINEA 0000H 0001H 06FEH 0002H 001BH
00:0022 10-90 00-00'             3916   	l	r0,	NEAR _AbsolutePosition+01h
00:0026 0A C8                    3917   	bne	_$L262
00:0028 10-90 00-00'             3918   	l	r0,	NEAR _AbsolutePosition
00:002C 01 70                    3919   	cmp	r0,	#01h
00:002E 14 C9                    3920   	beq	_$L264
                                 3921   
                                 3922   ;;	switch (AbsolutePosition) 
                                 3923   CLINEA 0000H 0000H 06FEH 0002H 001BH
00:0030 02 70                    3924   	cmp	r0,	#02h
00:0032 1C C9                    3925   	beq	_$L272
                                 3926   
                                 3927   ;;	switch (AbsolutePosition) 
                                 3928   CLINEA 0000H 0000H 06FEH 0002H 001BH
00:0034 03 70                    3929   	cmp	r0,	#03h
00:0036 24 C9                    3930   	beq	_$L280
                                 3931   
                                 3932   ;;	switch (AbsolutePosition) 
                                 3933   CLINEA 0000H 0000H 06FEH 0002H 001BH
00:0038 04 70                    3934   	cmp	r0,	#04h
00:003A 2C C9                    3935   	beq	_$L288
                                 3936   
                                 3937   ;;	}//
                                 3938   CLINEA 0000H 0000H 074CH 0002H 0004H
00:003C                          3939   _$L262 :
                                 3940   
                                 3941   ;;	if (direction ==  3){ 		// 3=Unknown => 1=CW
                                 3942   CLINEA 0000H 0001H 0750H 0002H 002DH
00:003C 12-90 00-00'             3943   	l	er0,	NEAR _direction
00:0040 03 70                    3944   	cmp	r0,	#03h
00:0042 00 51                    3945   	cmpc	r1,	#00h
00:0044 04 C8                    3946   	bne	_$L296
                                 3947   CBLOCK 157 9 1872
                                 3948   
                                 3949   ;;		direction = previousDirection;
                                 3950   CLINEA 0000H 0001H 0751H 0003H 0020H
00:0046 12-90 00-00'             3951   	l	er0,	NEAR _previousDirection
00:004A 13-90 00-00'             3952   	st	er0,	NEAR _direction
                                 3953   CBLOCKEND 157 9 1874
                                 3954   
                                 3955   ;;	}
                                 3956   CLINEA 0000H 0000H 0752H 0002H 0002H
00:004E                          3957   _$L296 :
                                 3958   
                                 3959   ;;	previous_encoder_position = AbsolutePosition; //STORE CURRENT POSITION
                                 3960   CLINEA 0000H 0001H 0756H 0002H 0047H
00:004E 12-90 00-00'             3961   	l	er0,	NEAR _AbsolutePosition
00:0052 13-90 00-00'             3962   	st	er0,	NEAR _previous_encoder_position
                                 3963   CBLOCKEND 157 3 1882
                                 3964   CBLOCKEND 157 2 1882
                                 3965   
                                 3966   ;;} //END EncoderDirection
                                 3967   CLINEA 0000H 0000H 075AH 0001H 0018H
00:0056 8E-F2                    3968   	pop	pc
                                 3969   
                                 3970   ;;	case 1:	//If Current EncoderPosition = 1
                                 3971   CLINEA 0000H 0001H 0700H 0002H 0029H
00:0058                          3972   _$L264 :
                                 3973   CBLOCK 157 5 1794
                                 3974   
                                 3975   ;;		switch (previous_encoder_position ) //...and if previous position was xxx, then direction is xxx  
                                 3976   CLINEA 0000H 0001H 0701H 0003H 0064H
00:0058 10-90 00-00'             3977   	l	r0,	NEAR _previous_encoder_position+01h
00:005C EF C8                    3978   	bne	_$L262
00:005E 10-90 00-00'             3979   	l	r0,	NEAR _previous_encoder_position
00:0062 02 70                    3980   	cmp	r0,	#02h
00:0064 21 C9                    3981   	beq	_$L270
                                 3982   
                                 3983   ;;		switch (previous_encoder_position ) //...and if previous position was xxx, then direction is xxx  
                                 3984   CLINEA 0000H 0000H 0701H 0003H 0064H
00:0066 04 70                    3985   	cmp	r0,	#04h
00:0068 23 C9                    3986   	beq	_$L271
                                 3987   
                                 3988   ;;		}
                                 3989   CLINEA 0000H 0000H 070FH 0003H 0003H
00:006A                          3990   _$L268 :
                                 3991   
                                 3992   ;;		break;
                                 3993   CLINEA 0000H 0001H 0710H 0003H 0008H
00:006A E8 CE                    3994   	bal	_$L262
                                 3995   
                                 3996   ;;	case 2:	//Current EncoderPosition = 2
                                 3997   CLINEA 0000H 0001H 0712H 0002H 0026H
00:006C                          3998   _$L272 :
                                 3999   CBLOCK 157 6 1812
                                 4000   
                                 4001   ;;		switch (previous_encoder_position ) //...and if previous position was xxx, then direction is xxx  
                                 4002   CLINEA 0000H 0001H 0713H 0003H 0064H
00:006C 10-90 00-00'             4003   	l	r0,	NEAR _previous_encoder_position+01h
00:0070 E5 C8                    4004   	bne	_$L262
00:0072 10-90 00-00'             4005   	l	r0,	NEAR _previous_encoder_position
00:0076 01 70                    4006   	cmp	r0,	#01h
00:0078 1F C9                    4007   	beq	_$L278
                                 4008   
                                 4009   ;;		switch (previous_encoder_position ) //...and if previous position was xxx, then direction is xxx  
                                 4010   CLINEA 0000H 0000H 0713H 0003H 0064H
00:007A 03 70                    4011   	cmp	r0,	#03h
00:007C 21 C9                    4012   	beq	_$L279
                                 4013   
                                 4014   ;;		}
                                 4015   CLINEA 0000H 0000H 0722H 0003H 0003H
00:007E                          4016   _$L276 :
                                 4017   
                                 4018   ;;		break;
                                 4019   CLINEA 0000H 0001H 0723H 0003H 0008H
00:007E DE CE                    4020   	bal	_$L262
                                 4021   
                                 4022   ;;	case 3:	//Current EncoderPosition = 3
                                 4023   CLINEA 0000H 0001H 0725H 0002H 0026H
00:0080                          4024   _$L280 :
                                 4025   CBLOCK 157 7 1831
                                 4026   
                                 4027   ;;		switch (previous_encoder_position ) //...and if previous position was xxx, then direction is xxx  
                                 4028   CLINEA 0000H 0001H 0726H 0003H 0064H
00:0080 10-90 00-00'             4029   	l	r0,	NEAR _previous_encoder_position+01h
00:0084 DB C8                    4030   	bne	_$L262
00:0086 10-90 00-00'             4031   	l	r0,	NEAR _previous_encoder_position
00:008A 02 70                    4032   	cmp	r0,	#02h
00:008C 1D C9                    4033   	beq	_$L286
                                 4034   
                                 4035   ;;		switch (previous_encoder_position ) //...and if previous position was xxx, then direction is xxx  
                                 4036   CLINEA 0000H 0000H 0726H 0003H 0064H
00:008E 04 70                    4037   	cmp	r0,	#04h
00:0090 1F C9                    4038   	beq	_$L287
                                 4039   
                                 4040   ;;		}
                                 4041   CLINEA 0000H 0000H 0734H 0003H 0003H
00:0092                          4042   _$L284 :
                                 4043   
                                 4044   ;;		break;
                                 4045   CLINEA 0000H 0001H 0735H 0003H 0008H
00:0092 D4 CE                    4046   	bal	_$L262
                                 4047   
                                 4048   ;;	case 4:	//Current EncoderPosition = 4
                                 4049   CLINEA 0000H 0001H 0737H 0002H 0026H
00:0094                          4050   _$L288 :
                                 4051   CBLOCK 157 8 1849
                                 4052   
                                 4053   ;;		switch (previous_encoder_position ) //...and if previous position was xxx, then direction is xxx  
                                 4054   CLINEA 0000H 0001H 0738H 0003H 0064H
00:0094 10-90 00-00'             4055   	l	r0,	NEAR _previous_encoder_position+01h
00:0098 D1 C8                    4056   	bne	_$L262
00:009A 10-90 00-00'             4057   	l	r0,	NEAR _previous_encoder_position
00:009E 01 70                    4058   	cmp	r0,	#01h
00:00A0 1B C9                    4059   	beq	_$L294
                                 4060   
                                 4061   ;;		switch (previous_encoder_position ) //...and if previous position was xxx, then direction is xxx  
                                 4062   CLINEA 0000H 0000H 0738H 0003H 0064H
00:00A2 03 70                    4063   	cmp	r0,	#03h
00:00A4 1D C9                    4064   	beq	_$L295
                                 4065   
                                 4066   ;;		}
                                 4067   CLINEA 0000H 0000H 0746H 0003H 0003H
00:00A6                          4068   _$L292 :
                                 4069   
                                 4070   ;;		break;
                                 4071   CLINEA 0000H 0001H 0747H 0003H 0008H
00:00A6 CA CE                    4072   	bal	_$L262
                                 4073   CBLOCKEND 157 4 1868
                                 4074   
                                 4075   ;;		case 2:
                                 4076   CLINEA 0000H 0001H 0703H 0003H 0009H
00:00A8                          4077   _$L270 :
                                 4078   
                                 4079   ;;			direction =  2; 	// 2=CCW
                                 4080   CLINEA 0000H 0001H 0704H 0004H 001CH
00:00A8 02 E0                    4081   	mov	er0,	#2 
00:00AA 13-90 00-00'             4082   	st	er0,	NEAR _direction
                                 4083   
                                 4084   ;;			break;
                                 4085   CLINEA 0000H 0001H 0705H 0004H 0009H
00:00AE DD CE                    4086   	bal	_$L268
                                 4087   
                                 4088   ;;		case 4:
                                 4089   CLINEA 0000H 0001H 0709H 0003H 0009H
00:00B0                          4090   _$L271 :
                                 4091   
                                 4092   ;;			direction =  1; 	// 1=CW
                                 4093   CLINEA 0000H 0001H 070AH 0004H 001BH
00:00B0 01 E0                    4094   	mov	er0,	#1 
00:00B2 13-90 00-00'             4095   	st	er0,	NEAR _direction
                                 4096   
                                 4097   ;;			break;
                                 4098   CLINEA 0000H 0001H 070BH 0004H 0009H
00:00B6 D9 CE                    4099   	bal	_$L268
                                 4100   CBLOCKEND 157 5 1807
                                 4101   
                                 4102   ;;		case 1:
                                 4103   CLINEA 0000H 0001H 0715H 0003H 0009H
00:00B8                          4104   _$L278 :
                                 4105   
                                 4106   ;;			direction =  1; 	// 1=CW
                                 4107   CLINEA 0000H 0001H 0716H 0004H 001BH
00:00B8 01 E0                    4108   	mov	er0,	#1 
00:00BA 13-90 00-00'             4109   	st	er0,	NEAR _direction
                                 4110   
                                 4111   ;;			break;
                                 4112   CLINEA 0000H 0001H 0717H 0004H 0009H
00:00BE DF CE                    4113   	bal	_$L276
                                 4114   
                                 4115   ;;		case 3:
                                 4116   CLINEA 0000H 0001H 0718H 0003H 0009H
00:00C0                          4117   _$L279 :
                                 4118   
                                 4119   ;;			direction =  2; 	// 2=CCW 
                                 4120   CLINEA 0000H 0001H 0719H 0004H 001DH
00:00C0 02 E0                    4121   	mov	er0,	#2 
00:00C2 13-90 00-00'             4122   	st	er0,	NEAR _direction
                                 4123   
                                 4124   ;;			break;
                                 4125   CLINEA 0000H 0001H 071AH 0004H 0009H
00:00C6 DB CE                    4126   	bal	_$L276
                                 4127   CBLOCKEND 157 6 1826
                                 4128   
                                 4129   ;;		case 2:
                                 4130   CLINEA 0000H 0001H 072BH 0003H 0009H
00:00C8                          4131   _$L286 :
                                 4132   
                                 4133   ;;			direction =  1; 	// 1=CW
                                 4134   CLINEA 0000H 0001H 072CH 0004H 001BH
00:00C8 01 E0                    4135   	mov	er0,	#1 
00:00CA 13-90 00-00'             4136   	st	er0,	NEAR _direction
                                 4137   
                                 4138   ;;			break; 
                                 4139   CLINEA 0000H 0001H 072DH 0004H 000AH
00:00CE E1 CE                    4140   	bal	_$L284
                                 4141   
                                 4142   ;;		case 4:
                                 4143   CLINEA 0000H 0001H 072EH 0003H 0009H
00:00D0                          4144   _$L287 :
                                 4145   
                                 4146   ;;			direction =  2; 	// 2=CCW
                                 4147   CLINEA 0000H 0001H 072FH 0004H 001CH
00:00D0 02 E0                    4148   	mov	er0,	#2 
00:00D2 13-90 00-00'             4149   	st	er0,	NEAR _direction
                                 4150   
                                 4151   ;;			break;  
                                 4152   CLINEA 0000H 0001H 0730H 0004H 000BH
00:00D6 DD CE                    4153   	bal	_$L284
                                 4154   CBLOCKEND 157 7 1844
                                 4155   
                                 4156   ;;		case 1:
                                 4157   CLINEA 0000H 0001H 073AH 0003H 0009H
00:00D8                          4158   _$L294 :
                                 4159   
                                 4160   ;;			direction =  2; 	// 2=CCW
                                 4161   CLINEA 0000H 0001H 073BH 0004H 001CH
00:00D8 02 E0                    4162   	mov	er0,	#2 
00:00DA 13-90 00-00'             4163   	st	er0,	NEAR _direction
                                 4164   
                                 4165   ;;			break;
                                 4166   CLINEA 0000H 0001H 073CH 0004H 0009H
00:00DE E3 CE                    4167   	bal	_$L292
                                 4168   
                                 4169   ;;		case 3:
                                 4170   CLINEA 0000H 0001H 0740H 0003H 0009H
00:00E0                          4171   _$L295 :
                                 4172   
                                 4173   ;;			direction =  1; 	// 1=CW
                                 4174   CLINEA 0000H 0001H 0741H 0004H 001BH
00:00E0 01 E0                    4175   	mov	er0,	#1 
00:00E2 13-90 00-00'             4176   	st	er0,	NEAR _direction
                                 4177   
                                 4178   ;;			break;
                                 4179   CLINEA 0000H 0001H 0742H 0004H 0009H
00:00E6 DF CE                    4180   	bal	_$L292
                                 4181   CBLOCKEND 157 8 1862
                                 4182   CBLOCKEND 157 1 1882
                                 4183   CFUNCTIONEND 157
                                 4184   
                                 4185   
  --------------------------     4186   	rseg $$StepCW$main
                                 4187   CFUNCTION 161
                                 4188   
00:0000                          4189   _StepCW	:
                                 4190   CBLOCK 161 1 1898
                                 4191   
                                 4192   ;;void StepCW (void){		//Working 12 September 2013, 7pm...
                                 4193   CLINEA 0000H 0001H 076AH 0001H 0038H
00:0000 CE-F8                    4194   	push	lr
00:0002 5E-FE                    4195   	push	fp
00:0004 1A-AE                    4196   	mov	fp,	sp
00:0006 F8 E1                    4197   	add	sp,	#-08
                                 4198   CBLOCK 161 2 1898
                                 4199   CRET 000AH
                                 4200   CLOCAL 42H 0002H 0008H 0002H "j" 02H 00H 01H
                                 4201   CLOCAL 42H 0002H 0002H 0002H "ClkHighCounter" 02H 00H 01H
                                 4202   CLOCAL 42H 0002H 0004H 0002H "ClkLowCounter" 02H 00H 01H
                                 4203   CLOCAL 42H 0002H 0006H 0002H "HowManyClockCycles" 02H 00H 01H
                                 4204   
                                 4205   ;;	main_clrWDT();
                                 4206   CLINEA 0000H 0001H 076EH 0002H 000FH
00:0008 01-F0'00-00'             4207   	bl	_main_clrWDT
                                 4208   
                                 4209   ;;		ClkIn_Stepper_CW_CCW 	= 0;				// PB1D - 0=CW; 1=CCW
                                 4210   CLINEA 0000H 0001H 0772H 0003H 0035H
00:000C 92-A0 58-F2              4211   	rb	0f258h.1
                                 4212   
                                 4213   ;;		ClkIn_Stepper_CLK    	= 0;				// Start with Clock Low! 
                                 4214   CLINEA 0000H 0001H 0775H 0003H 0039H
00:0010 82-A0 58-F2              4215   	rb	0f258h.0
                                 4216   
                                 4217   ;;		ClkIn_Stepper_ENABLE 	= 0;				// PB4D - 1=>ENABLED; 0=>DISABLED
                                 4218   CLINEA 0000H 0001H 0776H 0003H 0041H
00:0014 C2-A0 58-F2              4219   	rb	0f258h.4
                                 4220   
                                 4221   ;;		ClkHighCounter 			= 0;				// Zero the counter...
                                 4222   CLINEA 0000H 0001H 0777H 0003H 0032H
00:0018 00 E0                    4223   	mov	er0,	#0 
00:001A FE B0                    4224   	st	er0,	-2[fp]
                                 4225   
                                 4226   ;;		ClkLowCounter 			= 0;				// Zero the counter...
                                 4227   CLINEA 0000H 0001H 0778H 0003H 0031H
00:001C FC B0                    4228   	st	er0,	-4[fp]
                                 4229   
                                 4230   ;;		if (ClkIn_Stepper_MODE_0 == 0 & ClkIn_Stepper_MODE_1 == 0)
                                 4231   CLINEA 0000H 0001H 077DH 0003H 003CH
00:001E 01 00                    4232   	mov	r0,	#01h
00:0020 A1-A0 58-F2              4233   	tb	0f258h.2
00:0024 01 C9                    4234   	beq	_$M109
00:0026 00 00                    4235   	mov	r0,	#00h
00:0028                          4236   _$M109 :
00:0028 01 01                    4237   	mov	r1,	#01h
00:002A B1-A0 58-F2              4238   	tb	0f258h.3
00:002E 01 C9                    4239   	beq	_$M110
00:0030 00 01                    4240   	mov	r1,	#00h
00:0032                          4241   _$M110 :
00:0032 02-81                    4242   	and	r1,	r0
00:0034 01 21                    4243   	and	r1,	#01h
00:0036 02 C9                    4244   	beq	_$L299
                                 4245   CBLOCK 161 3 1918
                                 4246   
                                 4247   ;;			HowManyClockCycles = 1; 	// FULL STEP 	=> 4 CLK Cycles = Electrical Angle 360
                                 4248   CLINEA 0000H 0001H 077FH 0004H 0050H
00:0038 01 E0                    4249   	mov	er0,	#1 
00:003A FA B0                    4250   	st	er0,	-6[fp]
                                 4251   CBLOCKEND 161 3 1920
                                 4252   
                                 4253   ;;		}	
                                 4254   CLINEA 0000H 0000H 0780H 0003H 0004H
00:003C                          4255   _$L299 :
                                 4256   
                                 4257   ;;		if (ClkIn_Stepper_MODE_0 == 1 & ClkIn_Stepper_MODE_1 == 0)
                                 4258   CLINEA 0000H 0001H 0782H 0003H 003CH
00:003C 01 00                    4259   	mov	r0,	#01h
00:003E A1-A0 58-F2              4260   	tb	0f258h.2
00:0042 01 C8                    4261   	bne	_$M111
00:0044 00 00                    4262   	mov	r0,	#00h
00:0046                          4263   _$M111 :
00:0046 01 01                    4264   	mov	r1,	#01h
00:0048 B1-A0 58-F2              4265   	tb	0f258h.3
00:004C 01 C9                    4266   	beq	_$M112
00:004E 00 01                    4267   	mov	r1,	#00h
00:0050                          4268   _$M112 :
00:0050 02-81                    4269   	and	r1,	r0
00:0052 01 21                    4270   	and	r1,	#01h
00:0054 02 C9                    4271   	beq	_$L301
                                 4272   CBLOCK 161 4 1923
                                 4273   
                                 4274   ;;			HowManyClockCycles = 1; 	// HALF STEP-A 	=> 8 CLK Cycles = Electrical Angle 360
                                 4275   CLINEA 0000H 0001H 0784H 0004H 0052H
00:0056 01 E0                    4276   	mov	er0,	#1 
00:0058 FA B0                    4277   	st	er0,	-6[fp]
                                 4278   CBLOCKEND 161 4 1925
                                 4279   
                                 4280   ;;		}
                                 4281   CLINEA 0000H 0000H 0785H 0003H 0003H
00:005A                          4282   _$L301 :
                                 4283   
                                 4284   ;;		if (ClkIn_Stepper_MODE_0 == 0 & ClkIn_Stepper_MODE_1 == 1)
                                 4285   CLINEA 0000H 0001H 0787H 0003H 003CH
00:005A 01 00                    4286   	mov	r0,	#01h
00:005C A1-A0 58-F2              4287   	tb	0f258h.2
00:0060 01 C9                    4288   	beq	_$M113
00:0062 00 00                    4289   	mov	r0,	#00h
00:0064                          4290   _$M113 :
00:0064 01 01                    4291   	mov	r1,	#01h
00:0066 B1-A0 58-F2              4292   	tb	0f258h.3
00:006A 01 C8                    4293   	bne	_$M114
00:006C 00 01                    4294   	mov	r1,	#00h
00:006E                          4295   _$M114 :
00:006E 02-81                    4296   	and	r1,	r0
00:0070 01 21                    4297   	and	r1,	#01h
00:0072 02 C9                    4298   	beq	_$L303
                                 4299   CBLOCK 161 5 1928
                                 4300   
                                 4301   ;;			HowManyClockCycles = 1; 	// HALF STEP-B 	=> 8 CLK Cycles = Electrical Angle 360
                                 4302   CLINEA 0000H 0001H 0789H 0004H 0052H
00:0074 01 E0                    4303   	mov	er0,	#1 
00:0076 FA B0                    4304   	st	er0,	-6[fp]
                                 4305   CBLOCKEND 161 5 1930
                                 4306   
                                 4307   ;;		}
                                 4308   CLINEA 0000H 0000H 078AH 0003H 0003H
00:0078                          4309   _$L303 :
                                 4310   
                                 4311   ;;		if (ClkIn_Stepper_MODE_0 == 1 & ClkIn_Stepper_MODE_1 == 1)
                                 4312   CLINEA 0000H 0001H 078CH 0003H 003CH
00:0078 01 00                    4313   	mov	r0,	#01h
00:007A A1-A0 58-F2              4314   	tb	0f258h.2
00:007E 01 C8                    4315   	bne	_$M115
00:0080 00 00                    4316   	mov	r0,	#00h
00:0082                          4317   _$M115 :
00:0082 01 01                    4318   	mov	r1,	#01h
00:0084 B1-A0 58-F2              4319   	tb	0f258h.3
00:0088 01 C8                    4320   	bne	_$M116
00:008A 00 01                    4321   	mov	r1,	#00h
00:008C                          4322   _$M116 :
00:008C 02-81                    4323   	and	r1,	r0
00:008E 01 21                    4324   	and	r1,	#01h
00:0090 02 C9                    4325   	beq	_$L305
                                 4326   CBLOCK 161 6 1933
                                 4327   
                                 4328   ;;			HowManyClockCycles = 1; 	// QUARTER STEP 	=> 16 CLK Cycles = Electrical Angle 360
                                 4329   CLINEA 0000H 0001H 078EH 0004H 0054H
00:0092 01 E0                    4330   	mov	er0,	#1 
00:0094 FA B0                    4331   	st	er0,	-6[fp]
                                 4332   CBLOCKEND 161 6 1935
                                 4333   
                                 4334   ;;		}
                                 4335   CLINEA 0000H 0000H 078FH 0003H 0003H
00:0096                          4336   _$L305 :
                                 4337   
                                 4338   ;;			ClkIn_Stepper_ENABLE = 1;			// PB4D - 1=>ENABLED; 0=>DISABLED			
                                 4339   CLINEA 0000H 0001H 0793H 0004H 0043H
00:0096 C0-A0 58-F2              4340   	sb	0f258h.4
                                 4341   
                                 4342   ;;		for (j=0; j<HowManyClockCycles ; j++)		// Desired number of Clock pulses...
                                 4343   CLINEA 0000H 0001H 0796H 0003H 004DH
00:009A 00 E0                    4344   	mov	er0,	#0 
00:009C 1A CE                    4345   	bal	_$L312
00:009E                          4346   _$L309 :
                                 4347   CBLOCK 161 7 1943
                                 4348   
                                 4349   ;;			ClkIn_Stepper_CLK   = 1;			// PB0D - The Electrical angle advances by one for each CLK input
                                 4350   CLINEA 0000H 0001H 0799H 0004H 005FH
00:009E 80-A0 58-F2              4351   	sb	0f258h.0
                                 4352   
                                 4353   ;;				while(ClkHighCounter < CWClkPlseWidth ) {		// NOP for 250 Cycles => 400uS
                                 4354   CLINEA 0000H 0001H 079BH 0005H 004DH
00:00A2 02 CE                    4355   	bal	_$L313
00:00A4                          4356   _$L315 :
                                 4357   CBLOCK 161 8 1947
                                 4358   
                                 4359   ;;				ClkHighCounter++;
                                 4360   CLINEA 0000H 0000H 079CH 0005H 0015H
00:00A4 81 E0                    4361   	add	er0,	#1 
00:00A6 FE B0                    4362   	st	er0,	-2[fp]
                                 4363   CBLOCKEND 161 8 1949
                                 4364   
                                 4365   ;;				}
                                 4366   CLINEA 0000H 0000H 079DH 0005H 0005H
00:00A8                          4367   _$L313 :
                                 4368   
                                 4369   ;;				while(ClkHighCounter < CWClkPlseWidth ) {		// NOP for 250 Cycles => 400uS
                                 4370   CLINEA 0000H 0000H 079BH 0000H 0000H
00:00A8 7E B0                    4371   	l	er0,	-2[fp]
00:00AA 12-92 00-00'             4372   	l	er2,	NEAR _CWClkPlseWidth
00:00AE 27-F0                    4373   	cmp	er0,	er2
00:00B0 F9 C1                    4374   	blt	_$L315
                                 4375   
                                 4376   ;;				ClkHighCounter= 0;
                                 4377   CLINEA 0000H 0001H 079EH 0005H 0016H
00:00B2 00 E0                    4378   	mov	er0,	#0 
00:00B4 FE B0                    4379   	st	er0,	-2[fp]
                                 4380   
                                 4381   ;;			ClkIn_Stepper_CLK = 0;				// PB0D - The Electrical angle advances by one for each CLK input
                                 4382   CLINEA 0000H 0001H 07A1H 0004H 005EH
00:00B6 82-A0 58-F2              4383   	rb	0f258h.0
                                 4384   
                                 4385   ;;				while(ClkLowCounter < CWClkPlseWidth) {		// NOP for 250 Cycles => 400uS
                                 4386   CLINEA 0000H 0001H 07A3H 0005H 004BH
00:00BA 02 CE                    4387   	bal	_$L317
00:00BC                          4388   _$L319 :
                                 4389   CBLOCK 161 9 1955
                                 4390   
                                 4391   ;;				ClkLowCounter++;
                                 4392   CLINEA 0000H 0000H 07A4H 0005H 0014H
00:00BC 81 E0                    4393   	add	er0,	#1 
00:00BE FC B0                    4394   	st	er0,	-4[fp]
                                 4395   CBLOCKEND 161 9 1957
                                 4396   
                                 4397   ;;				}
                                 4398   CLINEA 0000H 0000H 07A5H 0005H 0005H
00:00C0                          4399   _$L317 :
                                 4400   
                                 4401   ;;				while(ClkLowCounter < CWClkPlseWidth) {		// NOP for 250 Cycles => 400uS
                                 4402   CLINEA 0000H 0000H 07A3H 0000H 0000H
00:00C0 7C B0                    4403   	l	er0,	-4[fp]
00:00C2 12-92 00-00'             4404   	l	er2,	NEAR _CWClkPlseWidth
00:00C6 27-F0                    4405   	cmp	er0,	er2
00:00C8 F9 C1                    4406   	blt	_$L319
                                 4407   
                                 4408   ;;				ClkLowCounter= 0;
                                 4409   CLINEA 0000H 0001H 07A6H 0005H 0015H
00:00CA 00 E0                    4410   	mov	er0,	#0 
00:00CC FC B0                    4411   	st	er0,	-4[fp]
                                 4412   CBLOCKEND 161 7 1960
                                 4413   
                                 4414   ;;		for (j=0; j<HowManyClockCycles ; j++)		// Desired number of Clock pulses...
                                 4415   CLINEA 0000H 0000H 0796H 0003H 004DH
00:00CE 78 B0                    4416   	l	er0,	-8[fp]
00:00D0 81 E0                    4417   	add	er0,	#1 
00:00D2                          4418   _$L312 :
00:00D2 F8 B0                    4419   	st	er0,	-8[fp]
00:00D4 7A B2                    4420   	l	er2,	-6[fp]
00:00D6 27-F0                    4421   	cmp	er0,	er2
00:00D8 E2 C1                    4422   	blt	_$L309
                                 4423   
                                 4424   ;;		   	ClkIn_Stepper_ENABLE = 0;			// PB4D - 1=>ENABLED; 0=>DISABLED
                                 4425   CLINEA 0000H 0001H 07ABH 0007H 0043H
00:00DA C2-A0 58-F2              4426   	rb	0f258h.4
                                 4427   CBLOCKEND 161 2 1965
                                 4428   
                                 4429   ;;} //END StepCW  Function
                                 4430   CLINEA 0000H 0001H 07ADH 0001H 0018H
00:00DE EA-A1                    4431   	mov	sp,	fp
00:00E0 1E-FE                    4432   	pop	fp
00:00E2 8E-F2                    4433   	pop	pc
                                 4434   CBLOCKEND 161 1 1965
                                 4435   CFUNCTIONEND 161
                                 4436   
                                 4437   
  --------------------------     4438   	rseg $$StepCCW$main
                                 4439   CFUNCTION 162
                                 4440   
00:0000                          4441   _StepCCW	:
                                 4442   CBLOCK 162 1 1973
                                 4443   
                                 4444   ;;void StepCCW (void){		//Working 12 September 2013...
                                 4445   CLINEA 0000H 0001H 07B5H 0001H 0034H
00:0000 CE-F8                    4446   	push	lr
00:0002 5E-FE                    4447   	push	fp
00:0004 1A-AE                    4448   	mov	fp,	sp
00:0006 F8 E1                    4449   	add	sp,	#-08
                                 4450   CBLOCK 162 2 1973
                                 4451   CRET 000AH
                                 4452   CLOCAL 42H 0002H 0008H 0002H "j" 02H 00H 01H
                                 4453   CLOCAL 42H 0002H 0002H 0002H "ClkHighCounter" 02H 00H 01H
                                 4454   CLOCAL 42H 0002H 0004H 0002H "ClkLowCounter" 02H 00H 01H
                                 4455   CLOCAL 42H 0002H 0006H 0002H "HowManyClockCycles" 02H 00H 01H
                                 4456   
                                 4457   ;;	main_clrWDT();
                                 4458   CLINEA 0000H 0001H 07B9H 0002H 000FH
00:0008 01-F0'00-00'             4459   	bl	_main_clrWDT
                                 4460   
                                 4461   ;;		ClkIn_Stepper_CW_CCW	 = 1;				// PB1D - 0=CW; 1=CCW
                                 4462   CLINEA 0000H 0001H 07BDH 0003H 0035H
00:000C 90-A0 58-F2              4463   	sb	0f258h.1
                                 4464   
                                 4465   ;;		ClkIn_Stepper_CLK    	= 0;				// Start with Clock Low! 
                                 4466   CLINEA 0000H 0001H 07C0H 0003H 0039H
00:0010 82-A0 58-F2              4467   	rb	0f258h.0
                                 4468   
                                 4469   ;;		ClkIn_Stepper_ENABLE 	= 0;				// PB4D - 1=>ENABLED; 0=>DISABLED
                                 4470   CLINEA 0000H 0001H 07C1H 0003H 0041H
00:0014 C2-A0 58-F2              4471   	rb	0f258h.4
                                 4472   
                                 4473   ;;		ClkHighCounter 			= 0;				// Zero the counter...
                                 4474   CLINEA 0000H 0001H 07C2H 0003H 0032H
00:0018 00 E0                    4475   	mov	er0,	#0 
00:001A FE B0                    4476   	st	er0,	-2[fp]
                                 4477   
                                 4478   ;;		ClkLowCounter 			= 0;				// Zero the counter...
                                 4479   CLINEA 0000H 0001H 07C3H 0003H 0031H
00:001C FC B0                    4480   	st	er0,	-4[fp]
                                 4481   
                                 4482   ;;		if (ClkIn_Stepper_MODE_0 == 0 & ClkIn_Stepper_MODE_1 == 0)
                                 4483   CLINEA 0000H 0001H 07C8H 0003H 003CH
00:001E 01 00                    4484   	mov	r0,	#01h
00:0020 A1-A0 58-F2              4485   	tb	0f258h.2
00:0024 01 C9                    4486   	beq	_$M118
00:0026 00 00                    4487   	mov	r0,	#00h
00:0028                          4488   _$M118 :
00:0028 01 01                    4489   	mov	r1,	#01h
00:002A B1-A0 58-F2              4490   	tb	0f258h.3
00:002E 01 C9                    4491   	beq	_$M119
00:0030 00 01                    4492   	mov	r1,	#00h
00:0032                          4493   _$M119 :
00:0032 02-81                    4494   	and	r1,	r0
00:0034 01 21                    4495   	and	r1,	#01h
00:0036 02 C9                    4496   	beq	_$L322
                                 4497   CBLOCK 162 3 1993
                                 4498   
                                 4499   ;;			HowManyClockCycles = 1; 	// FULL STEP 	=> 4 CLK Cycles = Electrical Angle 360
                                 4500   CLINEA 0000H 0001H 07CAH 0004H 0050H
00:0038 01 E0                    4501   	mov	er0,	#1 
00:003A FA B0                    4502   	st	er0,	-6[fp]
                                 4503   CBLOCKEND 162 3 1995
                                 4504   
                                 4505   ;;		}	
                                 4506   CLINEA 0000H 0000H 07CBH 0003H 0004H
00:003C                          4507   _$L322 :
                                 4508   
                                 4509   ;;		if (ClkIn_Stepper_MODE_0 == 1 & ClkIn_Stepper_MODE_1 == 0)
                                 4510   CLINEA 0000H 0001H 07CDH 0003H 003CH
00:003C 01 00                    4511   	mov	r0,	#01h
00:003E A1-A0 58-F2              4512   	tb	0f258h.2
00:0042 01 C8                    4513   	bne	_$M120
00:0044 00 00                    4514   	mov	r0,	#00h
00:0046                          4515   _$M120 :
00:0046 01 01                    4516   	mov	r1,	#01h
00:0048 B1-A0 58-F2              4517   	tb	0f258h.3
00:004C 01 C9                    4518   	beq	_$M121
00:004E 00 01                    4519   	mov	r1,	#00h
00:0050                          4520   _$M121 :
00:0050 02-81                    4521   	and	r1,	r0
00:0052 01 21                    4522   	and	r1,	#01h
00:0054 02 C9                    4523   	beq	_$L324
                                 4524   CBLOCK 162 4 1998
                                 4525   
                                 4526   ;;			HowManyClockCycles = 1; 	// HALF STEP-A 	=> 8 CLK Cycles = Electrical Angle 360
                                 4527   CLINEA 0000H 0001H 07CFH 0004H 0052H
00:0056 01 E0                    4528   	mov	er0,	#1 
00:0058 FA B0                    4529   	st	er0,	-6[fp]
                                 4530   CBLOCKEND 162 4 2000
                                 4531   
                                 4532   ;;		}
                                 4533   CLINEA 0000H 0000H 07D0H 0003H 0003H
00:005A                          4534   _$L324 :
                                 4535   
                                 4536   ;;		if (ClkIn_Stepper_MODE_0 == 0 & ClkIn_Stepper_MODE_1 == 1)
                                 4537   CLINEA 0000H 0001H 07D2H 0003H 003CH
00:005A 01 00                    4538   	mov	r0,	#01h
00:005C A1-A0 58-F2              4539   	tb	0f258h.2
00:0060 01 C9                    4540   	beq	_$M122
00:0062 00 00                    4541   	mov	r0,	#00h
00:0064                          4542   _$M122 :
00:0064 01 01                    4543   	mov	r1,	#01h
00:0066 B1-A0 58-F2              4544   	tb	0f258h.3
00:006A 01 C8                    4545   	bne	_$M123
00:006C 00 01                    4546   	mov	r1,	#00h
00:006E                          4547   _$M123 :
00:006E 02-81                    4548   	and	r1,	r0
00:0070 01 21                    4549   	and	r1,	#01h
00:0072 02 C9                    4550   	beq	_$L326
                                 4551   CBLOCK 162 5 2003
                                 4552   
                                 4553   ;;			HowManyClockCycles = 1; 	// HALF STEP-B 	=> 8 CLK Cycles = Electrical Angle 360
                                 4554   CLINEA 0000H 0001H 07D4H 0004H 0052H
00:0074 01 E0                    4555   	mov	er0,	#1 
00:0076 FA B0                    4556   	st	er0,	-6[fp]
                                 4557   CBLOCKEND 162 5 2005
                                 4558   
                                 4559   ;;		}
                                 4560   CLINEA 0000H 0000H 07D5H 0003H 0003H
00:0078                          4561   _$L326 :
                                 4562   
                                 4563   ;;		if (ClkIn_Stepper_MODE_0 == 1 & ClkIn_Stepper_MODE_1 == 1)
                                 4564   CLINEA 0000H 0001H 07D7H 0003H 003CH
00:0078 01 00                    4565   	mov	r0,	#01h
00:007A A1-A0 58-F2              4566   	tb	0f258h.2
00:007E 01 C8                    4567   	bne	_$M124
00:0080 00 00                    4568   	mov	r0,	#00h
00:0082                          4569   _$M124 :
00:0082 01 01                    4570   	mov	r1,	#01h
00:0084 B1-A0 58-F2              4571   	tb	0f258h.3
00:0088 01 C8                    4572   	bne	_$M125
00:008A 00 01                    4573   	mov	r1,	#00h
00:008C                          4574   _$M125 :
00:008C 02-81                    4575   	and	r1,	r0
00:008E 01 21                    4576   	and	r1,	#01h
00:0090 02 C9                    4577   	beq	_$L328
                                 4578   CBLOCK 162 6 2008
                                 4579   
                                 4580   ;;			HowManyClockCycles = 1; 	// QUARTER STEP 	=> 16 CLK Cycles = Electrical Angle 360
                                 4581   CLINEA 0000H 0001H 07D9H 0004H 0054H
00:0092 01 E0                    4582   	mov	er0,	#1 
00:0094 FA B0                    4583   	st	er0,	-6[fp]
                                 4584   CBLOCKEND 162 6 2010
                                 4585   
                                 4586   ;;		}
                                 4587   CLINEA 0000H 0000H 07DAH 0003H 0003H
00:0096                          4588   _$L328 :
                                 4589   
                                 4590   ;;			ClkIn_Stepper_ENABLE = 1;			// PB4D - 1=>ENABLED; 0=>DISABLED			
                                 4591   CLINEA 0000H 0001H 07DEH 0004H 0043H
00:0096 C0-A0 58-F2              4592   	sb	0f258h.4
                                 4593   
                                 4594   ;;		for (j=0; j<HowManyClockCycles ; j++)		// Desired number of Clock pulses...
                                 4595   CLINEA 0000H 0001H 07E1H 0003H 004DH
00:009A 00 E0                    4596   	mov	er0,	#0 
00:009C 1A CE                    4597   	bal	_$L335
00:009E                          4598   _$L332 :
                                 4599   CBLOCK 162 7 2018
                                 4600   
                                 4601   ;;			ClkIn_Stepper_CLK   = 1;			// PB0D - The Electrical angle advances by one for each CLK input
                                 4602   CLINEA 0000H 0001H 07E4H 0004H 005FH
00:009E 80-A0 58-F2              4603   	sb	0f258h.0
                                 4604   
                                 4605   ;;				while(ClkHighCounter < CCWClkPlseWidth ) {		// NOP for 250 Cycles => 400uS
                                 4606   CLINEA 0000H 0001H 07E6H 0005H 004EH
00:00A2 02 CE                    4607   	bal	_$L336
00:00A4                          4608   _$L338 :
                                 4609   CBLOCK 162 8 2022
                                 4610   
                                 4611   ;;				ClkHighCounter++;
                                 4612   CLINEA 0000H 0000H 07E7H 0005H 0015H
00:00A4 81 E0                    4613   	add	er0,	#1 
00:00A6 FE B0                    4614   	st	er0,	-2[fp]
                                 4615   CBLOCKEND 162 8 2024
                                 4616   
                                 4617   ;;				}
                                 4618   CLINEA 0000H 0000H 07E8H 0005H 0005H
00:00A8                          4619   _$L336 :
                                 4620   
                                 4621   ;;				while(ClkHighCounter < CCWClkPlseWidth ) {		// NOP for 250 Cycles => 400uS
                                 4622   CLINEA 0000H 0000H 07E6H 0000H 0000H
00:00A8 7E B0                    4623   	l	er0,	-2[fp]
00:00AA 12-92 00-00'             4624   	l	er2,	NEAR _CCWClkPlseWidth
00:00AE 27-F0                    4625   	cmp	er0,	er2
00:00B0 F9 C1                    4626   	blt	_$L338
                                 4627   
                                 4628   ;;				ClkHighCounter= 0;
                                 4629   CLINEA 0000H 0001H 07E9H 0005H 0016H
00:00B2 00 E0                    4630   	mov	er0,	#0 
00:00B4 FE B0                    4631   	st	er0,	-2[fp]
                                 4632   
                                 4633   ;;			ClkIn_Stepper_CLK = 0;				// PB0D - The Electrical angle advances by one for each CLK input
                                 4634   CLINEA 0000H 0001H 07ECH 0004H 005EH
00:00B6 82-A0 58-F2              4635   	rb	0f258h.0
                                 4636   
                                 4637   ;;				while(ClkLowCounter < CCWClkPlseWidth) {		// NOP for 250 Cycles => 400uS
                                 4638   CLINEA 0000H 0001H 07EEH 0005H 004CH
00:00BA 02 CE                    4639   	bal	_$L340
00:00BC                          4640   _$L342 :
                                 4641   CBLOCK 162 9 2030
                                 4642   
                                 4643   ;;				ClkLowCounter++;
                                 4644   CLINEA 0000H 0000H 07EFH 0005H 0014H
00:00BC 81 E0                    4645   	add	er0,	#1 
00:00BE FC B0                    4646   	st	er0,	-4[fp]
                                 4647   CBLOCKEND 162 9 2032
                                 4648   
                                 4649   ;;				}
                                 4650   CLINEA 0000H 0000H 07F0H 0005H 0005H
00:00C0                          4651   _$L340 :
                                 4652   
                                 4653   ;;				while(ClkLowCounter < CCWClkPlseWidth) {		// NOP for 250 Cycles => 400uS
                                 4654   CLINEA 0000H 0000H 07EEH 0000H 0000H
00:00C0 7C B0                    4655   	l	er0,	-4[fp]
00:00C2 12-92 00-00'             4656   	l	er2,	NEAR _CCWClkPlseWidth
00:00C6 27-F0                    4657   	cmp	er0,	er2
00:00C8 F9 C1                    4658   	blt	_$L342
                                 4659   
                                 4660   ;;				ClkLowCounter= 0;
                                 4661   CLINEA 0000H 0001H 07F1H 0005H 0015H
00:00CA 00 E0                    4662   	mov	er0,	#0 
00:00CC FC B0                    4663   	st	er0,	-4[fp]
                                 4664   CBLOCKEND 162 7 2035
                                 4665   
                                 4666   ;;		for (j=0; j<HowManyClockCycles ; j++)		// Desired number of Clock pulses...
                                 4667   CLINEA 0000H 0000H 07E1H 0003H 004DH
00:00CE 78 B0                    4668   	l	er0,	-8[fp]
00:00D0 81 E0                    4669   	add	er0,	#1 
00:00D2                          4670   _$L335 :
00:00D2 F8 B0                    4671   	st	er0,	-8[fp]
00:00D4 7A B2                    4672   	l	er2,	-6[fp]
00:00D6 27-F0                    4673   	cmp	er0,	er2
00:00D8 E2 C1                    4674   	blt	_$L332
                                 4675   
                                 4676   ;;		   	ClkIn_Stepper_ENABLE = 0;			// PB4D - 1=>ENABLED; 0=>DISABLED
                                 4677   CLINEA 0000H 0001H 07F6H 0007H 0043H
00:00DA C2-A0 58-F2              4678   	rb	0f258h.4
                                 4679   CBLOCKEND 162 2 2040
                                 4680   
                                 4681   ;;} //END StepCCW  Function
                                 4682   CLINEA 0000H 0001H 07F8H 0001H 0019H
00:00DE EA-A1                    4683   	mov	sp,	fp
00:00E0 1E-FE                    4684   	pop	fp
00:00E2 8E-F2                    4685   	pop	pc
                                 4686   CBLOCKEND 162 1 2040
                                 4687   CFUNCTIONEND 162
                                 4688   
                                 4689   
  --------------------------     4690   	rseg $$ContinuousMode$main
                                 4691   CFUNCTION 163
                                 4692   
00:0000                          4693   _ContinuousMode	:
                                 4694   CBLOCK 163 1 2050
                                 4695   
                                 4696   ;;void ContinuousMode(void){
                                 4697   CLINEA 0000H 0001H 0802H 0001H 001AH
00:0000 CE-F8                    4698   	push	lr
00:0002 5E-FE                    4699   	push	fp
00:0004 1A-AE                    4700   	mov	fp,	sp
00:0006 F0 E1                    4701   	add	sp,	#-016
00:0008 6E-F4                    4702   	push	xr4
                                 4703   CBLOCK 163 2 2050
                                 4704   CRET 0016H
                                 4705   CLOCAL 42H 0002H 000AH 0002H "k" 02H 00H 01H
                                 4706   CLOCAL 42H 0002H 000CH 0002H "WarmUp" 02H 00H 01H
                                 4707   CLOCAL 42H 0002H 000EH 0002H "counter" 02H 00H 01H
                                 4708   CLOCAL 42H 0002H 0010H 0002H "ClockingCount" 02H 00H 01H
                                 4709   CLOCAL 4AH 0004H 0000H 0002H "LongCounter" 02H 00H 02H
                                 4710   
                                 4711   ;;	main_clrWDT();
                                 4712   CLINEA 0000H 0001H 0808H 0002H 000FH
00:000A 01-F0'00-00'             4713   	bl	_main_clrWDT
                                 4714   
                                 4715   ;;		ClkIn_Stepper_ENABLE = 1;			// PB4D - 1=>ENABLED; 0=>DISABLED
                                 4716   CLINEA 0000H 0001H 080FH 0003H 003FH
00:000E C0-A0 58-F2              4717   	sb	0f258h.4
                                 4718   
                                 4719   ;;		for (k=0; k<4625; k++) // 5000-375=4625
                                 4720   CLINEA 0000H 0001H 0813H 0003H 0029H
00:0012 00 E0                    4721   	mov	er0,	#0 
00:0014 F6 B0                    4722   	st	er0,	-10[fp]
00:0016                          4723   _$L347 :
                                 4724   CBLOCK 163 3 2068
                                 4725   
                                 4726   ;;			WarmUp = (5000 - k);
                                 4727   CLINEA 0000H 0001H 0816H 0004H 0017H
00:0016 88 00                    4728   	mov	r0,	#088h
00:0018 13 01                    4729   	mov	r1,	#013h
00:001A 76 B2                    4730   	l	er2,	-10[fp]
00:001C 28-80                    4731   	sub	r0,	r2
00:001E 39-81                    4732   	subc	r1,	r3
00:0020 F4 B0                    4733   	st	er0,	-12[fp]
                                 4734   
                                 4735   ;;			ClkIn_Stepper_CLK    = 1;	// PB0D - The Electrical angle advances by one for each CLK input
                                 4736   CLINEA 0000H 0001H 0819H 0004H 005EH
00:0022 80-A0 58-F2              4737   	sb	0f258h.0
                                 4738   
                                 4739   ;;			while(counter < WarmUp ) {	// NOP for 250+ Cycles
                                 4740   CLINEA 0000H 0001H 081BH 0004H 0034H
00:0026 02 CE                    4741   	bal	_$L351
00:0028                          4742   _$L353 :
                                 4743   CBLOCK 163 4 2075
                                 4744   
                                 4745   ;;				counter++;
                                 4746   CLINEA 0000H 0000H 081CH 0005H 000EH
00:0028 81 E0                    4747   	add	er0,	#1 
00:002A F2 B0                    4748   	st	er0,	-14[fp]
                                 4749   CBLOCKEND 163 4 2077
                                 4750   
                                 4751   ;;			}
                                 4752   CLINEA 0000H 0000H 081DH 0004H 0004H
00:002C                          4753   _$L351 :
                                 4754   
                                 4755   ;;			while(counter < WarmUp ) {	// NOP for 250+ Cycles
                                 4756   CLINEA 0000H 0000H 081BH 0000H 0000H
00:002C 72 B0                    4757   	l	er0,	-14[fp]
00:002E 74 B2                    4758   	l	er2,	-12[fp]
00:0030 27-F0                    4759   	cmp	er0,	er2
00:0032 FA C1                    4760   	blt	_$L353
                                 4761   
                                 4762   ;;			counter = 0;
                                 4763   CLINEA 0000H 0001H 081EH 0004H 000FH
00:0034 00 E0                    4764   	mov	er0,	#0 
00:0036 F2 B0                    4765   	st	er0,	-14[fp]
                                 4766   
                                 4767   ;;			ClkIn_Stepper_CLK    = 0;	// PB0D - The Electrical angle advances by one for each CLK input
                                 4768   CLINEA 0000H 0001H 0822H 0004H 005EH
00:0038 82-A0 58-F2              4769   	rb	0f258h.0
                                 4770   
                                 4771   ;;			while(counter < WarmUp ) {	// NOP for 250+ Cycles
                                 4772   CLINEA 0000H 0001H 0824H 0004H 0034H
00:003C 02 CE                    4773   	bal	_$L355
00:003E                          4774   _$L357 :
                                 4775   CBLOCK 163 5 2084
                                 4776   
                                 4777   ;;				counter++;
                                 4778   CLINEA 0000H 0000H 0825H 0005H 000EH
00:003E 81 E0                    4779   	add	er0,	#1 
00:0040 F2 B0                    4780   	st	er0,	-14[fp]
                                 4781   CBLOCKEND 163 5 2086
                                 4782   
                                 4783   ;;			}
                                 4784   CLINEA 0000H 0000H 0826H 0004H 0004H
00:0042                          4785   _$L355 :
                                 4786   
                                 4787   ;;			while(counter < WarmUp ) {	// NOP for 250+ Cycles
                                 4788   CLINEA 0000H 0000H 0824H 0000H 0000H
00:0042 74 B2                    4789   	l	er2,	-12[fp]
00:0044 27-F0                    4790   	cmp	er0,	er2
00:0046 FB C1                    4791   	blt	_$L357
                                 4792   
                                 4793   ;;			counter = 0;
                                 4794   CLINEA 0000H 0001H 0827H 0004H 000FH
00:0048 00 E0                    4795   	mov	er0,	#0 
00:004A F2 B0                    4796   	st	er0,	-14[fp]
                                 4797   
                                 4798   ;;			k = (k+250);
                                 4799   CLINEA 0000H 0001H 0829H 0004H 000FH
00:004C 76 B0                    4800   	l	er0,	-10[fp]
00:004E FA 10                    4801   	add	r0,	#0fah
00:0050 00 61                    4802   	addc	r1,	#00h
                                 4803   CBLOCKEND 163 3 2090
                                 4804   
                                 4805   ;;		for (k=0; k<4625; k++) // 5000-375=4625
                                 4806   CLINEA 0000H 0000H 0813H 0003H 0029H
00:0052 81 E0                    4807   	add	er0,	#1 
00:0054 F6 B0                    4808   	st	er0,	-10[fp]
00:0056 11 70                    4809   	cmp	r0,	#011h
00:0058 12 51                    4810   	cmpc	r1,	#012h
00:005A DD C1                    4811   	blt	_$L347
                                 4812   
                                 4813   ;;		ClockingCount = 375;			//Initial ClockingCount value (was 250...now 375)
                                 4814   CLINEA 0000H 0001H 082EH 0003H 004AH
00:005C 77 00                    4815   	mov	r0,	#077h
00:005E 01 01                    4816   	mov	r1,	#01h
00:0060 F0 B0                    4817   	st	er0,	-16[fp]
                                 4818   
                                 4819   ;;		while(Encoder_BUTTON == 1 ){  	//While Not Pushed... 
                                 4820   CLINEA 0000H 0001H 0830H 0003H 0037H
00:0062 00-F0'00-00'             4821   	b	_$L359
00:0066                          4822   _$L361 :
                                 4823   CBLOCK 163 6 2096
                                 4824   
                                 4825   ;;			EncoderDirection();		//direction; //0=NO CHANGE, 1=CW, 2=CCW, 3=Unknown
                                 4826   CLINEA 0000H 0001H 0832H 0004H 004AH
00:0066 01-F0'00-00'             4827   	bl	_EncoderDirection
                                 4828   
                                 4829   ;;			if (direction == 1) 		//If CW...Increase PulseWidth
                                 4830   CLINEA 0000H 0001H 0836H 0004H 0036H
00:006A 12-90 00-00'             4831   	l	er0,	NEAR _direction
00:006E 01 70                    4832   	cmp	r0,	#01h
00:0070 00 51                    4833   	cmpc	r1,	#00h
00:0072 27 C8                    4834   	bne	_$L363
                                 4835   CBLOCK 163 7 2103
                                 4836   
                                 4837   ;;				ClockingCount = (ClockingCount - (ClockingCount * 0.005)); //Increase Speed by Decreasing Clock Pulse width by say 5% - C. Schell 10/23/2013
                                 4838   CLINEA 0000H 0001H 0838H 0005H 0090H
00:0074 70 B0                    4839   	l	er0,	-16[fp]
00:0076 00 E2                    4840   	mov	er2,	#0 
00:0078 6E-F0                    4841   	push	xr0
00:007A FC E1                    4842   	add	sp,	#-4
00:007C 01-F0'00-00'             4843   	bl	__dildu8sw
00:0080 3E-F0                    4844   	pop	qr0
00:0082 EB-F0 F8-FF              4845   	lea	-8[fp]
00:0086 37-90                    4846   	st	qr0,	[ea]
00:0088 7E-F0                    4847   	push	qr0
00:008A 36-90                    4848   	l	qr0,	[ea]
00:008C 7E-F0                    4849   	push	qr0
00:008E 7B 00                    4850   	mov	r0,	#07bh
00:0090 14 01                    4851   	mov	r1,	#014h
00:0092 AE 02                    4852   	mov	r2,	#0aeh
00:0094 47 03                    4853   	mov	r3,	#047h
00:0096 E1 04                    4854   	mov	r4,	#0e1h
00:0098 7A 05                    4855   	mov	r5,	#07ah
00:009A 74 06                    4856   	mov	r6,	#074h
00:009C 3F 07                    4857   	mov	r7,	#03fh
00:009E 7E-F0                    4858   	push	qr0
00:00A0 01-F0'00-00'             4859   	bl	__dmulu8sw
00:00A4 08 E1                    4860   	add	sp,	#8 
00:00A6 01-F0'00-00'             4861   	bl	__dsubu8sw
00:00AA 08 E1                    4862   	add	sp,	#8 
00:00AC 01-F0'00-00'             4863   	bl	__dtolu8sw
00:00B0 04 E1                    4864   	add	sp,	#4 
00:00B2 2E-F0                    4865   	pop	xr0
00:00B4 F0 B0                    4866   	st	er0,	-16[fp]
                                 4867   
                                 4868   ;;				if (ClockingCount < 2)
                                 4869   CLINEA 0000H 0001H 083AH 0005H 001AH
00:00B6 02 70                    4870   	cmp	r0,	#02h
00:00B8 00 51                    4871   	cmpc	r1,	#00h
00:00BA 30 C0                    4872   	bge	_$L370
                                 4873   CBLOCK 163 8 2107
                                 4874   
                                 4875   ;;					ClockingCount = 2;
                                 4876   CLINEA 0000H 0001H 083CH 0006H 0017H
00:00BC 02 E0                    4877   	mov	er0,	#2 
00:00BE F0 B0                    4878   	st	er0,	-16[fp]
                                 4879   CBLOCKEND 163 8 2109
                                 4880   
                                 4881   ;;			else if (direction == 2) 		//If CCW...Decrease Pulse Width
                                 4882   CLINEA 0000H 0001H 0842H 0004H 003DH
00:00C0 2D CE                    4883   	bal	_$L370
00:00C2                          4884   _$L363 :
00:00C2 02 70                    4885   	cmp	r0,	#02h
00:00C4 00 51                    4886   	cmpc	r1,	#00h
00:00C6 2A C8                    4887   	bne	_$L370
                                 4888   CBLOCK 163 9 2115
                                 4889   
                                 4890   ;;				ClockingCount = (ClockingCount + (ClockingCount * 0.005));//Decrease Speed by Increasing Clock Pulse width by say 5% - C. Schell 10/23/2013			
                                 4891   CLINEA 0000H 0001H 0844H 0005H 0092H
00:00C8 70 B0                    4892   	l	er0,	-16[fp]
00:00CA 00 E2                    4893   	mov	er2,	#0 
00:00CC 6E-F0                    4894   	push	xr0
00:00CE FC E1                    4895   	add	sp,	#-4
00:00D0 01-F0'00-00'             4896   	bl	__dildu8sw
00:00D4 3E-F0                    4897   	pop	qr0
00:00D6 EB-F0 F8-FF              4898   	lea	-8[fp]
00:00DA 37-90                    4899   	st	qr0,	[ea]
00:00DC 7E-F0                    4900   	push	qr0
00:00DE 36-90                    4901   	l	qr0,	[ea]
00:00E0 7E-F0                    4902   	push	qr0
00:00E2 7B 00                    4903   	mov	r0,	#07bh
00:00E4 14 01                    4904   	mov	r1,	#014h
00:00E6 AE 02                    4905   	mov	r2,	#0aeh
00:00E8 47 03                    4906   	mov	r3,	#047h
00:00EA E1 04                    4907   	mov	r4,	#0e1h
00:00EC 7A 05                    4908   	mov	r5,	#07ah
00:00EE 74 06                    4909   	mov	r6,	#074h
00:00F0 3F 07                    4910   	mov	r7,	#03fh
00:00F2 7E-F0                    4911   	push	qr0
00:00F4 01-F0'00-00'             4912   	bl	__dmulu8sw
00:00F8 08 E1                    4913   	add	sp,	#8 
00:00FA 01-F0'00-00'             4914   	bl	__daddu8sw
00:00FE 08 E1                    4915   	add	sp,	#8 
00:0100 01-F0'00-00'             4916   	bl	__dtolu8sw
00:0104 04 E1                    4917   	add	sp,	#4 
00:0106 2E-F0                    4918   	pop	xr0
00:0108 F0 B0                    4919   	st	er0,	-16[fp]
                                 4920   
                                 4921   ;;				if (ClockingCount > 65000)
                                 4922   CLINEA 0000H 0001H 0846H 0005H 001EH
00:010A 00 E2                    4923   	mov	er2,	#0 
00:010C E8 70                    4924   	cmp	r0,	#0e8h
00:010E FD 51                    4925   	cmpc	r1,	#0fdh
00:0110 00 52                    4926   	cmpc	r2,	#00h
00:0112 00 53                    4927   	cmpc	r3,	#00h
00:0114 03 C7                    4928   	bles	_$L370
                                 4929   CBLOCK 163 10 2119
                                 4930   
                                 4931   ;;					ClockingCount = 65000;
                                 4932   CLINEA 0000H 0001H 0848H 0006H 001BH
00:0116 E8 00                    4933   	mov	r0,	#0e8h
00:0118 FD 01                    4934   	mov	r1,	#0fdh
00:011A F0 B0                    4935   	st	er0,	-16[fp]
                                 4936   CBLOCKEND 163 10 2121
                                 4937   
                                 4938   ;;				}
                                 4939   CLINEA 0000H 0000H 0849H 0005H 0005H
00:011C                          4940   _$L370 :
                                 4941   CBLOCK 163 11 2126
                                 4942   CBLOCKEND 163 11 2128
                                 4943   CBLOCKEND 163 9 2156
                                 4944   
                                 4945   ;;			ClkIn_Stepper_CLK    = 1;	// PB0D - The Electrical angle advances by one for each CLK input
                                 4946   CLINEA 0000H 0001H 0855H 0004H 005EH
00:011C 80-A0 58-F2              4947   	sb	0f258h.0
                                 4948   CBLOCKEND 163 7 2156
                                 4949   
                                 4950   ;;			while(counter < ClockingCount ) {	// NOP for 250+ Cycles
                                 4951   CLINEA 0000H 0001H 0857H 0004H 003BH
00:0120 02 CE                    4952   	bal	_$L373
00:0122                          4953   _$L375 :
                                 4954   CBLOCK 163 12 2135
                                 4955   
                                 4956   ;;				counter++;
                                 4957   CLINEA 0000H 0000H 0858H 0005H 000EH
00:0122 81 E0                    4958   	add	er0,	#1 
00:0124 F2 B0                    4959   	st	er0,	-14[fp]
                                 4960   CBLOCKEND 163 12 2137
                                 4961   
                                 4962   ;;			}
                                 4963   CLINEA 0000H 0000H 0859H 0004H 0004H
00:0126                          4964   _$L373 :
                                 4965   
                                 4966   ;;			while(counter < ClockingCount ) {	// NOP for 250+ Cycles
                                 4967   CLINEA 0000H 0000H 0857H 0000H 0000H
00:0126 72 B0                    4968   	l	er0,	-14[fp]
00:0128 70 B2                    4969   	l	er2,	-16[fp]
00:012A 27-F0                    4970   	cmp	er0,	er2
00:012C FA C1                    4971   	blt	_$L375
                                 4972   
                                 4973   ;;			counter = 0;
                                 4974   CLINEA 0000H 0001H 085AH 0004H 000FH
00:012E 00 E0                    4975   	mov	er0,	#0 
00:0130 F2 B0                    4976   	st	er0,	-14[fp]
                                 4977   
                                 4978   ;;			ClkIn_Stepper_CLK    = 0;	// PB0D - The Electrical angle advances by one for each CLK input
                                 4979   CLINEA 0000H 0001H 085EH 0004H 005EH
00:0132 82-A0 58-F2              4980   	rb	0f258h.0
                                 4981   
                                 4982   ;;			while(counter < ClockingCount ) {	// NOP for 250+ Cycles
                                 4983   CLINEA 0000H 0001H 0860H 0004H 003BH
00:0136 02 CE                    4984   	bal	_$L377
00:0138                          4985   _$L379 :
                                 4986   CBLOCK 163 13 2144
                                 4987   
                                 4988   ;;				counter++;
                                 4989   CLINEA 0000H 0000H 0861H 0005H 000EH
00:0138 81 E0                    4990   	add	er0,	#1 
00:013A F2 B0                    4991   	st	er0,	-14[fp]
                                 4992   CBLOCKEND 163 13 2146
                                 4993   
                                 4994   ;;			}
                                 4995   CLINEA 0000H 0000H 0862H 0004H 0004H
00:013C                          4996   _$L377 :
                                 4997   
                                 4998   ;;			while(counter < ClockingCount ) {	// NOP for 250+ Cycles
                                 4999   CLINEA 0000H 0000H 0860H 0000H 0000H
00:013C 70 B2                    5000   	l	er2,	-16[fp]
00:013E 27-F0                    5001   	cmp	er0,	er2
00:0140 FB C1                    5002   	blt	_$L379
                                 5003   
                                 5004   ;;			counter = 0;
                                 5005   CLINEA 0000H 0001H 0863H 0004H 000FH
00:0142 00 E0                    5006   	mov	er0,	#0 
00:0144 F2 B0                    5007   	st	er0,	-14[fp]
                                 5008   
                                 5009   ;;			main_clrWDT();	//ADDED 6-16-2014 @ 18:15 to prevent WDT Event during Continuous Mode Operation
                                 5010   CLINEA 0000H 0001H 0865H 0004H 0061H
00:0146 01-F0'00-00'             5011   	bl	_main_clrWDT
                                 5012   CBLOCKEND 163 6 2150
                                 5013   
                                 5014   ;;		}//wend
                                 5015   CLINEA 0000H 0000H 0866H 0003H 0009H
00:014A                          5016   _$L359 :
                                 5017   
                                 5018   ;;		while(Encoder_BUTTON == 1 ){  	//While Not Pushed... 
                                 5019   CLINEA 0000H 0000H 0830H 0000H 0000H
00:014A A1-A0 50-F2              5020   	tb	0f250h.2
00:014E 02 C9                    5021   	beq	_$M127
00:0150 00-F0'00-00'             5022   	b	_$L361
00:0154                          5023   _$M127 :
                                 5024   
                                 5025   ;;	ClkIn_Stepper_ENABLE = 0;		// PB4D - 1=>ENABLED; 0=>DISABLED
                                 5026   CLINEA 0000H 0001H 0869H 0002H 003DH
00:0154 C2-A0 58-F2              5027   	rb	0f258h.4
                                 5028   
                                 5029   ;;	ClkIn_Stepper_CLK    = 0;		// PB0D - The Electrical angle advances by one for each CLK input
                                 5030   CLINEA 0000H 0001H 086AH 0002H 005DH
00:0158 82-A0 58-F2              5031   	rb	0f258h.0
                                 5032   CBLOCKEND 163 2 2156
                                 5033   
                                 5034   ;;} //END Continuous Mode  Function
                                 5035   CLINEA 0000H 0001H 086CH 0001H 0021H
00:015C 2E-F4                    5036   	pop	xr4
00:015E EA-A1                    5037   	mov	sp,	fp
00:0160 1E-FE                    5038   	pop	fp
00:0162 8E-F2                    5039   	pop	pc
                                 5040   CBLOCKEND 163 1 2156
                                 5041   CFUNCTIONEND 163
                                 5042   
                                 5043   
  --------------------------     5044   	rseg $$MachineStateAction$main
                                 5045   CFUNCTION 158
                                 5046   
00:0000                          5047   _MachineStateAction	:
                                 5048   CBLOCK 158 1 2166
                                 5049   
                                 5050   ;;void MachineStateAction (void){
                                 5051   CLINEA 0000H 0001H 0876H 0001H 001FH
00:0000 CE-F8                    5052   	push	lr
                                 5053   CBLOCK 158 2 2166
                                 5054   CRET 0000H
                                 5055   
                                 5056   ;;	switch(mode) 
                                 5057   CLINEA 0000H 0001H 087FH 0002H 000EH
00:0002 12-90 00-00'             5058   	l	er0,	NEAR _mode
                                 5059   CBLOCK 158 3 2176
00:0006 0F 70                    5060   	cmp	r0,	#0fh
00:0008 00 51                    5061   	cmpc	r1,	#00h
00:000A 02 C3                    5062   	ble	_$M130
00:000C 00-F0'00-00'             5063   	b	_$L387
00:0010                          5064   _$M130 :
00:0010 1B-91                    5065   	sllc	r1,	#01h
00:0012 1A-90                    5066   	sll	r0,	#01h
00:0014 08-A0 00-00'             5067   	l	er0,	NEAR _$M129[er0]
00:0018 02-F0                    5068   	b	er0
                                 5069   
                                 5070   ;;	}//End Select...
00:001A                          5071   _$L386 :
                                 5072   CBLOCKEND 158 2 2265
                                 5073   
                                 5074   ;;} //END MachineStateAction Function
                                 5075   CLINEA 0000H 0001H 08D9H 0001H 0023H
00:001A 8E-F2                    5076   	pop	pc
                                 5077   
                                 5078   ;;	case 0:			// 0=PowerOn/RESET
                                 5079   CLINEA 0000H 0001H 0881H 0002H 001DH
00:001C                          5080   _$S388 :
                                 5081   
                                 5082   ;;		ALL_LEDs_OFF();
                                 5083   CLINEA 0000H 0001H 0882H 0003H 0011H
00:001C 01-F0'00-00'             5084   	bl	_ALL_LEDs_OFF
                                 5085   
                                 5086   ;;		break;
                                 5087   CLINEA 0000H 0001H 0883H 0003H 0008H
00:0020 FC CE                    5088   	bal	_$L386
                                 5089   
                                 5090   ;;	case 1: 			// 1=STEP MODE-No LEDs
                                 5091   CLINEA 0000H 0001H 0885H 0002H 0022H
00:0022                          5092   _$S389 :
                                 5093   
                                 5094   ;;		LEDStateA();
                                 5095   CLINEA 0000H 0001H 0886H 0003H 000EH
00:0022 01-F0'00-00'             5096   	bl	_LEDStateA
                                 5097   
                                 5098   ;;		break;
                                 5099   CLINEA 0000H 0001H 0887H 0003H 0008H
00:0026 F9 CE                    5100   	bal	_$L386
                                 5101   
                                 5102   ;;	case 2: 			// 2=STEP MODE-FULL STEP
                                 5103   CLINEA 0000H 0001H 0889H 0002H 0024H
00:0028                          5104   _$S390 :
                                 5105   
                                 5106   ;;		LEDStateA1();
                                 5107   CLINEA 0000H 0001H 088AH 0003H 000FH
00:0028 01-F0'00-00'             5108   	bl	_LEDStateA1
                                 5109   
                                 5110   ;;			ClkIn_Stepper_CW_CCW = 0;		// PB1D - 0=CW; 1=CCW 
                                 5111   CLINEA 0000H 0001H 088BH 0004H 0034H
00:002C 92-A0 58-F2              5112   	rb	0f258h.1
                                 5113   
                                 5114   ;;			ClkIn_Stepper_MODE_0 = 0;		// PB2D - 00=>FULL STEP; 10=>Half_A; 01=>Half_B; 11=>Quarter Step
                                 5115   CLINEA 0000H 0001H 088CH 0004H 005FH
00:0030 A2-A0 58-F2              5116   	rb	0f258h.2
                                 5117   
                                 5118   ;;			ClkIn_Stepper_MODE_1 = 0;		// PB3D - ...  
                                 5119   CLINEA 0000H 0001H 088DH 0004H 002DH
00:0034 B2-A0 58-F2              5120   	rb	0f258h.3
                                 5121   
                                 5122   ;;		break;
                                 5123   CLINEA 0000H 0001H 088EH 0003H 0008H
00:0038 F0 CE                    5124   	bal	_$L386
                                 5125   
                                 5126   ;;	case 3: 			// 3=STEP MODE-HALF STEP A
                                 5127   CLINEA 0000H 0001H 0890H 0002H 0026H
00:003A                          5128   _$S391 :
                                 5129   
                                 5130   ;;		LEDStateA2();
                                 5131   CLINEA 0000H 0001H 0891H 0003H 000FH
00:003A 01-F0'00-00'             5132   	bl	_LEDStateA2
                                 5133   
                                 5134   ;;			ClkIn_Stepper_CW_CCW = 0;		// PB1D - 0=CW; 1=CCW 
                                 5135   CLINEA 0000H 0001H 0892H 0004H 0034H
00:003E 92-A0 58-F2              5136   	rb	0f258h.1
                                 5137   
                                 5138   ;;			ClkIn_Stepper_MODE_0 = 1;		// PB2D - 00=>FULL STEP; 10=>Half_A; 01=>Half_B; 11=>Quarter Step
                                 5139   CLINEA 0000H 0001H 0893H 0004H 005FH
00:0042 A0-A0 58-F2              5140   	sb	0f258h.2
                                 5141   
                                 5142   ;;			ClkIn_Stepper_MODE_1 = 0;		// PB3D - ...  
                                 5143   CLINEA 0000H 0001H 0894H 0004H 002DH
00:0046 B2-A0 58-F2              5144   	rb	0f258h.3
                                 5145   
                                 5146   ;;		break;
                                 5147   CLINEA 0000H 0001H 0895H 0003H 0008H
00:004A E7 CE                    5148   	bal	_$L386
                                 5149   
                                 5150   ;;	case 4:				// 4=STEP MODE-HALF STEP B
                                 5151   CLINEA 0000H 0001H 0897H 0002H 0026H
00:004C                          5152   _$S392 :
                                 5153   
                                 5154   ;;		LEDStateA3();
                                 5155   CLINEA 0000H 0001H 0898H 0003H 000FH
00:004C 01-F0'00-00'             5156   	bl	_LEDStateA3
                                 5157   
                                 5158   ;;			ClkIn_Stepper_CW_CCW = 0;		// PB1D - 0=CW; 1=CCW 
                                 5159   CLINEA 0000H 0001H 0899H 0004H 0034H
00:0050 92-A0 58-F2              5160   	rb	0f258h.1
                                 5161   
                                 5162   ;;			ClkIn_Stepper_MODE_0 = 0;		// PB2D - 00=>FULL STEP; 10=>Half_A; 01=>Half_B; 11=>Quarter Step
                                 5163   CLINEA 0000H 0001H 089AH 0004H 005FH
00:0054 A2-A0 58-F2              5164   	rb	0f258h.2
                                 5165   
                                 5166   ;;			ClkIn_Stepper_MODE_1 = 1;		// PB3D - ...  
                                 5167   CLINEA 0000H 0001H 089BH 0004H 002DH
00:0058 B0-A0 58-F2              5168   	sb	0f258h.3
                                 5169   
                                 5170   ;;		break;	
                                 5171   CLINEA 0000H 0001H 089CH 0003H 0009H
00:005C DE CE                    5172   	bal	_$L386
                                 5173   
                                 5174   ;;	case 5:				// 5=STEP MODE-QUARTER STEP
                                 5175   CLINEA 0000H 0001H 089EH 0002H 0027H
00:005E                          5176   _$S393 :
                                 5177   
                                 5178   ;;		LEDStateA4();
                                 5179   CLINEA 0000H 0001H 089FH 0003H 000FH
00:005E 01-F0'00-00'             5180   	bl	_LEDStateA4
                                 5181   
                                 5182   ;;			ClkIn_Stepper_CW_CCW = 0;		// PB1D - 0=CW; 1=CCW 
                                 5183   CLINEA 0000H 0001H 08A0H 0004H 0034H
00:0062 92-A0 58-F2              5184   	rb	0f258h.1
                                 5185   
                                 5186   ;;			ClkIn_Stepper_MODE_0 = 1;		// PB2D - 00=>FULL STEP; 10=>Half_A; 01=>Half_B; 11=>Quarter Step
                                 5187   CLINEA 0000H 0001H 08A1H 0004H 005FH
00:0066 A0-A0 58-F2              5188   	sb	0f258h.2
                                 5189   
                                 5190   ;;			ClkIn_Stepper_MODE_1 = 1;		// PB3D - ...  
                                 5191   CLINEA 0000H 0001H 08A2H 0004H 002DH
00:006A B0-A0 58-F2              5192   	sb	0f258h.3
                                 5193   
                                 5194   ;;		break;	
                                 5195   CLINEA 0000H 0001H 08A3H 0003H 0009H
00:006E D5 CE                    5196   	bal	_$L386
                                 5197   
                                 5198   ;;	case 6:				// 6=DRIVER_EN RED
                                 5199   CLINEA 0000H 0001H 08A5H 0002H 001EH
00:0070                          5200   _$S394 :
                                 5201   
                                 5202   ;;		LEDStateB();
                                 5203   CLINEA 0000H 0001H 08A6H 0003H 000EH
00:0070 01-F0'00-00'             5204   	bl	_LEDStateB
                                 5205   
                                 5206   ;;		ClkIn_Stepper_ENABLE = 0;		// PB4D - 0=>DISABLED Controller
                                 5207   CLINEA 0000H 0001H 08A7H 0003H 003DH
00:0074 C2-A0 58-F2              5208   	rb	0f258h.4
                                 5209   
                                 5210   ;;		break;	
                                 5211   CLINEA 0000H 0001H 08A8H 0003H 0009H
00:0078 D0 CE                    5212   	bal	_$L386
                                 5213   
                                 5214   ;;	case 7:				// 7=DRIVER_EN GREEN
                                 5215   CLINEA 0000H 0001H 08AAH 0002H 0020H
00:007A                          5216   _$S395 :
                                 5217   
                                 5218   ;;		LEDStateC();
                                 5219   CLINEA 0000H 0001H 08ABH 0003H 000EH
00:007A 01-F0'00-00'             5220   	bl	_LEDStateC
                                 5221   
                                 5222   ;;		ClkIn_Stepper_ENABLE = 0;		// PB4D - 0=>DISABLED Controller
                                 5223   CLINEA 0000H 0001H 08ACH 0003H 003DH
00:007E C2-A0 58-F2              5224   	rb	0f258h.4
                                 5225   
                                 5226   ;;		break;	
                                 5227   CLINEA 0000H 0001H 08ADH 0003H 0009H
00:0082 CB CE                    5228   	bal	_$L386
                                 5229   
                                 5230   ;;	case 8:			// 8=SINGLE STEP LED ON				
                                 5231   CLINEA 0000H 0001H 08AFH 0002H 0026H
00:0084                          5232   _$S396 :
                                 5233   
                                 5234   ;;		LEDStateC1();
                                 5235   CLINEA 0000H 0001H 08B0H 0003H 000FH
00:0084 01-F0'00-00'             5236   	bl	_LEDStateC1
                                 5237   
                                 5238   ;;		break;	
                                 5239   CLINEA 0000H 0001H 08B1H 0003H 0009H
00:0088 C8 CE                    5240   	bal	_$L386
                                 5241   
                                 5242   ;;	case 9:			// 9=SINGLE-STEP-CW
                                 5243   CLINEA 0000H 0001H 08B3H 0002H 001EH
00:008A                          5244   _$S397 :
                                 5245   
                                 5246   ;;		LEDStateC1();
                                 5247   CLINEA 0000H 0001H 08B4H 0003H 000FH
00:008A 01-F0'00-00'             5248   	bl	_LEDStateC1
                                 5249   
                                 5250   ;;		StepCW(); 	//TESTING ONLY...Commented out 6/14/2014!!!!!!!!!!!!!!!!!!!!!!
                                 5251   CLINEA 0000H 0001H 08B5H 0003H 004BH
00:008E 01-F0'00-00'             5252   	bl	_StepCW
                                 5253   
                                 5254   ;;		break;	
                                 5255   CLINEA 0000H 0001H 08B6H 0003H 0009H
00:0092 C3 CE                    5256   	bal	_$L386
                                 5257   
                                 5258   ;;	case 10:			// 10=SINGLE-STEP-CCW
                                 5259   CLINEA 0000H 0001H 08B8H 0002H 0021H
00:0094                          5260   _$S398 :
                                 5261   
                                 5262   ;;		LEDStateC1();
                                 5263   CLINEA 0000H 0001H 08B9H 0003H 000FH
00:0094 01-F0'00-00'             5264   	bl	_LEDStateC1
                                 5265   
                                 5266   ;;		StepCCW();  //TESTING ONLY...Commented out 6/14/2014!!!!!!!!!!!!!!!!!!!!!!
                                 5267   CLINEA 0000H 0001H 08BAH 0003H 004CH
00:0098 01-F0'00-00'             5268   	bl	_StepCCW
                                 5269   
                                 5270   ;;		break;	
                                 5271   CLINEA 0000H 0001H 08BBH 0003H 0009H
00:009C 00-F0'00-00'             5272   	b	_$L386
                                 5273   
                                 5274   ;;	case 11:			// 11=CONTINUOUS LED ON
                                 5275   CLINEA 0000H 0001H 08BDH 0002H 0023H
00:00A0                          5276   _$S399 :
                                 5277   
                                 5278   ;;		ClkIn_Stepper_ENABLE = 0;		// PB4D - 0=>DISABLED Controller
                                 5279   CLINEA 0000H 0001H 08BEH 0003H 003DH
00:00A0 C2-A0 58-F2              5280   	rb	0f258h.4
                                 5281   
                                 5282   ;;		LEDStateC2();
                                 5283   CLINEA 0000H 0001H 08BFH 0003H 000FH
00:00A4 01-F0'00-00'             5284   	bl	_LEDStateC2
                                 5285   
                                 5286   ;;		break;	
                                 5287   CLINEA 0000H 0001H 08C0H 0003H 0009H
00:00A8 00-F0'00-00'             5288   	b	_$L386
                                 5289   
                                 5290   ;;	case 12:			// 12=CONTINUOUS-INC FREQ CW
                                 5291   CLINEA 0000H 0001H 08C2H 0002H 0028H
00:00AC                          5292   _$S400 :
                                 5293   
                                 5294   ;;		LEDStateC2();
                                 5295   CLINEA 0000H 0001H 08C3H 0003H 000FH
00:00AC 01-F0'00-00'             5296   	bl	_LEDStateC2
                                 5297   
                                 5298   ;;		break;	
                                 5299   CLINEA 0000H 0001H 08C4H 0003H 0009H
00:00B0 00-F0'00-00'             5300   	b	_$L386
                                 5301   
                                 5302   ;;	case 13:			// 13=CONTINUOUS-INC FREQ CCW 
                                 5303   CLINEA 0000H 0001H 08C6H 0002H 002AH
00:00B4                          5304   _$S401 :
                                 5305   
                                 5306   ;;		LEDStateC2();
                                 5307   CLINEA 0000H 0001H 08C7H 0003H 000FH
00:00B4 01-F0'00-00'             5308   	bl	_LEDStateC2
                                 5309   
                                 5310   ;;		break;
                                 5311   CLINEA 0000H 0001H 08C8H 0003H 0008H
00:00B8 00-F0'00-00'             5312   	b	_$L386
                                 5313   
                                 5314   ;;	case 14:			// 14=PASS THRU RED
                                 5315   CLINEA 0000H 0001H 08CAH 0002H 001FH
00:00BC                          5316   _$S402 :
                                 5317   
                                 5318   ;;		LEDStateD();
                                 5319   CLINEA 0000H 0001H 08CBH 0003H 000EH
00:00BC 01-F0'00-00'             5320   	bl	_LEDStateD
                                 5321   
                                 5322   ;;		break;	
                                 5323   CLINEA 0000H 0001H 08CCH 0003H 0009H
00:00C0 00-F0'00-00'             5324   	b	_$L386
                                 5325   
                                 5326   ;;	case 15:			// 15=PASS THRU GREEN
                                 5327   CLINEA 0000H 0001H 08CEH 0002H 0021H
00:00C4                          5328   _$S403 :
                                 5329   
                                 5330   ;;		LEDStateE();
                                 5331   CLINEA 0000H 0001H 08CFH 0003H 000EH
00:00C4 01-F0'00-00'             5332   	bl	_LEDStateE
                                 5333   
                                 5334   ;;		break;
                                 5335   CLINEA 0000H 0001H 08D0H 0003H 0008H
00:00C8 00-F0'00-00'             5336   	b	_$L386
                                 5337   
                                 5338   ;;	default:			// ERROR
                                 5339   CLINEA 0000H 0001H 08D2H 0002H 0014H
00:00CC                          5340   _$L387 :
                                 5341   
                                 5342   ;;		ALL_LEDs_OFF();	
                                 5343   CLINEA 0000H 0001H 08D3H 0003H 0012H
00:00CC 01-F0'00-00'             5344   	bl	_ALL_LEDs_OFF
                                 5345   
                                 5346   ;;		break;
                                 5347   CLINEA 0000H 0001H 08D5H 0003H 0008H
00:00D0 00-F0'00-00'             5348   	b	_$L386
                                 5349   CBLOCKEND 158 3 2262
                                 5350   CBLOCKEND 158 1 2265
                                 5351   CFUNCTIONEND 158
                                 5352   
                                 5353   
  --------------------------     5354   	rseg $$MotorRampUp$main
                                 5355   CFUNCTION 164
                                 5356   
00:0000                          5357   _MotorRampUp	:
                                 5358   CBLOCK 164 1 2272
                                 5359   
                                 5360   ;;void MotorRampUp (void) {
                                 5361   CLINEA 0000H 0001H 08E0H 0001H 0019H
00:0000 5E-FE                    5362   	push	fp
00:0002 1A-AE                    5363   	mov	fp,	sp
00:0004 FA E1                    5364   	add	sp,	#-06
                                 5365   CBLOCK 164 2 2272
                                 5366   CLOCAL 42H 0002H 0002H 0002H "k" 02H 00H 01H
                                 5367   CLOCAL 42H 0002H 0004H 0002H "WarmUp" 02H 00H 01H
                                 5368   CLOCAL 42H 0002H 0006H 0002H "counter" 02H 00H 01H
                                 5369   
                                 5370   ;;	for (k=0; k<4625; k++) // 5000-375=4625
                                 5371   CLINEA 0000H 0001H 08E4H 0002H 0028H
00:0006 00 E0                    5372   	mov	er0,	#0 
00:0008 FE B0                    5373   	st	er0,	-2[fp]
00:000A                          5374   _$L407 :
                                 5375   CBLOCK 164 3 2277
                                 5376   
                                 5377   ;;		WarmUp = (5000 - k);
                                 5378   CLINEA 0000H 0001H 08E7H 0003H 0016H
00:000A 88 00                    5379   	mov	r0,	#088h
00:000C 13 01                    5380   	mov	r1,	#013h
00:000E 7E B2                    5381   	l	er2,	-2[fp]
00:0010 28-80                    5382   	sub	r0,	r2
00:0012 39-81                    5383   	subc	r1,	r3
00:0014 FC B0                    5384   	st	er0,	-4[fp]
                                 5385   
                                 5386   ;;		ClkIn_Stepper_CLK    = 1;	// PB0D - The Electrical angle advances by one for each CLK input
                                 5387   CLINEA 0000H 0001H 08EAH 0003H 005DH
00:0016 80-A0 58-F2              5388   	sb	0f258h.0
                                 5389   
                                 5390   ;;		while(counter < WarmUp ) {	// NOP for ~375 Cycles
                                 5391   CLINEA 0000H 0001H 08ECH 0003H 0033H
00:001A 02 CE                    5392   	bal	_$L411
00:001C                          5393   _$L413 :
                                 5394   CBLOCK 164 4 2284
                                 5395   
                                 5396   ;;			counter++;
                                 5397   CLINEA 0000H 0000H 08EDH 0004H 000DH
00:001C 81 E0                    5398   	add	er0,	#1 
00:001E FA B0                    5399   	st	er0,	-6[fp]
                                 5400   CBLOCKEND 164 4 2286
                                 5401   
                                 5402   ;;		}
                                 5403   CLINEA 0000H 0000H 08EEH 0003H 0003H
00:0020                          5404   _$L411 :
                                 5405   
                                 5406   ;;		while(counter < WarmUp ) {	// NOP for ~375 Cycles
                                 5407   CLINEA 0000H 0000H 08ECH 0000H 0000H
00:0020 7A B0                    5408   	l	er0,	-6[fp]
00:0022 7C B2                    5409   	l	er2,	-4[fp]
00:0024 27-F0                    5410   	cmp	er0,	er2
00:0026 FA C1                    5411   	blt	_$L413
                                 5412   
                                 5413   ;;		counter = 0;
                                 5414   CLINEA 0000H 0001H 08EFH 0003H 000EH
00:0028 00 E0                    5415   	mov	er0,	#0 
00:002A FA B0                    5416   	st	er0,	-6[fp]
                                 5417   
                                 5418   ;;		ClkIn_Stepper_CLK    = 0;	// PB0D - The Electrical angle advances by one for each CLK input
                                 5419   CLINEA 0000H 0001H 08F3H 0003H 005DH
00:002C 82-A0 58-F2              5420   	rb	0f258h.0
                                 5421   
                                 5422   ;;		while(counter < WarmUp ) {	// NOP for ~375 Cycles
                                 5423   CLINEA 0000H 0001H 08F5H 0003H 0033H
00:0030 02 CE                    5424   	bal	_$L415
00:0032                          5425   _$L417 :
                                 5426   CBLOCK 164 5 2293
                                 5427   
                                 5428   ;;			counter++;
                                 5429   CLINEA 0000H 0000H 08F6H 0004H 000DH
00:0032 81 E0                    5430   	add	er0,	#1 
00:0034 FA B0                    5431   	st	er0,	-6[fp]
                                 5432   CBLOCKEND 164 5 2295
                                 5433   
                                 5434   ;;		}
                                 5435   CLINEA 0000H 0000H 08F7H 0003H 0003H
00:0036                          5436   _$L415 :
                                 5437   
                                 5438   ;;		while(counter < WarmUp ) {	// NOP for ~375 Cycles
                                 5439   CLINEA 0000H 0000H 08F5H 0000H 0000H
00:0036 7C B2                    5440   	l	er2,	-4[fp]
00:0038 27-F0                    5441   	cmp	er0,	er2
00:003A FB C1                    5442   	blt	_$L417
                                 5443   
                                 5444   ;;		counter = 0;
                                 5445   CLINEA 0000H 0001H 08F8H 0003H 000EH
00:003C 00 E0                    5446   	mov	er0,	#0 
00:003E FA B0                    5447   	st	er0,	-6[fp]
                                 5448   
                                 5449   ;;		k = (k+250);
                                 5450   CLINEA 0000H 0001H 08FAH 0003H 000EH
00:0040 7E B0                    5451   	l	er0,	-2[fp]
00:0042 FA 10                    5452   	add	r0,	#0fah
00:0044 00 61                    5453   	addc	r1,	#00h
                                 5454   CBLOCKEND 164 3 2299
                                 5455   
                                 5456   ;;	for (k=0; k<4625; k++) // 5000-375=4625
                                 5457   CLINEA 0000H 0000H 08E4H 0002H 0028H
00:0046 81 E0                    5458   	add	er0,	#1 
00:0048 FE B0                    5459   	st	er0,	-2[fp]
00:004A 11 70                    5460   	cmp	r0,	#011h
00:004C 12 51                    5461   	cmpc	r1,	#012h
00:004E DD C1                    5462   	blt	_$L407
                                 5463   CBLOCKEND 164 2 2300
                                 5464   
                                 5465   ;;}
                                 5466   CLINEA 0000H 0001H 08FCH 0001H 0001H
00:0050 EA-A1                    5467   	mov	sp,	fp
00:0052 1E-FE                    5468   	pop	fp
00:0054 1F-FE                    5469   	rt
                                 5470   CBLOCKEND 164 1 2300
                                 5471   CFUNCTIONEND 164
                                 5472   
                                 5473   	public _AbsolutePosition
                                 5474   	public _Set_LEDs
                                 5475   	public _main_clrWDT
                                 5476   	public _button_flag
                                 5477   	public _NOP_ClkStep
                                 5478   	public _StepCW
                                 5479   	public _EnableController
                                 5480   	public _EncoderPosition
                                 5481   	public _EncoderPostion
                                 5482   	public _PortA_Digital_Inputs
                                 5483   	public _main
                                 5484   	public _NOP_Long
                                 5485   	public _previous_encoder_position
                                 5486   	public _ZeroFrequency
                                 5487   	public _previousDirection
                                 5488   	public _ContinuousMode
                                 5489   	public _mode
                                 5490   	public _NOPyyy
                                 5491   	public _NOPxxx
                                 5492   	public _direction
                                 5493   	public _NOP10uS
                                 5494   	public _EncoderDirection
                                 5495   	public _Frequency
                                 5496   	public _ALL_LEDs_ON
                                 5497   	public _LEDStateA4
                                 5498   	public _LEDStateC1
                                 5499   	public _LEDStateC2
                                 5500   	public _LEDStateA1
                                 5501   	public _LEDStateA2
                                 5502   	public _LEDStateA3
                                 5503   	public _PortB_Low
                                 5504   	public _MachineStateAction
                                 5505   	public _ALL_LEDs_OFF
                                 5506   	public _ButtonKnobCheck
                                 5507   	public _StepCCW
                                 5508   	public _MotorRampUp
                                 5509   	public _PortA_Low
                                 5510   	public _DisableController
                                 5511   	public _analog_comparator
                                 5512   	public _LEDStateC1A
                                 5513   	public _LEDStateC2A
                                 5514   	public _LEDStateA
                                 5515   	public _LEDStateB
                                 5516   	public _LEDStateC
                                 5517   	public _LEDStateD
                                 5518   	public _LEDStateE
                                 5519   	public _PinB0_PWM
                                 5520   	public _myClockingPulse
                                 5521   	extrn code : $$start_up
                                 5522   
  --------------------------     5523   	cseg #00h at 02h
00:0002 00-00'                   5524   	dw	$$start_up
                                 5525   
  --------------------------     5526   	rseg $$NTABButtonKnobCheck$main
00:0000                          5527   _$M59 :
00:0000 00-00'                   5528   	dw	_$S78
00:0002 00-00'                   5529   	dw	_$S79
00:0004 00-00'                   5530   	dw	_$S80
00:0006 00-00'                   5531   	dw	_$S81
00:0008 00-00'                   5532   	dw	_$S82
00:000A 00-00'                   5533   	dw	_$S83
00:000C 00-00'                   5534   	dw	_$S84
00:000E 00-00'                   5535   	dw	_$S85
00:0010 00-00'                   5536   	dw	_$S86
00:0012 00-00'                   5537   	dw	_$S87
00:0014 00-00'                   5538   	dw	_$S88
00:0016 00-00'                   5539   	dw	_$S89
00:0018 00-00'                   5540   	dw	_$S90
00:001A 00-00'                   5541   	dw	_$S91
00:001C 00-00'                   5542   	dw	_$S92
00:001E 00-00'                   5543   	dw	_$S93
                                 5544   
00:0020                          5545   _$M60 :
00:0020 00-00'                   5546   	dw	_$S101
00:0022 00-00'                   5547   	dw	_$S102
00:0024 00-00'                   5548   	dw	_$S118
00:0026 00-00'                   5549   	dw	_$S134
00:0028 00-00'                   5550   	dw	_$S150
00:002A 00-00'                   5551   	dw	_$S166
00:002C 00-00'                   5552   	dw	_$S182
00:002E 00-00'                   5553   	dw	_$S183
00:0030 00-00'                   5554   	dw	_$S184
00:0032 00-00'                   5555   	dw	_$S189
00:0034 00-00'                   5556   	dw	_$S197
00:0036 00-00'                   5557   	dw	_$S205
00:0038 00-00'                   5558   	dw	_$S213
00:003A 00-00'                   5559   	dw	_$S221
00:003C 00-00'                   5560   	dw	_$S229
00:003E 00-00'                   5561   	dw	_$S237
                                 5562   
  --------------------------     5563   	rseg $$NTABMachineStateAction$main
00:0000                          5564   _$M129 :
00:0000 00-00'                   5565   	dw	_$S388
00:0002 00-00'                   5566   	dw	_$S389
00:0004 00-00'                   5567   	dw	_$S390
00:0006 00-00'                   5568   	dw	_$S391
00:0008 00-00'                   5569   	dw	_$S392
00:000A 00-00'                   5570   	dw	_$S393
00:000C 00-00'                   5571   	dw	_$S394
00:000E 00-00'                   5572   	dw	_$S395
00:0010 00-00'                   5573   	dw	_$S396
00:0012 00-00'                   5574   	dw	_$S397
00:0014 00-00'                   5575   	dw	_$S398
00:0016 00-00'                   5576   	dw	_$S399
00:0018 00-00'                   5577   	dw	_$S400
00:001A 00-00'                   5578   	dw	_$S401
00:001C 00-00'                   5579   	dw	_$S402
00:001E 00-00'                   5580   	dw	_$S403
                                 5581   
  --------------------------     5582   	rseg $$NINITTAB
??:0000 00-00                    5583   	dw	00h
??:0002 00-00                    5584   	dw	00h
??:0004 00-00                    5585   	dw	00h
??:0006 00-00                    5586   	dw	00h
??:0008 00-00                    5587   	dw	00h
??:000A 00-00                    5588   	dw	00h
??:000C 00-00                    5589   	dw	00h
??:000E 00-00                    5590   	dw	00h
??:0010 A0-0F                    5591   	dw	0fa0h
??:0012 A0-0F                    5592   	dw	0fa0h
                                 5593   
  --------------------------     5594   	rseg $$NINITVAR
00:0000                          5595   _mode :
00:0000                          5596   	ds	02h
00:0002                          5597   _EncoderPosition :
00:0002                          5598   	ds	02h
00:0004                          5599   _previous_encoder_position :
00:0004                          5600   	ds	02h
00:0006                          5601   _button_flag :
00:0006                          5602   	ds	02h
00:0008                          5603   _AbsolutePosition :
00:0008                          5604   	ds	02h
00:000A                          5605   _direction :
00:000A                          5606   	ds	02h
00:000C                          5607   _previousDirection :
00:000C                          5608   	ds	02h
00:000E                          5609   _Frequency :
00:000E                          5610   	ds	02h
00:0010                          5611   _CWClkPlseWidth :
00:0010                          5612   	ds	02h
00:0012                          5613   _CCWClkPlseWidth :
00:0012                          5614   	ds	02h
                                 5615   
  --------------------------     5616   	rseg $$NVARmain
00:0000                          5617   _FULL_STEP_LED :
00:0000                          5618   	ds	01h
00:0001                          5619   _DRIVER_EN_RED_LED :
00:0001                          5620   	ds	01h
00:0002                          5621   _HALF_STEP_A_LED :
00:0002                          5622   	ds	01h
00:0003                          5623   _CONTINUOUS_LED :
00:0003                          5624   	ds	01h
00:0004                          5625   _HALF_STEP_B_LED :
00:0004                          5626   	ds	01h
00:0005                          5627   _STEP_MODE_LED :
00:0005                          5628   	ds	01h
00:0006                          5629   _PASS_THRU_RED_LED :
00:0006                          5630   	ds	01h
00:0007                          5631   _DRIVER_EN_GREEN_LED :
00:0007                          5632   	ds	01h
00:0008                          5633   _SINGLE_LED :
00:0008                          5634   	ds	01h
00:0009                          5635   _PASS_THRU_GREEN_LED :
00:0009                          5636   	ds	01h
00:000A                          5637   _QUARTER_STEP_LED :
00:000A                          5638   	ds	01h
00:000B                          5639   _BUFFER_OE_PIN :
00:000B                          5640   	ds	01h
                                 5641   	extrn code : __daddu8sw
                                 5642   	extrn code : __dsubu8sw
                                 5643   	extrn code : __dmulu8sw
                                 5644   	extrn code : __dildu8sw
                                 5645   	extrn code : __dtolu8sw
                                 5646   
                                 5647   	end



  Target       : ML610102 (nX-U8/100)
  Memory Model : SMALL
  Data   Model : NEAR
  ROM WINDOW   : (not specified)
  Internal RAM : E000H to E0FFH

  Errors   : 0
  Warnings : 0  (/Wrpeast)
  Lines    : 5647
